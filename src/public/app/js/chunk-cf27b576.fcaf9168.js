(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-cf27b576"],{"0171":function(t,e,s){"use strict";var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"hack_char_out"},[e("div",{staticClass:"progress-ring"},[e("canvas",{ref:"canvas",staticClass:"echar_self",attrs:{width:"150",height:"150"}})]),e("div",{staticClass:"total_score_mid",style:{color:t.isColor?"#f66442":""}},[t._v(t._s(t.score))]),e("div",{staticClass:"min_score"},[t._v("10")]),e("div",{staticClass:"max_score"},[t._v("160")])])},a=[],r={props:{score:{type:Number,required:!0},isColor:{type:Boolean,default:!1}},watch:{score(){this.drawProgressRing()}},mounted(){this.drawProgressRing()},methods:{drawProgressRing(){const{canvas:t}=this.$refs,e=t.getContext("2d"),s=t.width/2,i=t.height/2,a=65,r=Math.PI/2,o=r+1.5*Math.PI,c=(this.score-10)/150,n=r+1.5*Math.PI*c;e.clearRect(0,0,t.width,t.height),e.beginPath(),e.arc(s,i,a,r,o),e.lineWidth=14,e.strokeStyle=this.isColor?"#fafafa":"#e6e6e6",e.lineCap="round",e.stroke(),e.beginPath(),e.arc(s,i,a,r,n),e.lineWidth=14,e.strokeStyle=this.isColor?"#f66442":"#FFD9ACFF",e.lineCap="round",e.stroke()}}},o=r,c=(s("6e29"),s("643b")),n=Object(c["a"])(o,i,a,!1,null,"9523e0dc",null);e["a"]=n.exports},"0e7c":function(t,e,s){"use strict";s("f960")},1006:function(t,e,s){},"1cbc":function(t,e,s){"use strict";s("4657")},"2a60":function(t,e,s){},"3a6b":function(t,e,s){"use strict";s("869d")},"44dd":function(t,e,s){"use strict";s("91be")},4657:function(t,e,s){},"4dec":function(t,e,s){"use strict";s("539b")},"4fdf":function(t,e,s){"use strict";s("daa1")},"539b":function(t,e,s){},"63e1":function(t,e,s){},"6e29":function(t,e,s){"use strict";s("7e87")},7745:function(t,e,s){"use strict";var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"common_feedback"},[e("div",{staticClass:"click_font",on:{click:t.opentk}},[t._v(t._s(t.$t("commonFeedback.clickError")))]),e("el-dialog",{attrs:{title:t.$t("commonFeedback.feedbackIssue"),visible:t.dialogVisible,width:t.isMobile?"355px":"500px","before-close":t.handleClose,"custom-class":"feedback-dialog"},on:{"update:visible":function(e){t.dialogVisible=e}}},[e("div",[e("el-input",{attrs:{type:"textarea",rows:10,placeholder:t.$t("commonFeedback.enterQuestion")},model:{value:t.feedback,callback:function(e){t.feedback=e},expression:"feedback"}})],1),e("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{staticClass:"cancel",on:{click:function(e){t.dialogVisible=!1}}},[t._v(t._s(t.$t("commonFeedback.cancel")))]),e("el-button",{staticClass:"submit",attrs:{type:"primary"},on:{click:t.submitFeedBack}},[t._v(t._s(t.$t("commonFeedback.submit")))])],1)])],1)},a=[],r=s("5880"),o=s("d722"),c={props:{isreport:Boolean},data(){return{feedback:"",dialogVisible:!1}},computed:{...Object(r["mapState"])("app",{isMobile(t){return t.isMobile}})},methods:{opentk(){this.dialogVisible=!0},handleClose(){this.dialogVisible=!1},async submitFeedBack(){const{id:t}=this.$route.query;if(!this.feedback)return void this.$message.error(""+this.$t("commonFeedback.enterFeedback"));if(this.isreport){const{err:e}=await Object(o["mb"])({id:t,feedback:this.feedback});return e?this.$message.error(e):(this.dialogVisible=!1,this.$message.success(""+this.$t("commonFeedback.feedbackSuccess"))),!1}const{err:e}=await Object(o["nb"])({id:t,feedback:this.feedback});e?this.$message.error(e):(this.dialogVisible=!1,this.$message.success(""+this.$t("commonFeedback.feedbackSuccess")),this.$router.go(-1))}}},n=c,d=(s("4fdf"),s("0e7c"),s("643b")),l=Object(d["a"])(n,i,a,!1,null,"73f1e7df",null);e["a"]=l.exports},"798b":function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t._self._c;return e("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}]},[t.showNew?e("reportnew",{attrs:{exam:t.exam}}):e("reportold",{attrs:{exam:t.exam}})],1)},a=[],r=s("ed08"),o=s("d722"),c=function(){var t=this,e=t._self._c;return e("div",{staticClass:"report"},[e("el-button",{staticClass:"back",attrs:{type:"default",icon:"el-icon-arrow-left"},on:{click:function(e){return t.$router.back()}}},[t._v(t._s(t.$t("goBack")))]),e("div",{staticClass:"reportContent"},[e("div",{staticClass:"reportHead"},[e("div",{staticClass:"title"},[t._v(t._s(t.$t("examReport.report.head.title")))]),"example"===t.id?e("div",{staticClass:"img_shili"},[e("img",{attrs:{src:t.shuiyin}})]):e("div",{staticClass:"desc"},[t._v(t._s(t.$t("examReport.report.head.desc")))])]),e("Result",{attrs:{id:t.id,exam:t.exam,"is-report":""}}),e("div",{staticClass:"items"},[e("div",{staticClass:"item"},[e("div",{staticClass:"itemHead"},[e("div",{staticClass:"text1"},[t._v(t._s(t.$t("examReport.report.subScoreAnalysis.title")))]),e("div",{staticClass:"text2"},[t._v(t._s(t.$t("examReport.report.subScoreAnalysis.desc")))])]),t._m(0),t.isI18n?e("div",{staticClass:"description isI18n",domProps:{innerHTML:t._s(t.scoreTextEnglish)}}):e("div",{staticClass:"description",domProps:{innerHTML:t._s(t.scoreTextChinese)}})]),e("div",{staticClass:"item"},[e("div",{staticClass:"itemHead"},[e("div",{staticClass:"text1"},[t._v(t._s(t.$t("questions.accuracy")))]),e("div",{staticClass:"text2"},[t._v(t._s(t.$t("examReport.report.correctRate.desc")))])]),e("div",{staticClass:"itemContent"},[e("div",{staticClass:"topics"},t._l(t.objectiveTopics,(function(s){return e("div",{key:s.key,staticClass:"topic"},[e("div",{class:t.isI18n?"topicName topicName_english_width":"topicName"},[t._v(" "+t._s(s.name)+" ")]),e("div",{staticClass:"outer"},[e("div",{staticClass:"inner",style:{width:s.score+"%",backgroundColor:s.score>=50?"#3C5D86":"#F66442"}}),e("div",{staticClass:"text",style:s.score>15?"position: absolute;color:#ffffff":"position: relative;color:#F66442"},[t._v(" "+t._s(s.score)+"% ")])])])})),0)]),t.isI18n?e("div",{staticClass:"description",domProps:{innerHTML:t._s(t.correctRateTextEnglish)}}):e("div",{staticClass:"description",domProps:{innerHTML:t._s(t.correctRateText)}})])]),e("div",{staticClass:"card"},[e("div",{staticClass:"cardHead"},[t._v(" "+t._s(t.$t("examReport.report.accuratePractice.head"))+" ")]),e("div",{staticClass:"cardContent"},[e("div",{staticClass:"item"},[e("el-image",{staticClass:"itemImg",attrs:{src:t.planImg}}),e("div",{staticClass:"itemContent"},[e("div",{staticClass:"text"},[t._v(" "+t._s(t.$t("examReport.report.accuratePractice.item1.text"))+" ")]),e("div",{staticClass:"btnWrap"},[e("el-button",{class:"btn "+("1"===t.exam.plan||"example"===t.id?"disabled":""),attrs:{loading:t.planLoading},on:{click:t.makePlanByExam}},[t._v(" "+t._s("1"===t.exam.plan?""+t.$t("examReport.report.accuratePractice.item1.button.disabledText"):""+t.$t("examReport.report.accuratePractice.item1.button.text"))+" ")]),e("el-popover",{attrs:{placement:"top-start",width:"300",trigger:"hover"}},[e("div",[e("div",[t._v(t._s(t.$t("examReport.report.accuratePractice.item1.popover.content1")))]),e("div",[t._v(t._s(t.$t("examReport.report.accuratePractice.item1.popover.content2")))])]),e("i",{staticClass:"el-icon-question notice",attrs:{slot:"reference"},slot:"reference"})])],1)])],1),e("div",{staticClass:"line"}),e("div",{staticClass:"item"},[e("el-image",{staticClass:"itemImg",attrs:{src:t.wordBookImg}}),e("div",{staticClass:"itemContent"},[e("div",{staticClass:"text"},[e("i18n",{attrs:{path:"examReport.report.accuratePractice.item2.text",tag:"span"}},[e("span",{attrs:{place:"total"}},[t._v(" "+t._s(t.total)+" ")])]),e("span",{staticClass:"text1"},[t._v(t._s(t.examWord.join("；"))+" "+t._s(""+(t.examWord.length!==t.total?"......":"")))])],1),e("div",{staticClass:"btnWrap"},[e("el-button",{class:"btn "+("1"===t.exam.wordBook||"example"===t.id?"disabled":""),attrs:{loading:t.wordBookLoading},on:{click:t.add2wordBook}},[t._v(" "+t._s("1"===t.exam.wordBook?""+t.$t("examReport.report.accuratePractice.item2.button.disabledText"):""+t.$t("examReport.report.accuratePractice.item2.button.text"))+" ")]),e("el-popover",{attrs:{placement:"top-start",width:"300",trigger:"hover",content:""+t.$t("examReport.report.accuratePractice.item2.popover.content")}},[e("i",{staticClass:"el-icon-question notice",attrs:{slot:"reference"},slot:"reference"})])],1)])],1)])]),t._l(t.corrects,(function(s,i){return e("div",{key:i,staticClass:"card"},[e("div",{staticClass:"cardHead"},[t._v(" "+t._s(s.cardTitle)+" ")]),e("div",{staticClass:"cardContent"},[e("div",{staticClass:"question"},[e("div",{staticClass:"questionTitle"},[t._v(" "+t._s(s.titleText)+" ")]),e("div",{staticClass:"questionContent"},[e("div",{staticClass:"title"},[t._v(t._s(s.title))]),e("div",{staticClass:"answer"},[t._v(t._s(s.ownAnswer))])])]),e("div",{staticClass:"correctText",domProps:{innerHTML:t._s((s.correct||"").replace(/\n/g,"<br>"))}})])])}))],2)],1)},n=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"itemContent"},[e("div",{staticClass:"subScoreChat",staticStyle:{padding:"0"},attrs:{id:"subScoreChat"}})])}],d=(s("b41b"),s("0c65"),s("2f20"),s("080f"),s("164e")),l=s("60bb"),m=s.n(l),p=s("5880"),u=function(){var t=this,e=t._self._c;return e("div",{staticClass:"examResult"},[e("div",{staticClass:"recordHead"},[e("i18n",{attrs:{path:"exam.examRecord.duringExam"}},[e("span",{attrs:{place:"createTime"}},[t._v(t._s(""+t.formatCreateTime(t.exam.createTime)))])])],1),e("div",{staticClass:"result"},[e("div",{staticClass:"resultTable"},[e("div",{staticClass:"tableHead"},[e("div",{staticClass:"head1"},[t._v(" "+t._s(t.$t("componentExamResult.zf"))+" ")]),e("div",{staticClass:"head2"},[t._v(" "+t._s(t.$t("componentExamResult.dxfs"))+" ")])]),e("div",{staticClass:"tableContent"},[e("div",{staticClass:"left"},[t._v(t._s(t.exam.s))]),e("div",{staticClass:"right"},[e("div",{staticClass:"right-top"},[e("div",{staticClass:"col"},[e("div",{staticClass:"text1"},[t._v("Literacy")]),e("div",{staticClass:"text2"},[t._v(t._s(t.exam.s1))])]),e("div",{staticClass:"col"},[e("div",{staticClass:"text1"},[t._v("Comprehension")]),e("div",{staticClass:"text2"},[t._v(t._s(t.exam.s2))])])]),e("div",{staticClass:"right-bottom"},[e("div",{staticClass:"col"},[e("div",{staticClass:"text1"},[t._v("Conversation")]),e("div",{staticClass:"text2"},[t._v(t._s(t.exam.s3))])]),e("div",{staticClass:"col"},[e("div",{staticClass:"text1"},[t._v("Production")]),e("div",{staticClass:"text2"},[t._v(t._s(t.exam.s4))])])])])])]),e("div",{staticClass:"btns"},[t.isReport?t._e():e("div",{staticClass:"btn margin-bottom-16",on:{click:t.goReport}},[t._v(" "+t._s(t.$t("componentExamResult.seeCJD"))+" ")]),e("div",{class:"example"===t.id?"btn disabled":"btn",on:{click:t.goExamDetail}},[t._v(" "+t._s(t.$t("componentExamResult.seeResult"))+" ")])]),e("div",{staticClass:"resultDesc"},[e("el-image",{staticClass:"recordResultImg",attrs:{src:t.recordResultImg}}),e("div",{staticClass:"text"},[t.resultDesc.title?e("div",{staticClass:"text1"},[t._v(t._s(t.resultDesc.title))]):t._e(),t.resultDesc.description?e("div",{staticClass:"text2",domProps:{innerHTML:t._s(t.resultDesc.description.replace(/\n/g,"<br>"))}}):t._e()])],1)])])},v=[],h=(s("cfff"),s("f7f9")),x=s.n(h);const _=Object(o["Bb"])("exam/record-result.png");var C={props:{exam:Object,isReport:Boolean,id:String},data(){return{recordResultImg:_}},computed:{...Object(p["mapState"])("app",{examReport(t){return t.examReport}}),resultDesc(){const t=this.examReport.find(t=>this.exam.s>=t.min&&this.exam.s<=t.max);return t||{}}},methods:{formatCreateTime(t){return x()(t).format("YYYY-MM-DD")},goReport(){Object(r["o"])()?window.wx.miniProgram.navigateTo({url:"/pages/topic/index?examId="+this.exam.id}):this.$router.push("/exam/report?id="+this.exam.id)},goExamDetail(){"example"!==this.id&&(Object(r["o"])()?window.wx.miniProgram.navigateTo({url:"/pages/topic/index?examId="+this.exam.id}):this.$router.push("/exam/detail?id="+this.exam.id))}}},b=C,g=(s("4dec"),s("643b")),f=Object(g["a"])(b,u,v,!1,null,"bdbe8988",null),$=f.exports;const y=Object(o["Bb"])("exam/plan.png"),k=Object(o["Bb"])("exam/wordBook.png"),R=(Object(o["Cb"])("mokao/shuiyin.png"),Object(o["Cb"])("mokao/shuiyin_english.svg"));var w={components:{Result:$},props:{exam:Object},data(){return{id:this.$route.query.id,keys:["7","n","p","2","4","3","i"],planImg:y,wordBookImg:k,shuiyin:R,examWord:[],total:0,wordBookLoading:!1,planLoading:!1,isI18n:!0}},computed:{...Object(p["mapState"])({questions:t=>{const{exam:{questions:e}}=t;return e},topics:t=>{const{app:{topics:e}}=t;return e},userTarget:t=>{const{app:{target:e}}=t;return e},targetScore:t=>{const{app:{targetScore:e}}=t;return e||[]},objectiveTopics(){return this.topics.filter(t=>this.keys.includes(t.key)&&this.questions.filter(e=>e.key===t.key).length).map(t=>{const e=m.a.meanBy(this.questions.filter(e=>e.key===t.key),"ownScore");return{...t,score:Number(e.toFixed(1))}})},transObjectiveTopics(){return m.a.cloneDeep(this.objectiveTopics).map(t=>("4"===t.key&&(Number(t.score)<=70?t.score=.71*Number(t.score):Number(t.score)<=80?t.score=.75*Number(t.score):Number(t.score)<=88?t.score=.79*Number(t.score):Number(t.score)<=95?t.score=.84*Number(t.score):Number(t.score)<=99?t.score=.91*Number(t.score):t.score=Number(t.score)),t))},scores(){const{s1:t,s2:e,s3:s,s4:i}=this.exam,{score:a}=this.target,r=[t,e,s,i],o=this.targetScore[a];return[r,o]},scoreTextChinese(){const{score:t}=this.target,{s:e}=this.exam,[s=[110,120,115,100],i=[90,100,80,70,90]]=this.scores;return[`${this.$t("examReport.js.targetScore")}<span class='colorPrimary'>${t}</span>\n          ${this.$t("examReport.js.score")}，`,`${this.$t("examReport.js.totalScore")}<span class='colorPrimary'>${e}</span>\n          ${this.$t("examReport.js.score")}。`,""+this.$t("examReport.js.zhonghe"),["Literacy","Comprehension","Conversation","Production"].map((t,e)=>`${t}${this.$t("examReport.js.xdd")}<span class='colorPrimary'>${i[e]}</span>${this.$t("examReport.js.score")}（${i[e]>s[e]?`${this.$t("examReport.js.xts")}<span class='colorPrimary'>${i[e]-s[e]}</span>\n                    ${this.$t("examReport.js.score")}`:""+this.$t("examReport.js.yidb")}）`).join("；"),"<br>"+this.$t("examReport.js.jianchi")].join("")},scoreTextEnglish(){const{score:t="110"}=this.target,{s:e}=this.exam,[s=[110,120,115,100],i=[90,100,80,70,90]]=this.scores;return[`${this.$t("examReport.js.targetScore")}<span class='colorPrimary'>${t}</span>\n          ${this.$t("examReport.js.score")},`,`${this.$t("examReport.js.totalScore")}<span class='colorPrimary'>${e}</span>\n          ${this.$t("examReport.js.score")}.`,""+this.$t("examReport.js.zhonghe"),["Literacy","Comprehension","Conversation","Production"].map((t,e)=>""+(i[e]>s[e]?`<br>${t}:<br>\n                    Target subscore:\n                    <span class='colorPrimary'>${i[e]}</span>.\n                    Need to improve by\n                    <span class='colorPrimary'>${i[e]-s[e]}</span> points.\n                   `:`<br>-${t}:Score has reached the target.`)).join(""),"<br>"+this.$t("examReport.js.jianchi")].join("")},correctRateText(){if(m.a.isEmpty(this.objectiveTopics))return"";const t=m.a.minBy(this.objectiveTopics,"score");return t?[""+this.$t("examReport.js.font1"),`<span class='colorPrimary'>${m.a.map(m.a.orderBy(this.objectiveTopics,"score","desc"),"name").join("、")}</span>。`,` <br>${this.$t("examReport.js.font2")}“<span class='colorPrimary'>${m.a.maxBy(this.transObjectiveTopics,"score").name}</span>”；`,` ${this.$t("examReport.js.font3")}“<span class='colorPrimary'>${t.name}</span>”。`].join(""):""},correctRateTextEnglish(){if(m.a.isEmpty(this.objectiveTopics))return"";const t=m.a.minBy(this.objectiveTopics,"score");return t?[""+this.$t("examReport.js.font1"),`<span class='colorPrimary'>${m.a.map(m.a.orderBy(this.objectiveTopics,"score","desc"),"name").join("、")}</span>.`,` <br>${this.$t("examReport.js.font2")}&nbsp;“<span class='colorPrimary'>${m.a.maxBy(this.transObjectiveTopics,"score").name}</span>”&nbsp;;`,` ${this.$t("examReport.js.font3")}&nbsp;“<span class='colorPrimary'>${t.name}</span>”.`].join(""):""},corrects(){const t=this.questions.find(t=>"8"===t.key);if(t)return[{cardTitle:this.$t("examReport.report.writingCorrection.head"),titleText:"Write about the topic below for 5 minutes.",title:t.title,ownAnswer:t.answer,score:t.ownScore,correct:t.correct||""}];const e=this.questions.find(t=>"q"===t.key);if(!e)return[];const s=JSON.parse(e.title||"[]"),i=JSON.parse(e.ownAnswer||"[]"),a=JSON.parse(e.correct||"[]"),r=this.topics.find(t=>"q"===t.key);return[{cardTitle:r.name+" - 01",titleText:"Write about the topic below for 5 minutes.",title:s[0],ownAnswer:i[0],score:e.ownScore,correct:a[0]},{cardTitle:r.name+" - 02",titleText:"Write a follow-up response for 3 minutes.",title:s[1],ownAnswer:i[1],score:e.ownScore2,correct:a[1]}]}}),target(){return"example"===this.$route.query.id?{score:130}:this.userTarget}},watch:{scores:{handler(t){const[e=[110,120,115,100],s=[90,100,80,70,90]]=t;m.a.isEmpty(e)||m.a.isEmpty(s)||setTimeout(()=>{this.renderChat()},100)},deep:!0,immediate:!0}},async mounted(){window.addEventListener("resize",()=>{this.renderChat()}),this.$store.dispatch("exam/examQuestionsGet",{examId:this.id}),this.examWordGet();try{document.querySelector(".el-main").scrollTop=0}catch(t){}},methods:{renderChat(){const t=document.getElementById("subScoreChat");if(!t)return;const e=d["init"](t);e.resize();const[s=[110,120,115,100],i=[90,100,80,70,90]]=this.scores,a={legend:{padding:0},tooltip:{},grid:{top:40,left:40,right:0,bottom:40},dataset:{source:[["product",this.$t("examReport.js.mkxf"),this.$t("examReport.js.mbxf")],["Literacy",s[0],i[0]],["Comprehension",s[1],i[1]],["Conversation",s[2],i[2]],["Production",s[3],i[3]]]},xAxis:{type:"category",interval:0,axisLabel:{show:!0,interval:0,rotate:15}},yAxis:{},series:[{type:"bar",itemStyle:{color:"#3C5D86"}},{type:"bar",itemStyle:{color:"#FFD9AC"}}]};e.setOption(a)},async examWordGet(){const{err:t,data:e}=await Object(o["v"])({examId:this.id});t||(this.examWord=m.a.map(e,t=>t.word),this.total=e.total)},async add2wordBook(){if("1"===this.exam.wordBook||"example"===this.id)return;if(this.wordBookLoading)return;this.wordBookLoading=!0;const{err:t}=await Object(o["a"])({examId:this.id});t||this.$set(this.exam,"wordBook","1"),this.wordBookLoading=!1},async makePlanByExam(){if("1"===this.exam.plan||"example"===this.id)return;if(this.planLoading)return;this.planLoading=!0;const{err:t}=await Object(o["cb"])({examId:this.id});t||(this.planLoading=!1,this.$set(this.exam,"plan","1"))}}},j=w,T=(s("8358"),s("1cbc"),Object(g["a"])(j,c,n,!1,null,"8c4a3eae",null)),S=T.exports,O=function(){var t=this,e=t._self._c;return e("div",{staticClass:"report"},[e("el-button",{staticClass:"back",attrs:{type:"default",icon:"el-icon-arrow-left"},on:{click:function(e){return t.$router.back()}}},[t._v(" "+t._s(t.$t("topicInfo.back"))+" ")]),t.exam.notice?e("div",{staticClass:"notice"},[e("div",{staticClass:"notice_left"},[e("el-image",{attrs:{src:t.tixing}})],1),e("div",[t._v(t._s(t.exam.notice))])]):t._e(),e("div",{staticClass:"reportContent"},[e("div",{staticClass:"reportHead"},[e("div",{staticClass:"title"},[t._v(t._s(t.$t("examReport.report.head.title")))]),"example"===t.id?e("div",{staticClass:"img_shili"},[e("img",{attrs:{src:t.shuiyin}})]):e("div",{staticClass:"desc"},[t._v(t._s(t.$t("examReport.report.head.desc")))])]),t.exam.t1?e("Resultcardv3fordetail",{attrs:{id:t.id,exam:t.exam,"is-report":""}}):e("Resultcardv2fordetail",{attrs:{id:t.id,exam:t.exam,"is-report":""}}),t.startRender?e("div",{staticClass:"items"},[e("div",{staticClass:"item"},[e("div",{staticClass:"itemHead"},[e("div",{staticClass:"text1"},[t._v(t._s(t.$t("examReport.danxiang.title")))])]),e("div",{staticClass:"itemCon"},[t._m(0),e("div",{staticClass:"descriptionAll"},[t.isI18n?e("div",{staticClass:"description isI18n",domProps:{innerHTML:t._s(t.danxiangScoreChinese)}}):e("div",{staticClass:"description",domProps:{innerHTML:t._s(t.danxiangScoreChinese)}})])])])]):t._e(),e("div",{staticClass:"items"},[e("div",{staticClass:"item"},[e("div",{staticClass:"itemHead"},[e("div",{staticClass:"text1"},[t._v(t._s(t.$t("examReport.report.subScoreAnalysis.title")))])]),e("div",{staticClass:"itemCon"},[t._m(1),e("div",{staticClass:"descriptionAll"},[t.isI18n?e("div",{staticClass:"description isI18n",domProps:{innerHTML:t._s(t.scoreTextEnglish)}}):e("div",{staticClass:"description",domProps:{innerHTML:t._s(t.scoreTextChinese)}})])])])]),e("div",{staticClass:"items"},[e("div",{staticClass:"item"},[e("div",{staticClass:"itemHead"},[e("div",{staticClass:"text1"},[t._v(t._s(t.$t("examReport.report.correctRate.title")))])]),e("div",{staticClass:"itemCon"},[e("div",{staticClass:"itemContent"},[e("div",{staticClass:"topics"},t._l(t.objectiveTopics,(function(s){return e("div",{key:s.key,staticClass:"topic"},[e("div",{class:t.isI18n?"topicName topicName_english_width":"topicName"},[t._v(" "+t._s(s.name)+" ")]),e("div",{staticClass:"outer"},[e("div",{staticClass:"inner",style:{width:s.score+"%",backgroundColor:s.score>=50?"#3C5D86":"#F66442"}}),e("div",{staticClass:"text",style:s.score>15?"position: absolute;color:#ffffff":"position: relative;color:#F66442"},[t._v(" "+t._s(s.score)+"% ")])])])})),0)]),e("div",{staticClass:"descriptionAll"},[t.isI18n?e("div",{staticClass:"description",domProps:{innerHTML:t._s(t.correctRateTextEnglish)}}):e("div",{staticClass:"description",domProps:{innerHTML:t._s(t.correctRateText)}})])])])]),e("div",{staticClass:"cons"},[e("div",{staticClass:"con"},[e("div",{staticClass:"con-head"},[t._v(t._s(t.$t("examReport.report.jingzhunlian.title")))]),e("div",{staticClass:"con-con"},[e("div",{staticClass:"con-miaoshu"},[t._v(" "+t._s(t.$t("examReport.report.jingzhunlian.desc1"))+" ")]),e("div",{staticClass:"table-head"},[e("div",{staticClass:"col1"},[t._v(t._s(t.$t("examReport.report.jingzhunlian.tableName1")))]),e("div",{staticClass:"col2"},[t._v(t._s(t.$t("examReport.report.jingzhunlian.tableName2")))]),e("div",{staticClass:"col3"},[t._v(t._s(t.$t("examReport.report.jingzhunlian.tableName3")))])]),t._l(t.shitiList,(function(s,i){return e("div",{key:i,staticClass:"table-body"},[e("div",{staticClass:"col1"},[t._v(t._s(s.name))]),e("div",{staticClass:"col2"},[t._v(t._s(s.total))]),e("div",{staticClass:"col3"},[t._v(t._s(s.tiNum))])])}))],2),e("div",{staticClass:"con-desc"},[t._v(" "+t._s(t.$t("examReport.report.jingzhunlian.desc2"))+" ")])]),e("div",{staticClass:"con con2"},[e("div",{staticClass:"con-head"},[t._v(t._s(t.$t("examReport.report.wordBook.title")))]),e("div",{staticClass:"con-con con-con2"},[e("div",{staticClass:"con-con2-scroll"},[e("div",{staticClass:"con-miaoshu"},[e("i18n",{attrs:{path:"examReport.report.wordBook.desc1",tag:"span"}},[e("span",{attrs:{place:"total"}},[t._v(t._s(t.examWord.length)+" ")])])],1),t._l(t.examWord,(function(s,i){return e("div",{key:i,staticClass:"words"},["0"===s.status?e("div",{class:""+(t.isAdd(s.word)?"word-check":"word"),on:{click:function(e){return t.wordClick(s.word)}}},[t._v(" "+t._s(s.word)+" "),t.isAdd(s.word)?e("el-image",{staticClass:"check-img",attrs:{src:t.wordCheck}}):t._e()],1):t._e(),"1"===s.status?e("div",{staticClass:"word-already"},[t._v(" "+t._s(s.word)+" "),e("el-image",{staticClass:"check-img",attrs:{src:t.wordCheck1}})],1):t._e()])}))],2)]),"0"===t.exam.wordBook&&t.getStatus()?e("div",{staticClass:"addWords",on:{click:function(e){return t.addWord()}}},[t._v(" "+t._s(t.$t("examReport.report.wordBook.addText"))+"("+t._s(t.wordChecks.length)+") ")]):e("div",{staticClass:"addWords-no"},[t._v(t._s(t.$t("examReport.report.wordBook.addText")))]),e("div",{staticClass:"add-wrods-desc"},[t._v(t._s(t.$t("examReport.report.wordBook.desc2")))]),t.addSuccess?e("div",{staticClass:"add-success"},[e("i",{staticClass:"el-icon-success"}),t._v(" "+t._s(t.$t("examReport.report.wordBook.addSuccess"))+" ")]):t._e()])]),e("div",{staticClass:"quanyi"},[e("div",{staticClass:"qy-head"},[e("div",{staticClass:"qy-head-title"},[t._v(t._s(t.$t("examReport.report.quanyi.title")))]),e("div",{staticClass:"qy-head-desc"},[t._v(t._s(t.$t("examReport.report.quanyi.desc",{num:t.compositions.length})))])]),e("div",{staticClass:"qy-con"},[e("div",{staticClass:"qy-head-desc-mobile"},[t._v(t._s(t.$t("examReport.report.quanyi.desc",{num:t.compositions.length})))]),e("div",{class:t.isI18n?"qy-con1 qy-con1_two_column":"qy-con1"},t._l(t.compositions,(function(s){return e("CorrectCard",{key:s.id,attrs:{item:{...s,submitTime:t.exam.endTime}}})})),1)])]),"example"!==t.id?e("div",[e("correct-feedback",{attrs:{isreport:!0}})],1):t._e()],1)],1)},P=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"itemContent"},[e("div",{staticClass:"subScoreChat",staticStyle:{padding:"0"},attrs:{id:"subdxScoreChat"}})])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"itemContent"},[e("div",{staticClass:"subScoreChat",staticStyle:{padding:"0"},attrs:{id:"subScoreChat"}})])}],I=function(){var t=this,e=t._self._c;return e("div",{staticClass:"examResult"},[e("div",{staticClass:"recordHead"},["2"===t.exam.status||"4"===t.exam.status?[e("i18n",{attrs:{path:"exam.examRecord.endingExam"}},[e("span",{attrs:{place:"createTime"}},[t._v(t._s(""+t.formatCreateTime(t.exam.endTime)))])])]:[e("i18n",{attrs:{path:"exam.examRecord.duringExam"}},[e("span",{attrs:{place:"createTime"}},[t._v(t._s(""+t.formatCreateTime(t.exam.createTime)))])])],"3"===t.exam.status?e("span",{staticClass:"fankui"},[e("el-image",{staticClass:"img_self",attrs:{src:t.feedbackingIcon}}),e("span",[t._v(t._s(t.$t("correct.correctStatus.2")))])],1):e("span",{class:"example"===t.id?"v3_see_record_btn v3_see_record_btn_dis":"v3_see_record_btn",on:{click:t.goExamDetail}},[e("span",[t._v(t._s(t.$t("componentExamResult.seeResult")))])])],2),e("div",{staticClass:"result_v3_detail"},[e("div",{staticClass:"ztfs_out"},[e("div",{staticClass:"title"},[e("div",{staticClass:"title_font"},[t._v(t._s(t.$t("componentExamResult.ztfs")))]),e("div",{staticClass:"v3_see_record_btn_mobile",on:{click:t.goExamDetail}},[t._v(t._s(t.$t("componentExamResult.seeResult")))])]),e("div",{staticClass:"ztfs_wrapper"},[e("div",{staticClass:"ztfs_left"},[t.exam.s?e("div",{staticClass:"tu_wrapper"},[e("huanchar",{attrs:{score:t.exam.s}})],1):t._e()]),e("div",{staticClass:"ztfs_right"},[t.resultDesc.title?e("div",{staticClass:"text1"},[t._v(t._s(t.resultDesc.title)+"：CEFR "+t._s(t.score2cefr[t.exam.s]))]):t._e(),t.resultDesc.descArr.length?e("div",t._l(t.resultDesc.descArr,(function(s,i){return e("div",{key:i,staticClass:"one_v3_desc"},[e("div",{staticClass:"icon"},[e("el-image",{staticClass:"img_self",attrs:{src:t.blueCheckIcon}})],1),e("div",{staticClass:"font",domProps:{innerHTML:t._s(s.replace(/\n/g,"<br>"))}})])})),0):t._e()])])]),e("div",{staticClass:"ind_out"},[e("div",{staticClass:"hh_title"},[t._v("Individual Subscores")]),e("div",{staticClass:"small_score_out"},[e("div",{staticClass:"one_score_v3"},[e("div",{staticClass:"title"},[t._v("SPEAKING")]),e("div",{staticClass:"number"},[t._v(t._s(t.exam.t2||"-"))])]),e("div",{staticClass:"one_score_v3"},[e("div",{staticClass:"title"},[t._v("WRITING")]),e("div",{staticClass:"number"},[t._v(t._s(t.exam.t4||"-"))])]),e("div",{staticClass:"one_score_v3"},[e("div",{staticClass:"title"},[t._v("READING")]),e("div",{staticClass:"number"},[t._v(t._s(t.exam.t3||"-"))])]),e("div",{staticClass:"one_score_v3"},[e("div",{staticClass:"title"},[t._v("LISTENING")]),e("div",{staticClass:"number"},[t._v(t._s(t.exam.t1||"-"))])])])]),e("div",{staticClass:"ind_out int_out"},[e("div",{staticClass:"hh_title"},[t._v("Integrated Subscores")]),e("div",{staticClass:"small_score_out"},[e("div",{staticClass:"one_score_v3"},[e("div",{staticClass:"title"},[t._v("PRODUCTION")]),e("div",{staticClass:"number"},[t._v(t._s(t.exam.s4))]),e("div",{staticClass:"tips"},[t._v("Ability to speak and write")])]),e("div",{staticClass:"one_score_v3"},[e("div",{staticClass:"title"},[t._v("LITERACY")]),e("div",{staticClass:"number"},[t._v(t._s(t.exam.s1))]),e("div",{staticClass:"tips"},[t._v("Ability to write and read")])]),e("div",{staticClass:"one_score_v3"},[e("div",{staticClass:"title"},[t._v("COMPREHENSION")]),e("div",{staticClass:"number"},[t._v(t._s(t.exam.s2))]),e("div",{staticClass:"tips"},[t._v("Ability to read and listen")])]),e("div",{staticClass:"one_score_v3 one_score_v3_last"},[e("div",{staticClass:"title"},[t._v("CONVERSATION")]),e("div",{staticClass:"number"},[t._v(t._s(t.exam.s3))]),e("div",{staticClass:"tips"},[t._v("Ability to listen and speak")])])])])]),t.isReport?e("div",{staticClass:"desc1"},[e("div",[t._v(t._s(t.$t("componentExamResult.desc1")))]),e("div",{domProps:{innerHTML:t._s(t.$t("componentExamResult.desc2"))}}),e("div",{domProps:{innerHTML:t._s(t.$t("componentExamResult.desc3"))}}),e("div",{domProps:{innerHTML:t._s(t.$t("componentExamResult.desc4"))}})]):e("div",{staticClass:"desc2"})])},B=[],N=s("0171");const L=Object(o["Bb"])("exam/record-result.png"),E=Object(o["Bb"])("image/correct/index/feedbacking.svg"),q=Object(o["Bb"])("image/correctReport/blue_check_icon.svg");var M={components:{huanchar:N["a"]},props:{exam:Object,isReport:Boolean,id:String},data(){return{recordResultImg:L,feedbackingIcon:E,blueCheckIcon:q}},computed:{...Object(p["mapState"])("app",{examReport(t){return t.examReport},score2cefr(t){return t.score2cefr}}),resultDesc(){console.log(this.examReport);const t=this.examReport.find(t=>this.exam.s>=t.min&&this.exam.s<=t.max);console.log(t);const e={title:"",descArr:[]};return t&&t.description&&(e.descArr=t.description.split("\n"),e.title=t.title),e||[]}},methods:{formatCreateTime(t){return x()(t).format("YYYY-MM-DD HH:mm:ss")},goReport(){Object(r["o"])()?window.wx.miniProgram.navigateTo({url:"/pages/topic/index?examId="+this.exam.id}):this.$router.push("/exam/report?id="+this.exam.id)},goExamDetail(){"example"!==this.id&&(Object(r["o"])()?window.wx.miniProgram.navigateTo({url:"/pages/topic/index?examId="+this.exam.id}):this.$router.push("/exam/detail?id="+this.exam.id))}}},D=M,W=(s("44dd"),Object(g["a"])(D,I,B,!1,null,"06362cca",null)),H=W.exports,A=s("9d6b"),F=s("fa4c"),z=s("7745");const Y=Object(o["Bb"])("exam/plan.png"),G=Object(o["Bb"])("exam/wordBook.png"),J=(Object(o["Cb"])("mokao/shuiyin.png"),Object(o["Cb"])("mokao/shuiyin_english.svg")),V=Object(o["Cb"])("mokao/word-check.svg"),Q=Object(o["Cb"])("mokao/word-check1.svg"),K=Object(o["Bb"])("image/correctReport/tiixng.svg");var U={components:{Resultcardv3fordetail:H,Resultcardv2fordetail:A["a"],CorrectCard:F["a"],correctFeedback:z["a"]},props:{exam:Object},data(){return{id:this.$route.query.id,keys:["7","n","p","2","4","3","i"],planImg:Y,wordBookImg:G,wordCheck:V,wordCheck1:Q,tixing:K,shuiyin:J,examWord:[],total:0,wordBookLoading:!1,planLoading:!1,isI18n:!0,wordChecks:[],addSuccess:!1,notice:"",startRender:!1}},computed:{...Object(p["mapState"])({questions:t=>{const{exam:{questions:e}}=t;return e},topics:t=>{const{app:{topics:e}}=t;return e},userTarget:t=>{const{app:{target:e}}=t;return e},targetScore:t=>{const{app:{targetScore:e}}=t;return e||[]},objectiveTopics(){return this.topics.filter(t=>this.keys.includes(t.key)&&this.questions.filter(e=>e.key===t.key).length).map(t=>{const e=m.a.meanBy(this.questions.filter(e=>e.key===t.key),"ownScore");return{...t,score:Number(e.toFixed(1))}})},transObjectiveTopics(){return m.a.cloneDeep(this.objectiveTopics).map(t=>("4"===t.key&&(Number(t.score)<=70?t.score=.71*Number(t.score):Number(t.score)<=80?t.score=.75*Number(t.score):Number(t.score)<=88?t.score=.79*Number(t.score):Number(t.score)<=95?t.score=.84*Number(t.score):Number(t.score)<=99?t.score=.91*Number(t.score):t.score=Number(t.score)),t))},scores(){const{s1:t,s2:e,s3:s,s4:i}=this.exam,{score:a}=this.target,r=[t,e,s,i],o=this.targetScore[a];return[r,o]},scoreTextChinese(){const{score:t}=this.target,{s:e}=this.exam,[s=[110,120,115,100],i=[90,100,80,70,90]]=this.scores;return[`${this.$t("examReport.js.targetScore")}<span class='colorPrimary'>${t}</span>\n          ${this.$t("examReport.js.score")}，`,`${this.$t("examReport.js.totalScore")}<span class='colorPrimary'>${e}</span>\n          ${this.$t("examReport.js.score")}。`,""+this.$t("examReport.js.zhonghe"),["Literacy","Comprehension","Conversation","Production"].map((t,e)=>`${t}${this.$t("examReport.js.xdd")}<span class='colorPrimary'>${i[e]}</span>${this.$t("examReport.js.score")}（${i[e]>s[e]?`${this.$t("examReport.js.xts")}<span class='colorPrimary'>${i[e]-s[e]}</span>\n                    ${this.$t("examReport.js.score")}`:""+this.$t("examReport.js.yidb")}）`).join("；"),"<br>"+this.$t("examReport.js.jianchi")].join("")},scoreTextEnglish(){const{score:t="110"}=this.target,{s:e}=this.exam,[s=[110,120,115,100],i=[90,100,80,70,90]]=this.scores;return[`${this.$t("examReport.js.targetScore")}<span class='colorPrimary'>${t}</span>\n          ${this.$t("examReport.js.score")},`,`${this.$t("examReport.js.totalScore")}<span class='colorPrimary'>${e}</span>\n          ${this.$t("examReport.js.score")}.`,""+this.$t("examReport.js.zhonghe"),["Literacy","Comprehension","Conversation","Production"].map((t,e)=>""+(i[e]>s[e]?`<br>${t}:<br>\n                    Target subscore:\n                    <span class='colorPrimary'>${i[e]}</span>.\n                    Need to improve by\n                    <span class='colorPrimary'>${i[e]-s[e]}</span> points.\n                   `:`<br>-${t}:Score has reached the target.`)).join(""),"<br>"+this.$t("examReport.js.jianchi")].join("")},danxiangScoreChinese(){if(!this.exam.id)return;const{t1:t,t2:e,t3:s,t4:i,ts:a}=this.exam,r={t1:t,t2:e,t3:s,t4:i},o=Math.max(t,e,s,i),c=Math.min(t,e,s,i),n=Object.keys(r).find(t=>r[t]===o),d=Object.keys(r).find(t=>r[t]===c),l={t1:"Listening",t2:"Speaking",t3:"Reading",t4:"Writing"},p=JSON.parse(a),u={Speaking:{c:p.c,a:p.a,e:p.e,...p.b?{b:p.b}:0,...p[9]?{9:p[9]}:0,...p[4]?{4:p[4]}:0},Writing:{q:p.q,d:p.d,6:p[6],...p[5]?{51:p[5][1]}:0,...p.l?{l1:p.l[1]}:0},Reading:{i:p.i,3:p[3],p:p.p,n:p.n},Listening:{2:p[2],...p[5]?{50:p[5][0]}:0,...p.l?{l0:p.l[0]}:0}},v=Object.keys(u.Speaking).filter(t=>u.Speaking[t]===Math.max(...Object.values(u.Speaking))),h=Object.keys(u.Speaking).filter(t=>u.Speaking[t]===Math.min(...Object.values(u.Speaking))),x=Object.keys(u.Writing).filter(t=>u.Writing[t]===Math.max(...Object.values(u.Writing))),_=Object.keys(u.Writing).filter(t=>u.Writing[t]===Math.min(...Object.values(u.Writing))),C=Object.keys(u.Reading).filter(t=>u.Reading[t]===Math.max(...Object.values(u.Reading))),b=Object.keys(u.Reading).filter(t=>u.Reading[t]===Math.min(...Object.values(u.Reading))),g=Object.keys(u.Listening).filter(t=>u.Listening[t]===Math.max(...Object.values(u.Listening))),f=Object.keys(u.Listening).filter(t=>u.Listening[t]===Math.min(...Object.values(u.Listening))),$=t=>t.length>1?t.slice(0,2):t,y=t=>t.slice(0,1),k=m.a.cloneDeep(this.topics);k.push({key:"l0",name:"互动听力-对答",enName:"Listen and Respond"},{key:"l1",name:"互动听力-总结",enName:"Summarize the Conversation"},{key:"50",name:"互动听力-对答",enName:"Listen and Respond"},{key:"51",name:"互动听力-总结",enName:"Summarize the Conversation"});const R=t=>t.map(t=>k.find(e=>e.key===t)[this.isI18n?"enName":"name"]),w=$(v),j=$(h),T=$(x),S=$(_),O=$(C),P=$(b),I=y(g),B=y(f),N=[],L=this.$t("examReport.danxiang.font1",{highest:l[n],lowest:l[d]});N.push(L);let E=this.$t("examReport.danxiang.font2",{highest:R(w),lowest:R(j)});Math.max(...Object.values(u.Speaking))===Math.min(...Object.values(u.Speaking))?E="":N.push(E);let q=this.$t("examReport.danxiang.font3",{highest:R(T),lowest:R(S)});Math.max(...Object.values(u.Writing))===Math.min(...Object.values(u.Writing))?q="":N.push(q);let M=this.$t("examReport.danxiang.font4",{highest:R(O),lowest:R(P)});Math.max(...Object.values(u.Reading))===Math.min(...Object.values(u.Reading))?M="":N.push(M);let D=this.$t("examReport.danxiang.font5",{highest:R(I),lowest:R(B)});return Math.max(...Object.values(u.Listening))===Math.min(...Object.values(u.Listening))?D="":N.push(D),N.join("<br/>")},correctRateText(){if(m.a.isEmpty(this.objectiveTopics))return"";const t=m.a.minBy(this.objectiveTopics,"score");return t?[""+this.$t("examReport.js.font1"),`<span class='colorPrimary'>${m.a.map(m.a.orderBy(this.objectiveTopics,"score","desc"),"name").join("、")}</span>。`,` <br>${this.$t("examReport.js.font2")}“<span class='colorPrimary'>${m.a.maxBy(this.transObjectiveTopics,"score").name}</span>”；`,` ${this.$t("examReport.js.font3")}“<span class='colorPrimary'>${t.name}</span>”。`].join(""):""},correctRateTextEnglish(){if(m.a.isEmpty(this.objectiveTopics))return"";const t=m.a.minBy(this.objectiveTopics,"score");return t?[""+this.$t("examReport.js.font1"),`<span class='colorPrimary'>${m.a.map(m.a.orderBy(this.objectiveTopics,"score","desc"),"name").join("、")}</span>.`,` <br>${this.$t("examReport.js.font2")}&nbsp;“<span class='colorPrimary'>${m.a.maxBy(this.transObjectiveTopics,"score").name}</span>”&nbsp;;`,` ${this.$t("examReport.js.font3")}&nbsp;“<span class='colorPrimary'>${t.name}</span>”.`].join(""):""},corrects(){const t=this.questions.find(t=>"8"===t.key);if(t)return[{cardTitle:this.$t("examReport.report.writingCorrection.head"),titleText:"Write about the topic below for 5 minutes.",title:t.title,ownAnswer:t.answer,score:t.ownScore,correct:t.correct||""}];const e=this.questions.find(t=>"q"===t.key);if(!e)return[];const s=JSON.parse(e.title||"[]"),i=JSON.parse(e.ownAnswer||"[]"),a=JSON.parse(e.correct||"[]"),r=this.topics.find(t=>"q"===t.key);return[{cardTitle:r.name+" - 01",titleText:"Write about the topic below for 5 minutes.",title:s[0],ownAnswer:i[0],score:e.ownScore,correct:a[0]},{cardTitle:r.name+" - 02",titleText:"Write a follow-up response for 3 minutes.",title:s[1],ownAnswer:i[1],score:e.ownScore2,correct:a[1]}]},apptopics(t){const{app:{topics:e}}=t;return e},groups(t){const{app:{groups:e}}=t;return e},compositions:t=>{const{exam:{questions:e},app:{topics:s}}=t,i=m.a.map(m.a.filter(e,t=>t.correctId),t=>{const{name:e=" "}=m.a.find(s,{key:t.key})||{},i={id:t.correctId,topic:{name:e},question:{meetCount:t.meetCount,id:t.id,difficulty:t.difficulty},key:t.key,score:t.ownScore,score2:t.ownScore2,status:t.status,isReport:"1"};return i});return i},showNew(){const t=this.questions.find(t=>"q"===t.key);return t&&t.correctId}}),target(){return"example"===this.$route.query.id?{score:130}:this.userTarget},shitiList(){const t=[];return m.a.each(this.exam.keys,e=>{if(void 0!==this.exam.recommend[e]){const{name:s,total:i}=m.a.find(this.topics,{key:e})||{};t.push({name:s,total:i,tiNum:this.exam.recommend[e]})}}),t}},watch:{scores:{handler(t){const[e=[110,120,115,100],s=[90,100,80,70,90]]=t;m.a.isEmpty(e)||m.a.isEmpty(s)||this.renderChat()},deep:!0,immediate:!0},exam:{handler(t){t.t1&&this.renderdanxiangChat()},deep:!0,immediate:!0}},async mounted(){const{token:t,isFromWeapp:e}=this.$route.query;e&&t&&await Object(r["r"])(t),window.addEventListener("resize",()=>{this.renderChat(),this.renderdanxiangChat()}),this.$store.dispatch("exam/examQuestionsGet",{examId:this.id}),this.examWordGet();try{document.querySelector(".el-main").scrollTop=0}catch(s){}},created(){},methods:{renderChat(){const t=document.getElementById("subScoreChat");if(!t)return;const e=d["init"](t);e.resize();const[s=[110,120,115,100],i=[90,100,80,70,90]]=this.scores,a={legend:{padding:0,left:"10",top:"10",itemWidth:8,itemHeight:8},tooltip:{},grid:{top:40,left:40,right:0,bottom:40},dataset:{source:[["product",this.$t("examReport.js.mkxf"),this.$t("examReport.js.mbxf")],["Literacy",s[0],i[0]],["Comprehension",s[1],i[1]],["Conversation",s[2],i[2]],["Production",s[3],i[3]]]},xAxis:{type:"category",interval:0,axisLabel:{show:!0,interval:0,rotate:15}},yAxis:{},series:[{type:"bar",itemStyle:{color:"#3C5D86"}},{type:"bar",itemStyle:{color:"#FFD9AC"}}]};e.setOption(a)},renderdanxiangChat(){if(!this.exam.t1)return;this.startRender=!0;const{s:t,t1:e,t2:s,t3:i,t4:a}=this.exam,r={legend:{padding:0,left:"10",top:"5",itemWidth:8,itemHeight:8},tooltip:{},grid:{top:40,left:40,right:0,bottom:40},xAxis:{type:"category",interval:0,axisLabel:{show:!0,interval:0,rotate:15}},yAxis:{},series:[{name:this.$t("examReport.danxiang.zhu1name"),type:"bar",data:[["Speaking",s],["Writing",a],["Reading",i],["Listening",e]],itemStyle:{color:"#3C5D86"},barWidth:"33%"},{name:this.$t("examReport.danxiang.zhu2name"),type:"line",yAxisIndex:0,symbol:"none",data:[["Speaking",t],["Writing",t],["Reading",t],["Listening",t]],lineStyle:{width:3},itemStyle:{color:"#FFD9ACFF"}}]};this.$nextTick(()=>{const t=document.getElementById("subdxScoreChat");if(!t)return;const e=d["init"](t);e.resize(),e.setOption(r)})},async examWordGet(){const{err:t,data:e}=await Object(o["v"])({examId:this.id});if(!t){this.examWord=e;const t=m.a.filter(this.examWord,{status:"0"});this.wordChecks=m.a.map(t,t=>({word:t.word,status:"1"}))}},getStatus(){return m.a.find(this.examWord,{status:"0"})&&this.wordChecks.length>0},isAdd(t){return m.a.find(this.wordChecks,{word:t})},wordClick(t){m.a.find(this.wordChecks,{word:t})?this.wordChecks=m.a.filter(this.wordChecks,e=>e.word!==t):this.wordChecks.push({word:t,status:"1"})},async addWord(){if(this.wordChecks.length<=0)return;const{err:t}=await Object(o["a"])({examId:this.id,words:this.wordChecks});t||(this.addSuccess=!0,this.$set(this.exam,"wordBook","1"),setTimeout(()=>{this.addSuccess=!1},3e3),this.examWordGet())},async add2wordBook(){if("1"===this.exam.wordBook||"example"===this.id)return;if(this.wordBookLoading)return;this.wordBookLoading=!0;const{err:t}=await Object(o["a"])({examId:this.id});t||this.$set(this.exam,"wordBook","1"),this.wordBookLoading=!1},async makePlanByExam(){if("1"===this.exam.plan||"example"===this.id)return;if(this.planLoading)return;this.planLoading=!0;const{err:t}=await Object(o["cb"])({examId:this.id});t||(this.planLoading=!1,this.$set(this.exam,"plan","1"))}}},X=U,Z=(s("3a6b"),s("c6f9"),Object(g["a"])(X,O,P,!1,null,"4d02ae0b",null)),tt=Z.exports,et={components:{reportold:S,reportnew:tt},data(){return{id:this.$route.query.id,showNew:!0,exam:{},loading:!0}},computed:{},async mounted(){const{token:t,isFromWeapp:e}=this.$route.query;e&&t&&await Object(r["r"])(t);const{err:s,data:i={}}=await Object(o["p"])({id:this.id});s||(this.exam=i,this.showNew="2"===i.ver,this.loading=!1);try{document.querySelector(".el-main").scrollTop=0}catch(a){}},created(){},methods:{}},st=et,it=Object(g["a"])(st,i,a,!1,null,"3b69acfe",null);e["default"]=it.exports},"7e87":function(t,e,s){},8358:function(t,e,s){"use strict";s("1006")},"869d":function(t,e,s){},"91be":function(t,e,s){},"9d56":function(t,e,s){},"9d6b":function(t,e,s){"use strict";var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"examResult result"},[e("div",{staticClass:"recordHead result666"},["2"===t.exam.status||"4"===t.exam.status?[e("i18n",{attrs:{path:"exam.examRecord.endingExam"}},[e("span",{attrs:{place:"createTime"}},[t._v(t._s(""+t.formatCreateTime(t.exam.endTime)))])])]:[e("i18n",{attrs:{path:"exam.examRecord.duringExam"}},[e("span",{attrs:{place:"createTime"}},[t._v(t._s(""+t.formatCreateTime(t.exam.createTime)))])])],e("div",{staticClass:"statue_tag"},["2"===t.exam.status?e("div",{class:"kuai kuai"+t.exam.status},[t._v(t._s(t.$t("home.ywc")))]):t._e(),"3"===t.exam.status?e("div",{class:"kuai kuai"+t.exam.status},[t._v(t._s(t.$t("correct.correctStatus.2")))]):t._e(),"4"===t.exam.status?e("div",{class:"kuai kuai"+t.exam.status},[t._v(t._s(t.$t("correct.correctStatus.3")))]):t._e(),e("div",{class:"jiao jiao"+t.exam.status})])],2),e("div",{staticClass:"result"},[e("div",{staticClass:"resultTable"},[e("div",{staticClass:"tableHead"},[e("div",{staticClass:"head1"},[t._v(" "+t._s(t.$t("componentExamResult.zf"))+" ")]),e("div",{staticClass:"head2"},[t._v(" "+t._s(t.$t("componentExamResult.dxfs"))+" ")])]),e("div",{staticClass:"tableContent"},[e("div",{staticClass:"left"},[t._v(t._s(t.exam.s))]),e("div",{staticClass:"right"},[e("div",{staticClass:"right-top"},[e("div",{staticClass:"col"},[e("div",{staticClass:"text1"},[t._v("Literacy")]),e("div",{staticClass:"text2"},[t._v(t._s(t.exam.s1))])]),e("div",{staticClass:"col"},[e("div",{staticClass:"text1"},[t._v("Comprehension")]),e("div",{staticClass:"text2"},[t._v(t._s(t.exam.s2))])])]),e("div",{staticClass:"right-bottom"},[e("div",{staticClass:"col"},[e("div",{staticClass:"text1"},[t._v("Conversation")]),e("div",{staticClass:"text2"},[t._v(t._s(t.exam.s3))])]),e("div",{staticClass:"col"},[e("div",{staticClass:"text1"},[t._v("Production")]),e("div",{staticClass:"text2"},[t._v(t._s(t.exam.s4))])])])])])]),e("div",{staticClass:"resultTable-mobile"},[e("div",{staticClass:"zongfen-s"},[t._v(t._s(t.exam.s))]),e("div",{staticClass:"zongfen"},[t._v(t._s(t.$t("componentExamResult.zf")))]),e("div",{staticClass:"s-con"},[e("div",{staticClass:"s-c-l"},[e("div",{staticClass:"s-c-s"},[t._v(t._s(t.exam.s1))]),e("div",{staticClass:"s-c-t"},[t._v("Literacy")])]),e("div",{staticClass:"s-c-l"},[e("div",{staticClass:"s-c-s"},[t._v(t._s(t.exam.s2))]),e("div",{staticClass:"s-c-t"},[t._v("Comprehension")])])]),e("div",{staticClass:"s-con"},[e("div",{staticClass:"s-c-l"},[e("div",{staticClass:"s-c-s"},[t._v(t._s(t.exam.s3))]),e("div",{staticClass:"s-c-t"},[t._v("Conversation")])]),e("div",{staticClass:"s-c-l"},[e("div",{staticClass:"s-c-s"},[t._v(t._s(t.exam.s4))]),e("div",{staticClass:"s-c-t"},[t._v("Production")])])])]),e("div",{staticClass:"btns"},[e("div",{staticStyle:{width:"100%"}},[t.isReport?t._e():e("div",{staticClass:"btn margin-bottom-16",on:{click:t.goReport}},[t._v(" "+t._s(t.$t("componentExamResult.seeCJD"))+" ")]),e("div",{class:"example"===t.id?"btn disabled":"btn",on:{click:t.goExamDetail}},[t._v(" "+t._s(t.$t("componentExamResult.seeResult"))+" ")])])]),e("div",{staticClass:"resultDesc"},[e("el-image",{staticClass:"recordResultImg",attrs:{src:t.recordResultImg}}),e("div",{staticClass:"text"},[t.resultDesc.title?e("div",{staticClass:"text1"},[t._v(t._s(t.resultDesc.title))]):t._e(),t.resultDesc.description?e("div",{staticClass:"text2",domProps:{innerHTML:t._s(t.resultDesc.description.replace(/\n/g,"<br>"))}}):t._e()])],1)]),t.isReport?e("div",{staticClass:"desc1"},[e("div",[t._v(t._s(t.$t("componentExamResult.desc1")))]),e("div",{domProps:{innerHTML:t._s(t.$t("componentExamResult.desc2"))}}),e("div",{domProps:{innerHTML:t._s(t.$t("componentExamResult.desc3"))}}),e("div",[t._v(t._s(t.$t("componentExamResult.desc4")))])]):e("div",{staticClass:"desc2"})])},a=[],r=(s("cfff"),s("b41b"),s("2f20"),s("5880")),o=s("f7f9"),c=s.n(o),n=s("d722"),d=s("ed08");const l=Object(n["Bb"])("exam/record-result.png"),m=Object(n["Bb"])("image/correct/index/feedbacking.svg"),p=Object(n["Bb"])("image/correct/index/corrected.svg");var u={props:{exam:Object,isReport:Boolean,id:String},data(){return{recordResultImg:l,feedbackingIcon:m,correctedIcon:p}},computed:{...Object(r["mapState"])("app",{examReport(t){return t.examReport}}),resultDesc(){const t=this.examReport.find(t=>this.exam.s>=t.min&&this.exam.s<=t.max);return t||{}}},methods:{formatCreateTime(t){return c()(t).format("YYYY-MM-DD HH:mm:ss")},goReport(){Object(d["o"])()?window.wx.miniProgram.navigateTo({url:"/pages/topic/index?examId="+this.exam.id}):this.$router.push("/exam/report?id="+this.exam.id)},goExamDetail(){"example"!==this.id&&(Object(d["o"])()?window.wx.miniProgram.navigateTo({url:"/pages/topic/index?examId="+this.exam.id}):this.$router.push("/exam/detail?id="+this.exam.id))}}},v=u,h=(s("d45c"),s("643b")),x=Object(h["a"])(v,i,a,!1,null,"379d0fc5",null);e["a"]=x.exports},aa0d:function(t,e,s){"use strict";s("9d56")},c6f9:function(t,e,s){"use strict";s("2a60")},d45c:function(t,e,s){"use strict";s("63e1")},daa1:function(t,e,s){},f960:function(t,e,s){},fa4c:function(t,e,s){"use strict";var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"one_correct_card",on:{click:t.goCorrectReport}},[e("div",{staticClass:"one_correct_card_title"},[t.item.topic?e("div",{staticClass:"one_correct_card_title_font"},[t._v(" "+t._s(t.item.topic.name)+" #"+t._s(t.item.question.id)+" ")]):t._e(),e("div",{staticClass:"one_correct_card_title_right_zw"})]),t.item.question?e("div",{staticClass:"one_correct_card_bq_out"},[e("div",{class:"one_tag diff difficulty"+t.item.question.difficulty},[t._v(" "+t._s(t.$t("wordBook.difficulty"+(t.item.question.difficulty||"1")))+" ("+t._s(t.difficultyName(t.item.question.difficulty||"1"))+") ")]),t.item.question.meetcount?e("div",{staticClass:"one_tag testnum"},[t._v(" "+t._s(t.$t("questions.meetCount",{num:t.item.question.meetcount}))+" ")]):t._e()]):t._e(),e("div",{staticClass:"one_correct_card_bottom"},[e("div",{staticClass:"one_correct_card_bottom_time"},[e("span",{directives:[{name:"show",rawName:"v-show",value:"1"!==t.item.example,expression:"item.example !== '1'"}]},[t._v(" "+t._s(t.dayjs(t.item.submitTime||t.item.createTime).format("YYYY-MM-DD HH:mm")))])]),"1"!==t.item.status?e("div",{staticClass:"one_correct_card_bottom_status"},[e("div",{staticClass:"correct_status_icon"},["0"===t.item.status?e("el-image",{staticClass:"img_self",attrs:{src:t.correctingIcon}}):t._e(),"1"===t.item.status?e("el-image",{staticClass:"img_self",attrs:{src:t.correctedIcon}}):t._e(),"2"===t.item.status?e("el-image",{staticClass:"img_self",attrs:{src:t.feedbackingIcon}}):t._e(),"3"===t.item.status?e("el-image",{staticClass:"img_self",attrs:{src:t.correctedIcon}}):t._e()],1),e("div",{staticClass:"correct_status_font"},["0"===t.item.status?e("span",[t._v(t._s(t.$t("correct.correctStatus.0")))]):t._e(),"1"===t.item.status?e("span",[t._v(t._s(t.$t("correct.correctStatus.1")))]):t._e(),"2"===t.item.status?e("span",[t._v(t._s(t.$t("correct.correctStatus.2")))]):t._e(),"3"===t.item.status?e("span",[t._v(t._s(t.$t("correct.correctStatus.3")))]):t._e()])]):t._e()]),e("div",{staticClass:"fixed_score"},[t.shouldShowScore()?e("div",{staticClass:"one_correct_card_bottom_score"},[t._v(" "+t._s(t.handleScore())),e("span",{staticClass:"one_correct_card_bottom_score_font"},[t._v(t._s(t.$t("commonCorrectCard.fen")))])]):t._e()]),"1"===t.item.example?e("div",{class:t.isI18n?"shili_icon shili_icon_small":"shili_icon"},[t._v(" "+t._s(t.$t("correctReport.shili"))+" ")]):t._e()])},a=[],r=(s("cfff"),s("b41b"),s("2f20"),s("5880")),o=s("f7f9"),c=s.n(o),n=s("d722");const d=Object(n["Bb"])("image/correct/index/corrected.svg"),l=Object(n["Bb"])("image/correct/index/correcting.svg"),m=Object(n["Bb"])("image/correct/index/feedbacking.svg");var p={props:{item:Object},data(){return{correctedIcon:d,correctingIcon:l,feedbackingIcon:m,isI18n:!0}},computed:{...Object(r["mapState"])({difficulties(t){const{question:{difficulties:e}}=t;return e}})},mounted(){},methods:{dayjs:c.a,difficultyName(t){if(t){const{name:e}=this.difficulties.find(e=>e.code===t)||{};return e}return""},shouldShowScore(){const{status:t}=this.item;return"2"!==t&&"0"!==t},handleScore(){const{score:t,score2:e}=this.item;return e?5*Math.round((5*Number(t)+3*Number(e))/8/5):t},goCorrectReport(){console.log(this.item);const{status:t,example:e="0",ver:s="2",isReport:i}=this.item;"0"!==t&&("2"!==s?this.$router.push("/correct/correctReportOld?id="+this.item.id):this.$router.push(`/correct/correctReport?id=${this.item.id}&example=${e}&isReport=${i}`))}}},u=p,v=(s("aa0d"),s("643b")),h=Object(v["a"])(u,i,a,!1,null,"46a2b005",null);e["a"]=h.exports}}]);