(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6bc7a388"],{"027e":function(t,e,s){},"06f7":function(t,e,s){},"0803":function(t,e,s){"use strict";s("48f0")},"0951":function(t,e,s){"use strict";s("027e")},"14b9":function(t,e,s){},"14d4":function(t,e,s){},1645:function(t,e,s){"use strict";s("8a7f")},1754:function(t,e,s){"use strict";s("8485")},"1ccd":function(t,e,s){},"21d4":function(t,e,s){"use strict";s("482a")},"23f0":function(t,e,s){"use strict";s("cece")},2511:function(t,e,s){},"2b94":function(t,e,s){"use strict";s("cfff");var i=function(){var t,e=this,s=e._self._c;return s("div",{staticClass:"common_bottom_correct_btn"},[e.question.correctStatus?["0"===e.question.correctStatus?s("div",{staticClass:"correct_ccmm"},[s("div",{staticClass:"icon"},[s("el-image",{staticClass:"img_self",attrs:{src:e.correctingIcon}})],1),s("div",{staticClass:"font"},[e._v(e._s(e.$t("common_bottom_correct_btn.correcting")))])]):e._e(),"1"===e.question.correctStatus?s("div",{staticClass:"correct_ccmm"},[s("div",{staticClass:"icon"},[s("el-image",{staticClass:"img_self",attrs:{src:e.correctedIcon}})],1),s("div",{staticClass:"font"},[e._v(e._s(e.$t("common_bottom_correct_btn.corrected")))])]):e._e(),"2"===e.question.correctStatus?s("div",{staticClass:"correct_ccmm"},[s("div",{staticClass:"icon"},[s("el-image",{staticClass:"img_self",attrs:{src:e.feedbackingIcon}})],1),s("div",{staticClass:"font"},[e._v(e._s(e.$t("common_bottom_correct_btn.feedbacking")))])]):e._e(),"3"===e.question.correctStatus?s("div",{staticClass:"correct_ccmm"},[s("div",{staticClass:"icon"},[s("el-image",{staticClass:"img_self",attrs:{src:e.correctedIcon}})],1),s("div",{staticClass:"font"},[e._v(e._s(e.$t("common_bottom_correct_btn.revised")))])]):e._e()]:null!==e.user.correctNum?[s("div",{staticClass:"sqpg_ccmm",on:{click:e.requestCorrect}},[e._v(" "+e._s(e.$t("vip.correctText"))+" "),"Pro"===(null===(t=e.user)||void 0===t?void 0:t.vipTag)?void 0:[e._v(" ("+e._s(e.correctNum)+")")]],2)]:e.isVip?s("div",{staticClass:"sqpg_ccmm",on:{click:e.openCorrectUseOutTk}},[e._v(e._s(e.$t("vip.correctText"))+"(0)")]):s("div",{staticClass:"sqpg_ccmm small_sqpg_ccmm",on:{click:function(t){return e.$router.push("/vip")}}},[e._v(e._s(e.$t("vip.lkkt")))])],2)},a=[],n=s("5880"),r=s("d722");const o=Object(r["Bb"])("image/correct/index/corrected.svg"),c=Object(r["Bb"])("image/correct/index/correcting.svg"),l=Object(r["Bb"])("image/correct/index/feedbacking.svg");var d={props:{question:Object,answerData:Object,correctNum:Number,isVip:Boolean},data(){return{correctedIcon:o,correctingIcon:c,feedbackingIcon:l}},computed:{...Object(n["mapState"])("app",{user(t){const{user:e}=t;return e}})},mounted(){console.log(this.user)},methods:{async requestCorrect(){var t;"Pro"!==(null===(t=this.user)||void 0===t?void 0:t.vipTag)?this.correctNum?await this.$store.dispatch("question/openCorrectTK"):await this.$store.dispatch("question/openCorrectUseOutTk"):await this.$store.dispatch("question/openCorrectTK")},async openCorrectUseOutTk(){await this.$store.dispatch("question/openCorrectUseOutTk")}}},u=d,h=(s("21d4"),s("643b")),p=Object(h["a"])(u,i,a,!1,null,"f1550f68",null);e["a"]=p.exports},"2ce2":function(t,e,s){"use strict";s("b54d")},"2f38":function(t,e,s){"use strict";s("14d4")},"32cd":function(t,e,s){"use strict";s("5e35")},"35a0":function(t,e,s){"use strict";s("4d81")},"35e7":function(t,e,s){},"3b6c":function(t,e,s){},4193:function(t,e,s){"use strict";s("41f2")},"41f2":function(t,e,s){},"42bb":function(t,e,s){"use strict";s("59fb")},"482a":function(t,e,s){},"48f0":function(t,e,s){},"4cb4":function(t,e,s){"use strict";var i=function(){var t=this,e=t._self._c;return"2"===t.topicKey?e("Topic2",{attrs:{question:t.question,"answer-data":t.answerData,answer:t.answer}}):"3"===t.topicKey||"p"===t.topicKey?e("Topic3p",{attrs:{question:t.question,"answer-data":t.answerData,answer:t.answer}}):"pg"===t.topicKey?e("Topicpforgroup",{attrs:{question:t.question,"answer-data":t.answerData,answer:t.answer}}):"2g"===t.topicKey?e("Topic2forgroup",{attrs:{question:t.question,"answer-data":t.answerData,answer:t.answer}}):["4","a","9","c","e"].includes(t.topicKey)?e("Topic4a9ce",{attrs:{question:t.question,"answer-data":t.answerData,answer:t.answer,likes:t.likes,topic:t.topic,"like-total":t.likeTotal,exam:t.exam,"display-order":t.displayOrder,total:t.total},on:{onSubmit:t.onSubmit,reset:t.reset,nextOrPrevQuestionGet:t.nextOrPrevQuestionGet}}):"7"===t.topicKey?e("Topic7",{attrs:{question:t.question,"answer-data":t.answerData,answer:t.answer}}):"n"===t.topicKey?e("Topicn",{attrs:{question:t.question,"answer-data":t.answerData,answer:t.answer},on:{onSubmit:t.onSubmit,dictChange:function(e){return t.$emit("dictChange")}}}):"8"===t.topicKey||"d"===t.topicKey?e("Topic8d",{attrs:{question:t.question,"answer-data":t.answerData,answer:t.answer,exam:t.exam}}):"6"===t.topicKey?e("Topic6",{attrs:{question:t.question,"answer-data":t.answerData,answer:t.answer,exam:t.exam}}):"f"===t.topicKey?e("Topicf",{attrs:{question:t.question,"answer-data":t.answerData,answer:t.answer}}):"i"===t.topicKey?e("Topici",{attrs:{question:t.question,topic:t.topic,"answer-data":t.answerData,answer:t.answer,exam:t.exam,"display-order":t.displayOrder,total:t.total},on:{nextOrPrevQuestionGet:t.nextOrPrevQuestionGet,onSubmit:t.onSubmit,reset:t.reset}}):"l"===t.topicKey?e("Topicl",{attrs:{question:t.question,"answer-data":t.answerData,answer:t.answer,topic:t.topic,exam:t.exam,"display-order":t.displayOrder,total:t.total},on:{nextOrPrevQuestionGet:t.nextOrPrevQuestionGet,onSubmit:t.onSubmit,reset:t.reset,onPlay:t.onPlay,onEnded:t.onEnded}}):"5"===t.topicKey?e("Topic5",{attrs:{question:t.question,"answer-data":t.answerData,answer:t.answer,topic:t.topic,exam:t.exam,"display-order":t.displayOrder,total:t.total},on:{nextOrPrevQuestionGet:t.nextOrPrevQuestionGet,onSubmit:t.onSubmit,reset:t.reset,onPlay:t.onPlay,onEnded:t.onEnded}}):"b"===t.topicKey?e("Topicb",{attrs:{question:t.question,"answer-data":t.answerData,answer:t.answer,topic:t.topic,exam:t.exam,"display-order":t.displayOrder,total:t.total},on:{nextOrPrevQuestionGet:t.nextOrPrevQuestionGet,onSubmit:t.onSubmit,reset:t.reset,onPlay:t.onPlay,onEnded:t.onEnded}}):"q"===t.topicKey?e("Topicq",{attrs:{question:t.question,"answer-data":t.answerData,answer:t.answer,topic:t.topic,exam:t.exam,"display-order":t.displayOrder,total:t.total},on:{nextOrPrevQuestionGet:t.nextOrPrevQuestionGet,onSubmit:t.onSubmit,reset:t.reset,onPlay:t.onPlay,onEnded:t.onEnded}}):t._e()},a=[],n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"topic-2-test"},[e("div",{class:"title "+(Boolean(t.answerData)&&!1===t.isgrouptest?"answered":"")},[t._v(" "+t._s(t.$t("topicInfo.title2"))+" ")]),!1===t.isgrouptest?[t.answerData&&(t.answerData.score||0===t.answerData.score)?e("div",{staticClass:"rate"},[e("div",{staticClass:"rateText"},[t._v(t._s(t.$t("topicInfo.myacc")))]),e("div",{staticClass:"rateNum"},[t._v(t._s(""+t.answerData.score)),e("span",{staticClass:"symbol"},[t._v("%")])])]):t._e()]:t._e(),e("div",{staticClass:"content1"},[t.question.id?e("Player",{staticClass:"player",attrs:{id:t.question.id,md5:t.question.md5,"auto-play":"",disabled:0===t.left&&!Boolean(t.answerData)},on:{onEnd:t.onEnd}}):t._e(),Boolean(t.answerData)?t._e():e("div",{staticClass:"times"},[t._v(t._s(t.$t("topicInfo.playNum"))+" "+t._s(t.left))]),e("div",{staticClass:"right"},[e("el-input",{staticClass:"input",attrs:{disabled:Boolean(t.answerData)&&!1===t.isgrouptest,type:"textarea",spellcheck:!1,autocomplete:"off",rows:6,placeholder:t.$t("topicInfo.yourAnswer")},on:{input:t.onChange},model:{value:t.answer,callback:function(e){t.answer=e},expression:"answer"}})],1)],1),!1===t.isgrouptest?e("div",{staticClass:"content"},[e("div",{staticClass:"right right2"},[e("div",{staticClass:"items"},[t.extData.titleTranslate?e("div",{staticClass:"item",on:{click:function(e){return t.changeshowWitchItem(0)}}},[e("div",{class:0===t.showWitchItem?"itemLeft itemLeft_open":"itemLeft"},[e("div",{staticClass:"itemTitle"},[t._v(" "+t._s(t.$t("topicInfo.fanyiCankao"))+" ")]),e("div",{staticClass:"arrow_out"},[0===t.showWitchItem?e("span",[e("el-image",{attrs:{src:t.arrow_up}})],1):e("span",[e("el-image",{attrs:{src:t.arrow_down}})],1)])])]):t._e()]),-1!==t.showWitchItem?e("div",{staticClass:"new_item_content_show_out"},[0===t.showWitchItem?e("div",[e("div",{domProps:{innerHTML:t._s(t.extData.titleTranslate.replace(/\n/g,"<br/>"))}})]):t._e()]):t._e(),Boolean(t.answerData)?e("div",{class:t.isI18n?"correct-answer":"correct-answer mg-top-16"},[e("div",{staticClass:"correct-answer-title"},[t._v(" "+t._s(t.$t("topicInfo.cankaoAnswer"))+" ")]),e("div",{staticClass:"correct-answer-content"},[t._v(" "+t._s(t.question.answer)+" ")])]):t._e()])]):t._e()],2)},r=[],o=s("60bb"),c=s.n(o),l=s("d722"),d=function(){var t=this,e=t._self._c;return e("div",{class:"player "+(t.disabled?"disabled":""),on:{click:t.onPlay}},[e("div",{staticClass:"volume"},[e("el-image",{staticClass:"volume1",attrs:{ondragstart:"return false;",oncontextmenu:"return false;",src:t.staticUrlGet("image/volume-1.png")}}),e("el-image",{directives:[{name:"show",rawName:"v-show",value:t.volumeShow>=1,expression:"volumeShow >= 1"}],staticClass:"volume2",attrs:{ondragstart:"return false;",oncontextmenu:"return false;",src:t.staticUrlGet("image/volume-2.png")}}),e("el-image",{directives:[{name:"show",rawName:"v-show",value:t.volumeShow>=2,expression:"volumeShow >= 2"}],staticClass:"volume3",attrs:{ondragstart:"return false;",oncontextmenu:"return false;",src:t.staticUrlGet("image/volume-3.png")}})],1)])},u=[],h=s("ed08"),p={props:{id:Number,md5:String,disabled:Boolean,autoPlay:Boolean},data(){return{staticUrlGet:l["Cb"],volumeShow:2,timmer:null,playing:!1,audio:null}},watch:{id(){this.audio&&(this.playing=!1,this.disabled=!1,this.volumeShow=2,this.audio.pause(),clearInterval(this.timmer)),this.autoPlay&&!Object(h["n"])()&&this.onPlay()}},mounted(){this.id&&this.autoPlay&&!Object(h["n"])()&&this.onPlay()},destroyed(){this.audio&&(this.playing=!1,this.disabled=!1,this.volumeShow=2,this.audio.pause(),clearInterval(this.timmer))},methods:{async onPlay(){if(this.playing||this.disabled)return;this.audio=new Audio;const t=await Object(l["w"])({md5:this.md5,type:"mp3"});this.audio.src=t,Object(h["n"])()?this.audio.play():this.audio.addEventListener("canplaythrough",()=>{this.audio.play()}),this.audio.addEventListener("play",()=>{this.playing=!0,this.$emit("onPlay");let t=1;this.timmer=setInterval(()=>{let{volumeShow:e}=this;t?(e--,e<0&&(e=1,t=0)):(e++,e>2?(e=1,t=1):2!==e||this.playing||clearInterval(this.timmer)),this.volumeShow=e},200)}),this.audio.addEventListener("ended",()=>{clearInterval(this.timmer),this.$emit("onEnd"),this.volumeShow=2,this.playing=!1})}}},m=p,v=(s("c834"),s("643b")),w=Object(v["a"])(m,d,u,!1,null,"decaffb0",null),_=w.exports;const g=Object(l["Bb"])("exam/arrow_up.svg"),f=Object(l["Bb"])("exam/arrow_down.svg");var C={components:{Player:_},props:{question:Object,answerData:Object},data(){return{arrow_up:g,arrow_down:f,answer:"",left:3,showWitchItem:-1,isgrouptest:!1,isI18n:!0}},computed:{extData(){const t=JSON.parse(this.question.extData||"{}");return t}},watch:{question:{handler(){this.left=3,this.$store.commit("question/upState",{answer:" "})},deep:!0},answerData:{handler(t){c.a.isEmpty(t)?(this.answer="",this.left=3):this.answer=t.answer},immediate:!0,deep:!0}},mounted(){this.$route.query.groupId&&(this.isgrouptest=!0)},methods:{changeshowWitchItem(t){this.showWitchItem===t?this.showWitchItem=-1:this.showWitchItem=t},onEnd(){this.answerData||(this.left-=1)},onChange(t){!1===this.isgrouptest?this.$store.commit("question/upState",{answer:t}):this.$store.commit("groupquestion/upState",{answer:t})}}},y=C,b=(s("ede6"),Object(v["a"])(y,n,r,!1,null,"0d7abfb2",null)),I=b.exports,x=function(){var t=this,e=t._self._c;return e("div",{staticClass:"topic-3-test"},["3"===t.key?e("div",{class:"title "+(Boolean(t.answerData)&&!1===t.isgrouptest?"answered":"")},[[t._v(t._s(t.$t("topicInfo.title3")))]],2):t._e(),"p"===t.key?e("div",{class:"title "+(Boolean(t.answerData)&&!1===t.isgrouptest?"answered1":"")},[[t._v(t._s(t.$t("topicInfo.titlep")))]],2):t._e(),!1===t.isgrouptest?[t.answerData&&(t.answerData.score||0===t.answerData.score)?e("div",{staticClass:"rate"},[e("div",{staticClass:"rateText"},[t._v(t._s(t.$t("topicInfo.myacc")))]),e("div",{staticClass:"rateNum"},[t._v(t._s(""+t.answerData.score)),e("span",{staticClass:"symbol"},[t._v("%")])])]):t._e()]:t._e(),"3"===t.key?e("div",{staticClass:"title_new"},[t._v(t._s(t.extData.title))]):t._e(),!1===t.isgrouptest?[e("div",{staticClass:"article_out"},t._l(t.content,(function(s,i){return e("span",{key:i},[i%2===1&&t.inputs[i]?[e("div",{staticStyle:{display:"inline-block"}},[t._l((t.prefixs[(i-1)/2]||"").split(""),(function(t,s){return e("input",{key:"p-"+s,staticClass:"input front",attrs:{autocomplete:"new-password",disabled:""},domProps:{value:t}})})),t._l(s.split(""),(function(a,n){return e("input",{directives:[{name:"model",rawName:"v-model",value:t.inputs[i][n],expression:"inputs[i][j]"}],key:n,class:`input input-${i}-${n} ${Boolean(t.answerData)&&t.inputs[i].join("")!==s?"word-err":""} ${Boolean(t.answerData)&&t.inputs[i][n]!==s[n]?"letter-err":""}`,attrs:{autocomplete:"new-password",disabled:Boolean(t.answerData)},domProps:{value:t.inputs[i][n]},on:{input:[function(e){e.target.composing||t.$set(t.inputs[i],n,e.target.value)},function(e){return t.onChange(i,n)}]}})}))],2),Boolean(t.answerData)?e("span",{class:t.answerRightOrWrong(i)?"correct-answer":"correct-answer correct-answer-err"},[t._v("("+t._s(t.correctWord(i))+") ")]):t._e()]:[t._v(" "+t._s(s)+" ")]],2)})),0)]:[e("div",{staticClass:"article_out"},t._l(t.content,(function(s,i){return e("span",{key:i},[i%2===1&&t.inputs[i]?[e("div",{staticStyle:{display:"inline-block"}},[t._l((t.prefixs[(i-1)/2]||"").split(""),(function(t,s){return e("input",{key:"p-"+s,staticClass:"input front",attrs:{autocomplete:"new-password",disabled:""},domProps:{value:t}})})),t._l(s.split(""),(function(s,a){return e("input",{directives:[{name:"model",rawName:"v-model",value:t.inputs[i][a],expression:"inputs[i][j]"}],key:a,class:`input input-${i}-${a}  `,attrs:{autocomplete:"new-password"},domProps:{value:t.inputs[i][a]},on:{input:[function(e){e.target.composing||t.$set(t.inputs[i],a,e.target.value)},function(e){return t.onChange(i,a)}]}})}))],2)]:[t._v(" "+t._s(s)+" ")]],2)})),0)],!1===t.isgrouptest?["p"===t.key?e("div",{staticClass:"p_word_out"},[t.answerData&&(t.answerData.score||0===t.answerData.score)?e("div",t._l(t.content,(function(s,i){return e("span",{key:i},[i%2===1&&t.inputs[i]?[Boolean(t.answerData)?e("span",[t.dictData.length?e("Dicts",{attrs:{dicts:t.dictData},on:{dictChange:t.onDictChange}}):t._e()],1):t._e()]:t._e()],2)})),0):t._e()]):t._e()]:t._e(),!1===t.isgrouptest?e("div",{staticClass:"items"},[t.extData.titleTranslate?e("div",{staticClass:"item",on:{click:function(e){return t.changeshowWitchItem(0)}}},[e("div",{class:0===t.showWitchItem?"itemLeft itemLeft_open":"itemLeft"},[e("div",{staticClass:"itemTitle"},[t._v(" "+t._s(t.$t("topicInfo.fanyiCankao"))+" ")]),e("div",{staticClass:"arrow_out"},[0===t.showWitchItem?e("span",[e("el-image",{attrs:{src:t.arrow_up}})],1):e("span",[e("el-image",{attrs:{src:t.arrow_down}})],1)])])]):t._e()]):t._e(),-1!==t.showWitchItem?e("div",{staticClass:"new_item_content_show_out"},[0===t.showWitchItem?e("div",[e("div",{domProps:{innerHTML:t._s(t.extData.titleTranslate.replace(/\n/g,"<br/>"))}})]):t._e()]):t._e()],2)},$=[],q=(s("cfff"),s("b41b"),s("6058"),s("080f"),function(){var t=this,e=t._self._c;return e("div",{staticClass:"dicts"},t._l(t.dicts,(function(s,i){return e("div",{key:s.title+i,staticClass:"dict",style:t.itemStyle},[e("div",{staticClass:"dict-top"},[e("div",{staticClass:"left"},[e("div",{staticClass:"text",on:{mouseup:function(e){return e.target!==e.currentTarget?null:t.$store.dispatch("question/openDragWordTranslateTK")}}},[t._v(" "+t._s(s.title)+" ")]),e("div",{staticClass:"dict-volume"},[e("div",{staticClass:"one_vioce",on:{click:function(e){return t.onPlay(s.title,"uk")}}},[e("span",{staticClass:"yinbiao"},[t._v(t._s(`${t.$t("componentDict.ying")}[${s.prUK}]`))]),e("div",{staticClass:"dict-volume-img"})]),e("div",{staticClass:"one_vioce",on:{click:function(e){return t.onPlay(s.title,"us")}}},[e("span",{staticClass:"yinbiao"},[t._v(t._s(`${t.$t("componentDict.mei")}[${s.prUS}]`))]),e("div",{staticClass:"dict-volume-img"})])])])]),e("div",{staticClass:"dict-bottom"},[s.tip?e("div",{staticClass:"dict-detail"},[t._v(" "+t._s(s.tip)+" ")]):[s.mean?e("div",{staticClass:"dict-detail",domProps:{innerHTML:t._s(s.mean.replace(/\n/g,"<br>"))}}):t._e()],e("div",{staticClass:"right"},[s.cefr?e("div",{staticClass:"dict-level"},[t._v(t._s("CEFR-"+s.cefr))]):t._e(),s.difficulty?e("div",{class:"dict-difficulty dict-difficulty"+s.difficulty},[t._v(" "+t._s(`${t.$t("componentDict.nd")}${s.difficulty}`)+" ")]):t._e(),s.wordBook?e("div",{class:"btn "+(s.userWord?"userWord":""),on:{click:function(e){t.handleUserWord(s.title,Boolean(s.userWord))}}},[t._v(" "+t._s(s.userWord?""+t.$t("componentDict.movein"):""+t.$t("componentDict.moveout"))+" ")]):t._e()])],2)])})),0)}),k=[];const S=Object(l["Bb"])("image/playing.png");var T={props:{dicts:Array,itemStyle:{type:Object}},data(){return{playImg:S}},methods:{async onPlay(t,e){this.audio=new Audio;const s="uk"===e?Object(l["ib"])(t):Object(l["lb"])(t);this.audio.src=s,this.audio.play()},async handleUserWord(t,e){e?await this.$store.dispatch("question/delUserWord",{word:t}):await this.$store.dispatch("question/addUserWord",{word:t}),this.$emit("dictChange")}}},D=T,O=(s("76dc"),Object(v["a"])(D,q,k,!1,null,"fec4db84",null)),P=O.exports;const W=Object(l["Bb"])("exam/arrow_up.svg"),B=Object(l["Bb"])("exam/arrow_down.svg");var j={components:{Dicts:P},props:{question:Object,answerData:Object},data(){return{arrow_up:W,arrow_down:B,content:[],inputs:[],prefixs:[],dictData:[],showWitchItem:-1,isgrouptest:!1}},computed:{extData(){const t=JSON.parse(this.question.extData||"{}");return t},key(){return this.question.key}},watch:{question:{handler(t){if(t){console.log(t),this.processQuestion(t);const{key:e}=t;"3"===e?document.addEventListener("keydown",this.keydown3):"p"===e&&document.addEventListener("keydown",this.keydownp)}},deep:!0,immediate:!0},answerData:{handler(t){c.a.isEmpty(t)||this.processQuestion(this.question)},deep:!0,immediate:!0}},created(){this.processQuestion(this.question)},mounted(){this.$route.query.groupId&&(this.isgrouptest=!0)},beforeDestroy(){document.removeEventListener("keydown",this.keydown3),document.removeEventListener("keydown",this.keydownp)},methods:{changeshowWitchItem(t){this.showWitchItem===t?this.showWitchItem=-1:this.showWitchItem=t},onDictChange(){this.dictData.forEach(t=>{t.userWord=!t.userWord})},processQuestion(t={}){const e=` ${t.answer||""} `.replace(/<\/?span>/g,"").replace(/<del>[^<]*<\/del>/g,""),s=e.split(/<ins>(\w+)<\/ins>/g);this.content=s;const i=[];if(this.content=s.map((t,e)=>{if(e%2===0){const e=t.lastIndexOf(" "),s=t.substring(e+1);return i.push(s),t.substring(0,e+1)}return t}),this.prefixs=i,!c.a.isEmpty(this.answerData)&&this.answerData.answer)this.inputs="string"===typeof this.answerData.answer?JSON.parse(this.answerData.answer):this.answerData.answer,"p"===this.key&&this.findMyAnser();else{const t=[];for(let e=0;e<s.length;e++)t[e]=[];this.inputs=t,!1===this.isgrouptest?this.$store.commit("question/upState",{answer:t}):this.$store.commit("groupquestion/upState",{answer:t})}},findMyAnser(){this.content.forEach((t,e)=>{if(e%2===1&&this.inputs[e]){const t=this.correctWord(e);this.getDict(t)}})},answerRightOrWrong(t){let e=!0;return e=this.content[t]===this.inputs[t].join(""),e},correctWord(t){const e=this.prefixs[(t-1)/2];return e?`${e}${this.content[t]}`:""},onChange(t,e){this.inputs[t][e].length>1&&(this.inputs[t][e]=this.inputs[t][e][this.inputs[t][e].length-1]);{const s=document.querySelector(`.topic-3-test .input.input-${t}-${e+1}`);if(s)s.focus();else{const e=document.querySelector(`.topic-3-test .input.input-${t+2}-0`);e&&e.focus()}}const s=[];this.inputs.forEach(t=>{t.forEach(t=>{t&&s.push(t)})}),!1===this.isgrouptest?this.$store.commit("question/upState",{answer:s.length?this.inputs:void 0}):this.$store.commit("groupquestion/upState",{answer:s.length?this.inputs:void 0})},keydownp(t){const e=document.querySelector(".topic-3-test .input:focus");if(!e)return;const[,s,i]=e.className.split(" ")[1].split("-");if(37===t.keyCode){if(i>0){const t=document.querySelector(`.topic-3-test .input.input-${s}-${i-1}`);t&&(t.focus(),setTimeout(()=>{t.setSelectionRange(t.value.length,t.value.length)},0))}}else if(39===t.keyCode){const t=document.querySelector(`.topic-3-test .input.input-${s}-${Number(i)+1}`);t&&(t.focus(),setTimeout(()=>{t.setSelectionRange(t.value.length,t.value.length)},0))}else if(8===t.keyCode&&document.activeElement.className){const[,t]=document.activeElement.className.split(" ");if(t){const[,e,s]=t.split("-"),i=document.querySelector(`.topic-3-test .input.input-${e}-${s}`);if(i&&i.value)this.inputs[e][s]="";else{const t=document.querySelector(`.topic-3-test .input.input-${e}-${s-1}`);if(t)t.focus();else if(this.content[e-2]){const t=this.content[e-2].length,s=document.querySelector(`.topic-3-test .input.input-${e-2}-${t-1}`);s&&s.focus()}}}}},keydown3(t){const e=document.querySelector(".topic-3-test .input:focus");if(!e)return;const[,s,i]=e.className.split(" ")[1].split("-");if(37===t.keyCode){if(0===Number(i)&&1===Number(s))return;const t=document.querySelector(`.topic-3-test .input.input-${s}-${i-1}`);if(t)t.focus(),setTimeout(()=>{t.setSelectionRange(t.value.length,t.value.length)},0);else{const t=document.querySelector(`.topic-3-test .input.input-${s-2}-${this.content[s-2].length-1}`);t&&(t.focus(),setTimeout(()=>{t.setSelectionRange(t.value.length,t.value.length)},0))}}else if(39===t.keyCode){const t=document.querySelector(`.topic-3-test .input.input-${s}-${Number(i)+1}`);if(t)t.focus(),setTimeout(()=>{t.setSelectionRange(t.value.length,t.value.length)},0);else{const t=document.querySelector(`.topic-3-test .input.input-${Number(s)+2}-0`);t&&(t.focus(),setTimeout(()=>{t.setSelectionRange(t.value.length,t.value.length)},0))}}else if(8===t.keyCode&&document.activeElement.className){const[,t]=document.activeElement.className.split(" ");if(t){const[,e,s]=t.split("-"),i=document.querySelector(`.topic-3-test .input.input-${e}-${s}`);if(i&&i.value)this.inputs[e][s]="";else{const t=document.querySelector(`.topic-3-test .input.input-${e}-${s-1}`);if(t)t.focus();else if(this.content[e-2]){const t=this.content[e-2].length,s=document.querySelector(`.topic-3-test .input.input-${e-2}-${t-1}`);s&&s.focus()}}}}},async getDict(t){const e=t.toLowerCase(),{data:s,err:i}=await Object(l["k"])({q:e});i&&(this.dictData=[]);const a=[];console.log(s),Object.keys(s).forEach(t=>{a.push({...s[t],title:t})}),this.dictData=a}}},L=j,N=(s("da0a"),Object(v["a"])(L,x,$,!1,null,"3789c170",null)),A=N.exports,M=function(){var t=this,e=t._self._c;return e("div",{staticClass:"topic-4-test"},[e("div",{staticClass:"topic4-wrapper"},[e("div",{class:"title "+(Boolean(t.answerData)?"answered":"")},[t._v(t._s(t.title))]),t.question.key&&"4"!==t.question.key?e("div",{staticClass:"subtitle"},[t._v(t._s(t.subtitle))]):t._e(),"4"===t.question.key?e("div",{staticClass:"content mt40"},[e("el-image",{staticClass:"reading-img",attrs:{ondragstart:"return false;",oncontextmenu:"return false;",src:t.readingImg}}),e("div",{staticClass:"question-title"},[t._v(t._s(t.question.title))])],1):t._e(),"9"===t.question.key?e("div",{staticClass:"content"},[e("Player",{staticClass:"player",attrs:{id:t.question.id,md5:t.question.md5,"auto-play":"",disabled:0===t.left&&!Boolean(t.answerData)},on:{onEnd:t.onEnd}})],1):t._e(),Boolean(t.answerData)||"9"!==t.question.key?t._e():e("div",{staticClass:"times"},[t._v(" "+t._s(t.$t("topicInfo.playNum"))+" "+t._s(t.left)+" ")]),"a"===t.question.key?e("div",{staticClass:"content"},[e("el-image",{staticClass:"question-img",attrs:{ondragstart:"return false;",oncontextmenu:"return false;",src:t.fileUrlGet({md5:t.question.md5,type:"jpg"})}})],1):t._e(),"e"===t.question.key||"c"===t.question.key?e("div",{staticClass:"content"},[e("div",{staticClass:"content-title"},[t._v(t._s(t.question.title))])]):t._e(),e("div",{staticClass:"items"},[t.question.answer&&"9"===t.question.key?e("div",{staticClass:"item",on:{click:function(e){return t.changeshowWitchItem(0)}}},[e("div",{class:0===t.showWitchItem?"itemLeft itemLeft_open":"itemLeft"},[e("div",{staticClass:"itemTitle"},[t._v(" "+t._s(t.$t("topicInfo.yuanwenCankao"))+" ")]),e("div",{staticClass:"arrow_out"},[0===t.showWitchItem?e("span",[e("el-image",{attrs:{src:t.arrow_up}})],1):e("span",[e("el-image",{attrs:{src:t.arrow_down}})],1)])])]):t._e(),t.question.answer&&["a","e","c"].includes(t.question.key)?e("div",{staticClass:"item",on:{click:function(e){return t.changeshowWitchItem(1)}}},[e("div",{class:1===t.showWitchItem?"itemLeft itemLeft_open":"itemLeft"},[e("div",{staticClass:"itemTitle"},[t._v(" "+t._s(t.$t("topicInfo.fanwen"))+" ")]),e("div",{staticClass:"arrow_out"},[1===t.showWitchItem?e("span",[e("el-image",{attrs:{src:t.arrow_up}})],1):e("span",[e("el-image",{attrs:{src:t.arrow_down}})],1)])])]):t._e(),t.extData.modelText&&["a","e","c","9"].includes(t.question.key)?e("div",{staticClass:"item",on:{click:function(e){return t.changeshowWitchItem(2)}}},[e("div",{class:2===t.showWitchItem?"itemLeft itemLeft_open":"itemLeft"},[e("div",{staticClass:"itemTitle"},[t._v(" "+t._s(t.$t("topicInfo.fanwen"))+" ")]),e("div",{staticClass:"arrow_out"},[2===t.showWitchItem?e("span",[e("el-image",{attrs:{src:t.arrow_up}})],1):e("span",[e("el-image",{attrs:{src:t.arrow_down}})],1)])])]):t._e(),t.extData.titleTranslate?e("div",{staticClass:"item",on:{click:function(e){return t.changeshowWitchItem(3)}}},[e("div",{class:3===t.showWitchItem?"itemLeft itemLeft_open":"itemLeft"},[e("div",{staticClass:"itemTitle"},[t._v(" "+t._s(t.$t("topicInfo.fanyiCankao"))+" ")]),e("div",{staticClass:"arrow_out"},[3===t.showWitchItem?e("span",[e("el-image",{attrs:{src:t.arrow_up}})],1):e("span",[e("el-image",{attrs:{src:t.arrow_down}})],1)])])]):t._e(),t.extData.answerTips?e("div",{staticClass:"item",on:{click:function(e){return t.changeshowWitchItem(4)}}},[e("div",{class:4===t.showWitchItem?"itemLeft itemLeft_open":"itemLeft"},[e("div",{staticClass:"itemTitle"},[t._v(" "+t._s(t.$t("topicInfo.datisilu"))+" ")]),e("div",{staticClass:"arrow_out"},[4===t.showWitchItem?e("span",[e("el-image",{attrs:{src:t.arrow_up}})],1):e("span",[e("el-image",{attrs:{src:t.arrow_down}})],1)])])]):t._e(),t.extData.keywords?e("div",{staticClass:"item",on:{click:function(e){return t.changeshowWitchItem(5)}}},[e("div",{class:5===t.showWitchItem?"itemLeft itemLeft_open":"itemLeft"},[e("div",{staticClass:"itemTitle"},[t._v(" "+t._s(t.$t("topicInfo.guanjianciju"))+" ")]),e("div",{staticClass:"arrow_out"},[5===t.showWitchItem?e("span",[e("el-image",{attrs:{src:t.arrow_up}})],1):e("span",[e("el-image",{attrs:{src:t.arrow_down}})],1)])])]):t._e(),t.extData.pronuncFile?e("div",{staticClass:"item",on:{click:function(e){return t.changeshowWitchItem(6)}}},[e("div",{class:6===t.showWitchItem?"itemLeft itemLeft_open":"itemLeft"},[e("div",{staticClass:"itemTitle"},[t._v(" "+t._s(t.$t("topicInfo.mingshishifan"))+" ")]),e("div",{staticClass:"arrow_out"},[6===t.showWitchItem?e("span",[e("el-image",{attrs:{src:t.arrow_up}})],1):e("span",[e("el-image",{attrs:{src:t.arrow_down}})],1)])])]):t._e(),t.extData.answerTemplate?e("div",{staticClass:"item",on:{click:function(e){return t.changeshowWitchItem(7)}}},[e("div",{class:7===t.showWitchItem?"itemLeft itemLeft_open":"itemLeft"},[e("div",{staticClass:"itemTitle"},[t._v(" "+t._s(t.$t("topicInfo.answerMuban"))+" ")]),e("div",{staticClass:"arrow_out"},[7===t.showWitchItem?e("span",[e("el-image",{attrs:{src:t.arrow_up}})],1):e("span",[e("el-image",{attrs:{src:t.arrow_down}})],1)])])]):t._e()]),-1!==t.showWitchItem?e("div",{staticClass:"new_item_content_show_out"},[0===t.showWitchItem?e("div",[e("div",{domProps:{innerHTML:t._s(t.question.answer.replace(/\n/g,"<br/>"))}})]):t._e(),1===t.showWitchItem?e("div",[e("div",{domProps:{innerHTML:t._s(t.question.answer.replace(/\n/g,"<br/>"))}})]):t._e(),2===t.showWitchItem?e("div",[e("div",{domProps:{innerHTML:t._s(t.extData.modelText.replace(/\n/g,"<br/>"))}})]):t._e(),3===t.showWitchItem?e("div",[e("div",{domProps:{innerHTML:t._s(t.extData.titleTranslate.replace(/\n/g,"<br/>"))}})]):t._e(),4===t.showWitchItem?e("div",[e("div",{domProps:{innerHTML:t._s(t.extData.answerTips.replace(/\n/g,"<br/>"))}})]):t._e(),5===t.showWitchItem?e("div",[e("div",{domProps:{innerHTML:t._s(t.extData.keywords.replace(/\n/g,"<br/>"))}})]):t._e(),6===t.showWitchItem?e("div",[e("AudioTeacher",{staticClass:"audio",attrs:{id:t.extData.pronuncFile,playing:t.playing},on:{onPlayStatusChange:t.onPlayStatusChange}})],1):t._e(),7===t.showWitchItem?e("div",[e("div",{domProps:{innerHTML:t._s(t.extData.answerTemplate.replace(/\n/g,"<br/>"))}})]):t._e()]):t._e(),Boolean(t.answerData)?e("div",{staticClass:"answers"},[e("div",{staticClass:"item-title"},[e("div",[t._v(t._s(t.$t("topicInfo.myAnswer")))]),e("div",{staticClass:"right"},[t.exam?t._e():e("div",{staticClass:"publish"},[e("div",{staticClass:"publishTitle"},[t._v(t._s(t.$t("topicInfo.fabiaoToGuangchang")))]),e("el-switch",{attrs:{"active-color":"#F66442","active-value":"1","inactive-value":"0"},on:{change:t.changePublish},model:{value:t.publish[t.question.key],callback:function(e){t.$set(t.publish,t.question.key,e)},expression:"publish[question.key]"}})],1)])]),t.answer?e("div",{staticClass:"myAnswer"},[e("Audio",{staticClass:"audio myAnswerAudio",attrs:{id:t.answer,playing:t.playing,"my-id":t.answerData.myId,aid:t.answerData.id,count:t.answerData.likeCount,duration:t.question.ownDuration,question:t.question,"is-my":"",avatar:t.user.avatar,nickname:t.user.nickname,"is-plan":Boolean(t.target.id),"is-vip":Boolean(t.isVip),"is-1v1":Boolean(t.is1v1),"q-key":t.question.key,score:""+Math.round(t.question.ownScore)},on:{onPlayStatusChange:t.onPlayStatusChange}}),t.correct4Scores?e("div",{staticClass:"score"},[e("div",{staticClass:"scoreItem bg"},[e("div",{staticClass:"num"},[t._v(t._s(Math.round(t.correct4Scores.PronScore)))]),e("div",{staticClass:"text"},[t._v(t._s(t.$t("topicInfo.allScore")))])]),e("div",{staticClass:"scoreItem"},[e("div",{staticClass:"num"},[t._v(t._s(t.correct4Scores.AccuracyScore))]),e("div",{staticClass:"text"},[t._v(t._s(t.$t("topicInfo.zhunquedu")))])]),e("div",{staticClass:"scoreItem"},[e("div",{staticClass:"num"},[t._v(t._s(t.correct4Scores.FluencyScore))]),e("div",{staticClass:"text"},[t._v(t._s(t.$t("topicInfo.liuchangdu")))])]),e("div",{staticClass:"scoreItem"},[e("div",{staticClass:"num"},[t._v(t._s(t.correct4Scores.CompletenessScore))]),e("div",{staticClass:"text"},[t._v(t._s(t.$t("topicInfo.wanzhengxing")))])])]):t._e()],1):e("div",{staticClass:"noAnswer"},[t._v(" "+t._s(t.$t("topicInfo.noAnswer"))+" ")]),t.correct4Scores?e("div",{staticClass:"correct4Detail"},[t.correct4Scores?e("div",{staticClass:"correct4ScoresTitle"},[e("div",{staticClass:"left"},[e("el-image",{staticClass:"recordDetailImg",attrs:{src:t.recordDetailImg}}),e("div",[t._v(t._s(t.$t("topicInfo.langduInfo")))])],1),e("div",{staticClass:"right"},[e("span",{staticClass:"color1"},[t._v(" "+t._s(t.$t("topicInfo.blue")))]),e("span",[t._v(" "+t._s(t.$t("topicInfo.loudu")))]),e("span",{staticClass:"color2"},[t._v(" "+t._s(t.$t("topicInfo.red")))]),e("span",[t._v(" "+t._s(t.$t("topicInfo.buzhunque")))]),e("span",{staticClass:"color3"},[t._v(" "+t._s(t.$t("topicInfo.purple")))]),e("span",[t._v(" "+t._s(t.$t("topicInfo.readMore")))])])]):t._e(),t.correct4ScoresWords?e("div",{staticClass:"correct4ScoresContent"},t._l(t.correct4ScoresWords,(function(s,i){return e("span",{key:i,class:t.getWordClass(s)},[t._v(t._s(s.Word)+" ")])})),0):t._e()]):t._e(),t.dicts.length?e("Dicts",{attrs:{dicts:t.dicts}}):t._e(),"1"===t.question.correctStatus&&t.correctContent&&!t.question.correctId?["1"===t.question.correctStatus&&["9","a","e","c"].includes(t.question.key)&&t.correctContent?e("div",{staticClass:"correctContent"},[e("div",{staticClass:"top"},[e("div",{staticClass:"correctTitle"},[t._v(t._s(t.$t("vip.correctText")))]),e("div",{staticClass:"correctTime"},[e("div",{staticClass:"dot success"}),e("div",{staticClass:"time"},[t._v(" "+t._s(`${t.formatTime(t.question.correctTime)} ${t.$t("topicInfo.pigaiWancheng")}`)+" ")])])]),e("div",{staticClass:"text",domProps:{innerHTML:t._s(t.correctContent)}})]):"0"===t.question.correctStatus&&["9","a","e","c"].includes(t.question.key)?e("div",{staticClass:"correctContent"},[e("div",{staticClass:"top"},[e("div",{staticClass:"correctTitle"},[t._v(t._s(t.$t("vip.correctText")))])]),e("div",{staticClass:"penndingText"},[e("div",{staticClass:"dot pendding"}),e("div",[t._v(" "+t._s(t.$t("topicInfo.pigaiZhong"))+" ")])])]):t._e()]:[e("CorrectCardResult",{attrs:{question:t.question,"answer-data":t.answerData,"is-vip":t.isVip,"correct-num":t.correctNum}})]],2):t._e(),Boolean(t.answerData)&&t.likes&&t.likes.length?e("div",{staticClass:"answers"},[e("div",{staticClass:"item-title"},[t._v(t._s(t.$t("topicInfo.stuHudong")))]),e("div",{staticClass:"likes"},t._l(t.likes,(function(s){return e("div",{key:s.id,staticClass:"likeWrapper"},[e("Audio",{staticClass:"audio margin-bottom-24",attrs:{id:s.answer,playing:t.playing,"my-id":s.myId,aid:s.id,count:s.count,avatar:s.avatar,nickname:s.nickname,duration:s.duration,"is-vip":Boolean(s.isVip),"is-1v1":Boolean(s.is1v1),"is-plan":Boolean(s.isPlan),score:s.score,"q-key":t.question.key},on:{onPlayStatusChange:t.onPlayStatusChange}})],1)})),0),e("div",{staticClass:"getMore",on:{click:t.getMore}},[e("div",[t._v(" "+t._s(t.likeTotal>t.likes.length?t.$t("topicInfo.getMore"):t.$t("topicInfo.noMore"))+" ")]),t.likes.length<t.likeTotal?e("el-image",{staticClass:"downImg",attrs:{src:t.downImg}}):t._e()],1)]):t._e()]),e("div",{staticClass:"recorderWrapper"},[t.exam?t._e():e("Recorder",{attrs:{question:t.question,"answer-data":t.answerData,answer:t.answer,"is-vip":t.isVip,"correct-num":t.correctNum,"total-duration":t.topic.duration,"display-order":t.displayOrder,total:t.total},on:{reset:t.reset,nextOrPrevQuestionGet:t.nextOrPrevQuestionGet}})],1)])},E=[],G=(s("2f20"),s("f7f9")),R=s.n(G),U=s("5880"),Q=function(){var t,e=this,s=e._self._c;return s("div",{staticClass:"recorder"},[s("div",{staticClass:"btnLeft"},[e.recording?s("div",{staticClass:"recording"},[s("div",{staticClass:"point"}),s("div",{staticClass:"text"},[e._v(" "+e._s(e.$t("componentrecorder.recordingText"))+" ")]),s("div",{staticClass:"duration"},[e._v(e._s(e.durationText))])]):[e.isMobile?s("div",{staticClass:"nextPreviewMobileBtns"},[s("el-image",{staticClass:"mobilePrev",attrs:{src:e.prevImg},on:{click:function(t){return e.nextOrPrevQuestionGet("prev")}}}),s("el-image",{staticClass:"mobileNext",attrs:{src:e.nextImg},on:{click:function(t){return e.nextOrPrevQuestionGet("next")}}})],1):s("div",{staticClass:"nextPreviewBtns nextPreviewBtns7"},[s("div",{staticClass:"pointer",on:{click:function(t){return e.nextOrPrevQuestionGet("prev")}}},[e._v(" "+e._s(e.$t("componentrecorder.prevButtonText"))+" ")]),s("div",{staticClass:"pointer pointer_next",on:{click:function(t){return e.nextOrPrevQuestionGet("next")}}},[e._v(" "+e._s(e.$t("componentrecorder.nextButtonText"))+" ")])])]],2),s("div",{staticClass:"btnRight"},[s("CommonAskAiBtn"),Boolean(e.answerData)&&["a","9","c","e"].includes(e.question.key)?[s("BottomCorrectBtn",{attrs:{question:e.question,"answer-data":e.answerData,"correct-num":e.correctNum,"is-vip":e.isVip}})]:e._e(),!Boolean(e.answerData)&&["a","9","c","e"].includes(e.question.key)?s("div",{class:[Boolean(e.answerData)?"correct":"correct disable"]},[e._v(" "+e._s(e.$t("componentrecorder.correctButtonText"))+" "),"Pro"===(null===(t=e.appUser)||void 0===t?void 0:t.vipTag)?void 0:[e._v("("+e._s(e.correctNum)+")")]],2):e._e(),e.answer||e.recording?e.recording?s("el-button",{staticClass:"submit",attrs:{type:"primary"},on:{click:e.onStop}},[e._v(" "+e._s(e.$t("componentrecorder.submitRecordingButtonText"))+" ")]):e._e():s("el-button",{staticClass:"submit",attrs:{type:"primary"},on:{click:e.onStart}},[e._v(" "+e._s(e.$t("componentrecorder.submitButtonText"))+" ")]),Boolean(e.answerData)?s("div",[s("el-button",{staticClass:"submit submit_redo submitxc",attrs:{type:"primary"},on:{click:e.reset}},[e._v(" "+e._s(e.$t("componentrecorder.resetButtonText"))+" ")])],1):e._e()],2),s("RecorderAuthModal",{attrs:{visible:e.authVisible},on:{onCancel:function(t){e.authVisible=!1}}})],1)},H=[],J=s("a12f"),z=s.n(J),K=s("2b94"),Y=s("6304"),F=s("665d"),V=s("0919");const Z=Object(l["Bb"])("image/next.svg"),X=Object(l["Bb"])("image/prev.svg");z.a.TrafficImgUrl="";var tt={components:{RecorderAuthModal:V["a"],BottomCorrectBtn:K["a"],CommonAskAiBtn:Y["a"]},props:{question:Object,answerData:Object,answer:String,totalDuration:Number,correctNum:Number,isVip:Boolean,total:Number,displayOrder:Number},data(){const t=Object(h["i"])("sampleRate"),e=new z.a({type:"wav",sampleRate:t?(F["a"].find(e=>e.key===t)||F["a"][0]).value:F["a"][0].value,bitRate:16});return{recorderManager:e,recording:!1,duration:0,timmer:null,authVisible:!1,nextImg:Z,prevImg:X}},computed:{isMobile(){return this.$store.state.app.isMobile},appUser(){return this.$store.state.app.user},durationText(){if(!this.duration)return"00:00.00";const t=("0"+this.duration%1e3).slice(-3).substring(0,2),e=("0"+parseInt(this.duration/1e3,10)%60).slice(-2),s=("0"+parseInt(parseInt(this.duration/1e3,10)/60,10)).slice(-2);return`${s}:${e}.${t}`},isI18n:()=>!0},watch:{"question.id":{handler(){this.recording=!1,this.duration=0,clearInterval(this.timmer)}}},methods:{onStart(){this.$store.commit("question/upState",{bottomRecorderStart:!0}),this.recording=!0,this.recorderManager.open(async()=>{this.recorderManager.start(),this.timmer=setInterval(()=>{this.duration+=20,this.duration>=1e3*this.totalDuration&&this.onStop()},20)},(t,e)=>{this.recording=!1,this.duration=0,clearInterval(this.timmer),e?this.authVisible=!0:this.$message.error(""+this.$t("componentrecorder.nouse"))})},async onStop(){this.recorderManager.stop(async t=>{clearInterval(this.timmer),this.recording=!1,this.duration=0;const e=new File([t],Date.now()+".wav",{type:"audio/wav"});this.recorderManager.close();const s=new FormData;s.append("file",e);const i=this.$loading({lock:!0});await this.$store.dispatch("question/uploadAndSubmit",s),i.close()})},reset(){this.$emit("reset")},nextOrPrevQuestionGet(t){this.$emit("nextOrPrevQuestionGet",t)},onSubmit(){this.$emit("onSubmit")},async requestCorrect(){await this.$store.dispatch("question/openCorrectTK")}}},et=tt,st=(s("e5d8"),Object(v["a"])(et,Q,H,!1,null,"4c9dbf94",null)),it=st.exports,at=function(){var t=this,e=t._self._c;return e("div",{staticClass:"audioComponent"},[e("div",{staticClass:"user"},[e("div",{staticClass:"left"},[e("el-image",{staticClass:"avatar",attrs:{ondragstart:"return false;",oncontextmenu:"return false;",src:t.avatarUrl(t.avatar)}}),e("div",{staticClass:"nickname"},[t._v(t._s(t.nickname.length>12?t.nickname.substring(0,11)+"...":t.nickname))]),t.isVip?e("el-image",{staticClass:"vipActiveImg",attrs:{src:t.vipActiveImg}}):t._e(),t.isPlan?e("div",{staticClass:"ai"},[e("el-image",{staticClass:"aiImg",attrs:{src:t.aiImg}}),e("div",{staticClass:"aiText"},[t._v(" "+t._s(t.$t("componentAudio.zhineng"))+" ")])],1):t._e(),t.is1v1?e("div",{staticClass:"v1"},[e("el-image",{staticClass:"v1Img",attrs:{src:t.v1ActiveImg}}),e("div",{staticClass:"v1Text"},[t._v(" "+t._s(t.$t("componentAudio.1v1"))+" ")])],1):t._e()],1),t.question?["4"===t.qKey?[t.score&&t.question.correct?e("div",{staticClass:"right"},[t._v(" "+t._s(t.score?`${t.$t("componentAudio.pscore")}：${t.score}`:"")+" ")]):e("div",{staticClass:"seeScore"},[t.correctLoading?e("span",[t._v(t._s(t.$t("componentAudio.loading")))]):e("span",{on:{click:t.docorrect}},[t._v(t._s(t.$t("componentAudio.ckpf")))])])]:t.score&&["A","B","C","D","E"].includes(t.score)?e("div",{staticClass:"right"},[t._v(" "+t._s(t.score?`${t.$t("componentAudio.pg")}：${t.score}`:"")+" ")]):t._e()]:t._e(),t.isMy?t._e():["4"===t.qKey&&t.score?e("div",{staticClass:"right"},[t._v(" "+t._s(t.score?`${t.$t("componentAudio.pscore")}：${t.score}`:"")+" ")]):t.score&&["A","B","C","D","E"].includes(t.score)?e("div",{staticClass:"right"},[t._v(" "+t._s(t.score?`${t.$t("componentAudio.pg")}：${t.score}`:"")+" ")]):t._e()]],2),e("div",{class:"audio "+t.className},[e("el-image",{staticClass:"status-img",attrs:{ondragstart:"return false;",oncontextmenu:"return false;",src:t.currentPlaying?t.pauseImg:t.playImg},on:{click:t.handleClick}}),e("el-slider",{staticClass:"slider",attrs:{"show-tooltip":!1},on:{change:t.sliderChange},model:{value:t.percent,callback:function(e){t.percent=e},expression:"percent"}}),e("div",{staticClass:"current"},[t._v(t._s(t.current()))]),e("el-image",{staticClass:"like-img",style:t.isMy?{}:{cursor:"pointer"},attrs:{ondragstart:"return false;",oncontextmenu:"return false;",src:t.myId?t.likeActiveImg:t.likeImg},on:{click:t.logLikeEdit}}),e("div",{class:"like-number "+(t.myId?"active":""),style:t.isMy?{}:{cursor:"pointer"},on:{click:t.logLikeEdit}},[t._v(" "+t._s(t.count)+" ")])],1)])},nt=[];const rt=Object(l["Bb"])("image/play.png"),ot=Object(l["Bb"])("image/pause.svg"),ct=Object(l["Bb"])("image/like.svg"),lt=Object(l["Bb"])("image/like-active.png"),dt=Object(l["Bb"])("image/vip-active.png"),ut=Object(l["Bb"])("image/1v1-active.png"),ht=Object(l["Bb"])("image/ai.png");var pt={props:{id:String,playing:Boolean,count:{type:Number,default(){return 0}},myId:Number,aid:[Number,String],duration:Number,isMy:Boolean,avatar:String,nickname:String,isVip:Boolean,is1v1:Boolean,isPlan:Boolean,score:String,qKey:String,question:Object},data(){return{playImg:rt,pauseImg:ot,likeImg:ct,likeActiveImg:lt,vipActiveImg:dt,v1ActiveImg:ut,aiImg:ht,currentTime:0,percent:0,currentPlaying:!1,audio:null,avatarUrl:l["e"],correctLoading:!1,questionPageUser:{}}},computed:{...Object(U["mapState"])("app",{vipUrl(t){return t.vipUrl},v1Url(t){return t.v1Url},courseUrl(t){return t.courseUrl}}),className(){return"audio-"+this.id.replace(/\.|\//g,"")}},watch:{id(){this.audio&&(this.audio.pause(),this.currentPlaying=!1,this.percent=0,this.questionPageUser=this.question,this.$emit("onPlayStatusChange",!1))}},mounted(){const t=document.querySelector(`.${this.className} .el-tooltip.el-slider__button`);t.addEventListener("mousedown",()=>{this.audio&&(this.audio.ontimeupdate=null)}),t.addEventListener("mouseup",()=>{this.audio&&(this.audio.ontimeupdate=()=>{this.percent=100*this.audio.currentTime/this.audio.duration})})},destroyed(){this.audio&&(this.audio.pause(),this.currentPlaying=!1,this.percent=0,this.$emit("onPlayStatusChange",!1))},methods:{async docorrect(){this.correctLoading=!0;const{ownAnswerId:t}=this.question;await this.$store.dispatch("question/answerAdd",{answerUrlid:t}),this.correctLoading=!1},handleClick(){this.currentPlaying?(this.audio.pause(),this.currentPlaying=!1,this.$emit("onPlayStatusChange",!1)):this.onPlay()},async onPlay(){if(!this.playing||this.currentPlaying){if(!this.audio){this.audio=new Audio;const t=await Object(l["w"])({id:this.id,type:"file"});this.audio.src=t,this.audio.onended=()=>{this.percent=0,this.audio=null,this.currentPlaying=!1,this.$emit("onPlayStatusChange",!1)}}if(this.audio.ontimeupdate=()=>{this.percent=100*this.audio.currentTime/this.audio.duration},this.audio.play(),this.currentPlaying=!0,this.$emit("onPlayStatusChange",!0),this.audio.duration)this.audio.currentTime=this.audio.duration*this.percent/100;else{const t=setInterval(()=>{this.audio.duration&&(this.audio.currentTime=this.audio.duration*this.percent/100,clearInterval(t))},100)}}},sliderChange(t){this.percent=t,this.audio&&(this.audio.ontimeupdate=()=>{}),this.onPlay()},current(){if(!this.duration){if(!this.audio||!this.audio.currentTime)return"00:00";const t=parseInt(this.audio.currentTime,10),e=("0"+t%60).slice(-2),s=("0"+parseInt(t/60,10)).slice(-2);return`${s}:${e}`}const t=this.audio?parseInt(this.audio.currentTime,10):0,e=this.duration-t,s=("0"+e%60).slice(-2),i=("0"+parseInt(e/60,10)).slice(-2);return`${i}:${s}`},logLikeEdit(){this.$store.dispatch("question/logLikeEdit",{aid:this.aid,isMy:this.isMy})},go(t){window.open(t,"_blank")}}},mt=pt,vt=(s("d7bd"),s("dc1a"),Object(v["a"])(mt,at,nt,!1,null,"1d44d573",null)),wt=vt.exports,_t=function(){var t=this,e=t._self._c;return e("div",{class:"audio "+t.className},[e("el-image",{staticClass:"avatar",attrs:{ondragstart:"return false;",oncontextmenu:"return false;",src:t.avatar}}),e("div",{staticClass:"nickname"},[t._v(t._s(t.isEnglish?"":t.$t("audionTeacher.daniu")))]),e("el-image",{staticClass:"status-img",attrs:{ondragstart:"return false;",oncontextmenu:"return false;",src:t.currentPlaying?t.pauseImg:t.playImg},on:{click:t.handleClick}}),e("el-slider",{staticClass:"slider",attrs:{"show-tooltip":!1},on:{change:t.sliderChange},model:{value:t.percent,callback:function(e){t.percent=e},expression:"percent"}}),e("div",{staticClass:"current"},[t._v(t._s(t.current()))])],1)},gt=[];const ft=Object(l["Bb"])("image/play.png"),Ct=Object(l["Bb"])("image/pause.svg"),yt=(Object(l["Cb"])("image/avatar.png"),Object(l["Cb"])("image/avatari18n.svg"));var bt={props:{id:String,playing:Boolean},data(){return{playImg:ft,pauseImg:Ct,avatar:yt,duration:0,currentTime:0,percent:0,currentPlaying:!1,audio:null,isEnglish:!0}},computed:{className(){return this.id?"audio-"+this.id.replace(/\.|\//g,""):""}},watch:{id(){this.audio&&(this.audio.pause(),this.currentPlaying=!1,this.percent=0,this.$emit("onPlayStatusChange",!1))}},mounted(){const t=document.querySelector(`.${this.className} .el-tooltip.el-slider__button`);t.addEventListener("mousedown",()=>{this.audio&&(this.audio.ontimeupdate=null)}),t.addEventListener("mouseup",()=>{this.audio&&(this.audio.ontimeupdate=()=>{this.percent=100*this.audio.currentTime/this.audio.duration})})},destroyed(){this.audio&&(this.audio.pause(),this.currentPlaying=!1,this.percent=0,this.$emit("onPlayStatusChange",!1))},methods:{handleClick(){this.currentPlaying?(this.audio.pause(),this.currentPlaying=!1,this.$emit("onPlayStatusChange",!1)):this.onPlay()},async onPlay(){if(!this.playing||this.currentPlaying){if(!this.audio){this.audio=new Audio;const t=await Object(l["w"])({id:this.id,type:"file"});this.audio.src=t,this.audio.onended=()=>{this.percent=0,this.audio=null,this.currentPlaying=!1,this.$emit("onPlayStatusChange",!1)}}if(this.audio.ontimeupdate=()=>{this.percent=100*this.audio.currentTime/this.audio.duration},this.audio.play(),this.currentPlaying=!0,this.$emit("onPlayStatusChange",!0),this.audio.duration)this.audio.currentTime=this.audio.duration*this.percent/100;else{const t=setInterval(()=>{this.audio.duration&&(this.audio.currentTime=this.audio.duration*this.percent/100,clearInterval(t))},100)}}},sliderChange(t){this.percent=t,this.audio&&(this.audio.ontimeupdate=()=>{}),this.onPlay()},current(){if(!this.audio||!this.audio.currentTime)return"00:00";const t=parseInt(this.audio.currentTime,10),e=("0"+t%60).slice(-2),s=("0"+parseInt(t/60,10)).slice(-2);return`${s}:${e}`}}},It=bt,xt=(s("de1f"),s("87e6"),Object(v["a"])(It,_t,gt,!1,null,"48bf5e64",null)),$t=xt.exports,qt=function(){var t=this,e=t._self._c;return t.question.correctStatus?e("div",[["9","a","e","c","6","d","q","b"].includes(t.question.key)&&t.selfShow?e("div",{class:t.isI18n?"correct_card_card correct_card_card_i18n":"correct_card_card"},[e("div",{staticClass:"correct_card_left"},[t.isI18n?e("div",{staticClass:"type_img type_img_i18n"},[e("el-image",{attrs:{src:t.i18nImg}}),t._v(" "),e("span",{staticClass:"give_color"},[t._v(t._s(t.$t("banben")))])],1):e("div",{staticClass:"type_img"},[["6","d","q"].includes(t.question.key)?e("el-image",{attrs:{src:t.correctCardWrite}}):e("el-image",{attrs:{src:t.correctCardSpeak}}),e("span",{staticClass:"give_color"},[t._v(t._s(t.$t("banben")))])],1),null!==t.user.correctNum?[t.question.correctStatus?t._e():e("div",{staticClass:"correct_status_font"},[t._v(" "+t._s(t.$t("correctResultCard.applyCorrection"))+" ")]),"0"===t.question.correctStatus?e("div",{staticClass:"correct_status_font"},[t._v(" "+t._s(t.$t("correctResultCard.spend10min"))+" ")]):t._e(),"1"===t.question.correctStatus?e("div",{staticClass:"correct_status_font"},[t._v(" "+t._s(t.dayjs(t.question.correctTime).format("MM-DD HH:mm"))+" "+t._s(t.$t("correctResultCard.pgwc"))+" ")]):t._e(),"2"===t.question.correctStatus?e("div",{staticClass:"correct_status_font"},[t._v(" "+t._s(t.$t("correctResultCard.feedbackReceived"))+" ")]):t._e(),"3"===t.question.correctStatus?e("div",{staticClass:"correct_status_font"},[t._v(" "+t._s(t.dayjs(t.question.correctUpdateTime).format("MM-DD HH:mm"))+" "+t._s(t.$t("correctResultCard.xdwc"))+" ")]):t._e()]:[e("div",{staticClass:"correct_status_font"},[t._v(t._s(t.$t("correctResultCard.vipFreeCorrection")))])]],2),t.question.score?e("div",{staticClass:"correct_card_mid"},[t._v(t._s(t.question.score)+t._s(t.$t("correctResultCard.score")))]):t._e(),e("div",{staticClass:"correct_card_right"},[null!==t.user.correctNum?[t.question.correctStatus?t._e():[t.answerData?e("div",{staticClass:"sqCorrect_btn",on:{click:t.requestCorrect}},[t._v(" "+t._s(t.$t("correctResultCard.applyCorrectionButton"))+"("+t._s(t.correctNum)+") ")]):e("div",{staticClass:"sqCorrect_btn sqCorrect_btn_disabled"},[t._v(" "+t._s(t.$t("correctResultCard.applyCorrectionButton"))+"("+t._s(t.correctNum)+") ")])],"0"===t.question.correctStatus?e("div",{class:t.isI18n?"seeReport_btn seeReport_btn_disabled seeReport_btn_small":"seeReport_btn seeReport_btn_disabled"},[t._v(" "+t._s(t.$t("correctResultCard.viewCorrectionReport"))+" ")]):t._e(),"1"===t.question.correctStatus?e("div",{class:t.isI18n?"seeReport_btn seeReport_btn_small":"seeReport_btn",on:{click:t.goCorrectReport}},[t._v(" "+t._s(t.$t("correctResultCard.viewCorrectionReport"))+" ")]):t._e(),"2"===t.question.correctStatus?e("div",{class:t.isI18n?"seeReport_btn seeReport_btn_small":"seeReport_btn",on:{click:t.goCorrectReport}},[t._v(" "+t._s(t.$t("correctResultCard.viewCorrectionReport"))+" ")]):t._e(),"3"===t.question.correctStatus?e("div",{class:t.isI18n?"seeReport_btn seeReport_btn_small":"seeReport_btn",on:{click:t.goCorrectReport}},[t._v(" "+t._s(t.$t("correctResultCard.viewCorrectionReport"))+" ")]):t._e()]:[e("div",{staticClass:"ktvip_btn",on:{click:t.govip}},[t._v(t._s(t.$t("correctResultCard.activateMembership")))])]],2)]):t._e()]):t._e()},kt=[];const St=Object(l["Bb"])("image/correctReport/correct_card_speak.svg"),Tt=Object(l["Bb"])("image/correctReport/correct_card_write.svg"),Dt=Object(l["Bb"])("image/correctReport/correct-card-i18n.svg");var Ot={props:{question:Object,answerData:Object,correctNum:Number},data(){return{correctCardSpeak:St,correctCardWrite:Tt,i18nImg:Dt,selfShow:!0,isI18n:!0}},computed:{...Object(U["mapState"])("app",{user(t){const{user:e}=t;return e}})},mounted(){const{idx:t}=this.$route.query;t&&(this.selfShow=!1)},methods:{dayjs:R.a,goCorrectReport(){this.$router.push("/correct/correctReport?id="+this.question.correctId)},govip(){this.$router.push("/vip")},async requestCorrect(){await this.$store.dispatch("question/openCorrectTK")}}},Pt=Ot,Wt=(s("ba78"),Object(v["a"])(Pt,qt,kt,!1,null,"555f60a3",null)),Bt=Wt.exports;const jt=Object(l["Bb"])("image/record-detail.png"),Lt=Object(l["Bb"])("image/down.png"),Nt=(Object(l["Cb"])("image/reading.svg"),Object(l["Cb"])("image/readingi18n.svg")),At=Object(l["Bb"])("exam/arrow_up.svg"),Mt=Object(l["Bb"])("exam/arrow_down.svg");var Et={components:{Recorder:it,Audio:wt,Player:_,AudioTeacher:$t,Dicts:P,CorrectCardResult:Bt},props:{question:Object,answerData:Object,answer:String,likes:Array,topic:Object,likeTotal:Number,exam:Boolean,displayOrder:Number,total:Number},data(){return{arrow_up:At,arrow_down:Mt,staticUrlGet:l["Cb"],fileUrlGet:l["w"],playing:!1,recordDetailImg:jt,downImg:Lt,readingImg:Nt,page:1,pageSize:6,avatarUrl:l["e"],publish:{},isEnglish:!0,left:3,showWitchItem:-1}},computed:{...Object(U["mapState"])("app",{user(t){return t.user},target:t=>t.target,correctNum(t){const{user:e}=t;return e.correctNum||0}}),...Object(U["mapState"])("question",{userQuestionPublish(t){return t.userQuestionPublish}}),title(){return this.$t("topicInfo.title"+this.question.key)},subtitle(){return this.$t("topicInfo.subtitle"+this.question.key)},isVip(){return this.user.vipEndTime&&R()(this.user.vipEndTime).isAfter(R()())},is1v1(){const{services:t}=this.user;return c.a.find(t,{type:"1"})},extData(){const t=JSON.parse(this.question.extData||"{}");return t},correct4Scores(){try{if(this.question.correct&&"4"===this.question.key){const{NBest:[{PronunciationAssessment:t}]}=JSON.parse(this.question.correct);return t}return null}catch(t){return null}},correct4ScoresWords(){try{if(this.question.correct&&"4"===this.question.key){const{NBest:[{Words:t}]}=JSON.parse(this.question.correct);return t}return null}catch(t){return null}},correctContent(){if("1"===this.question.correctStatus){const{content:t}=JSON.parse(this.question.correct||"{}");return t?t.replace(/\n/g,"<br/>"):""}return""},dicts(){if("4"===this.question.key&&!c.a.isEmpty(this.answerData)&&!c.a.isEmpty(JSON.parse(this.question.correct))){const{NBest:[{Words:t}]}=JSON.parse(this.question.correct),e=[];t.forEach(t=>{const{PronunciationAssessment:{AccuracyScore:s,ErrorType:i}}=t;(s<60||"Omission"===i||"Mispronunciation"===i)&&e.push(t.Word.toLocaleLowerCase())});const{dicts:s={}}=this.answerData,i=[];return c.a.each(e,t=>{s[t.toLocaleLowerCase()]&&i.push({title:t,...s[t]})}),i}return[]}},watch:{"question.id":{handler(t){t&&(this.left=3,this.logLikeGet())}},userQuestionPublish:{handler(t){t&&(this.publish=t)},deep:!0,immediate:!0}},created(){this.question.id&&this.logLikeGet(),this.$store.dispatch("question/userQuestionPublishGet")},methods:{changeshowWitchItem(t){this.showWitchItem===t?this.showWitchItem=-1:this.showWitchItem=t},onEnd(){this.answerData||(this.left-=1)},reset(){this.$emit("reset")},nextOrPrevQuestionGet(t){this.$emit("nextOrPrevQuestionGet",t)},onSubmit(){this.$emit("onSubmit")},onPlayStatusChange(t){this.playing=t},logLikeGet(){this.$store.dispatch("question/logLikeGet",{page:this.page,pageSize:this.pageSize})},getMore(){this.pageSize+=6,this.$store.dispatch("question/logLikeGet",{page:this.page,pageSize:this.pageSize})},getWordClass(t={}){const{PronunciationAssessment:{AccuracyScore:e,ErrorType:s}}=t;return 0===e||"Omission"===s?"miss":e<60||"Mispronunciation "===s?"error":"Insertion"===s?"insert":void 0},formatTime(t){return R()(t).format("YY.MM.DD HH:mm")},async requestCorrect(){await this.$store.dispatch("question/openCorrectTK")},changePublish(t){this.$store.dispatch("question/userQuestionPublishEdit",{key:this.question.key,publish:t})}}},Gt=Et,Rt=(s("0803"),Object(v["a"])(Gt,M,E,!1,null,"5486f792",null)),Ut=Rt.exports,Qt=function(){var t=this,e=t._self._c;return e("div",{staticClass:"topic-7-test"},[e("div",{class:"title "+(Boolean(t.answerData)?"answered":"")},[t._v(t._s(t.$t("topicInfo.title7")))]),t.answerData&&(t.answerData.score||0===t.answerData.score)?e("div",{staticClass:"rate"},[e("div",{staticClass:"rateText"},[t._v(t._s(t.$t("topicInfo.myacc")))]),e("div",{staticClass:"rateNum"},[t._v(t._s(""+t.answerData.score)),e("span",{staticClass:"symbol"},[t._v("%")])])]):t._e(),Boolean(t.answerData)?e("div",{staticClass:"answer-desc"},[e("div",{staticClass:"answer-desc-title"},[t._v(t._s(t.$t("topicInfo.answerShuoming")))]),e("div",{staticClass:"answer-desc-options"},[e("div",{staticClass:"correct"},[t._v(t._s(t.$t("topicInfo.true")))]),e("div",{staticClass:"error"},[t._v(t._s(t.$t("topicInfo.wrong")))]),e("div",{staticClass:"lack"},[t._v(t._s(t.$t("topicInfo.littleCheck")))])])]):t._e(),e("div",{staticClass:"content"},t._l(t.words,(function(s,i){return e("div",{key:i,class:"word "+t.classGet(s),style:`width: ${10*s.length}px`,on:{click:function(e){return t.handleClick(s)}}},[t._v(" "+t._s(s)+" ")])})),0),Boolean(t.answerData)?e("Dicts",{attrs:{dicts:t.dicts}}):t._e()],1)},Ht=[],Jt={components:{Dicts:P},props:{question:Object,answerData:Object},data(){return{answer:[]}},computed:{words(){try{return JSON.parse(this.question.title)}catch(t){return[]}},dicts(){const t="string"===typeof this.question.title?JSON.parse(this.question.title||"[]"):[],{dicts:e={}}=this.answerData,s=[];return c.a.each(t,t=>{e[t.toLocaleLowerCase()]&&s.push({title:t,...e[t]})}),s}},watch:{answerData:{handler(t){c.a.isEmpty(t)?this.answer=[]:this.answer=t.answer||[]},deep:!0,immediate:!0}},methods:{handleClick(t){c.a.isEmpty(this.answerData)&&(c.a.includes(this.answer,t)?this.answer=[...c.a.pull(this.answer,t)]:this.answer=[...this.answer,t],this.$store.commit("question/upState",{answer:this.answer.length?this.answer:void 0}))},classGet(t){if(t=t.toLocaleLowerCase(),c.a.isEmpty(this.answerData))return this.answer.includes(t)?"select":"";const e=c.a.keys(this.answerData.dicts);return e.includes(t)&&this.answer.includes(t)?"correct":e.includes(t)?"lack":this.answer.includes(t)?"error":""}}},zt=Jt,Kt=(s("6844"),Object(v["a"])(zt,Qt,Ht,!1,null,"93565f02",null)),Yt=Kt.exports,Ft=function(){var t,e,s=this,i=s._self._c;return i("div",{staticClass:"topic-n-test"},[i("div",{class:"title "+(Boolean(s.answerData)&&!1===s.isgrouptest?"answered":"")},[s._v(" "+s._s(s.$t("topicInfo.titlen"))+" ")]),!1===s.isgrouptest?[Boolean(s.answerData)?i("div",{staticClass:"answer-desc"},[i("div",{staticClass:"answer-desc-title"},[s._v(s._s(s.$t("topicInfo.answerShuoming")))]),i("div",{staticClass:"answer-desc-options"},[i("div",{staticClass:"correct"},[s._v(s._s(s.$t("topicInfo.true")))]),i("div",{staticClass:"error"},[s._v(s._s(s.$t("topicInfo.wrong")))])])]):s._e()]:s._e(),i("div",{staticClass:"content"},s._l(s.words,(function(t,e){return i("div",{key:e},[s._v(" "+s._s(t)+" ")])})),0),Boolean(s.answerData)&&!1===s.isgrouptest?i("div",{staticClass:"yesOrNo_out"},[0===s.answer.length?[i("div",{class:"word"},[s._v("Yes")]),i("div",{class:"word"},[s._v("No")])]:["1"===s.answer?[i("div",{class:"word "+s.classGetyes()},[s._v("Yes")]),i("div",{class:"word"},[s._v("No")])]:[i("div",{class:"word"},[s._v("Yes")]),i("div",{class:"word "+s.classGetNo()},[s._v("No")])]]],2):s.words.length?[i("div",{staticClass:"yesOrNo_out"},[i("div",{directives:[{name:"debounce",rawName:"v-debounce",value:()=>s.handleClick("1"),expression:"() => handleClick('1')"}],class:"word "+(1===s.userClickYes?"click":"")},[s._v("Yes")]),i("div",{directives:[{name:"debounce",rawName:"v-debounce",value:()=>s.handleClick("0"),expression:"() => handleClick('0')"}],class:"word "+(2===s.userClickYes?"click":"")},[s._v("No")])])]:s._e(),null!==(t=s.question)&&void 0!==t&&t.examQuestionId&&"0"===(null===(e=s.question)||void 0===e?void 0:e.flag)?void 0:[!1===s.isgrouptest?["0"===s.question.flag&&Boolean(s.answerData)?i("div",{staticClass:"jia_danci_tips"},[s._v(" "+s._s(s.$t("topicInfo.errorwordstips"))),i("span",{staticClass:"yellow_font"},[s._v(s._s(s.question.answer))])]):s._e(),Boolean(s.answerData)?i("Dicts",{attrs:{dicts:s.dicts},on:{dictChange:s.onDictChange}}):s._e()]:s._e()],!1===s.isgrouptest?[Boolean(s.answerData)?["1"===s.answer?["1"===s.question.flag?i("div",{staticClass:"dadui"},[i("div",{staticClass:"right_icon"},[i("el-image",{attrs:{src:s.correctImg}})],1),i("div",{staticClass:"dadui_font"},[s._v(" "+s._s(s.$t("topicInfo.topicNRight"))+" ")])]):i("div",{staticClass:"dacuo"},[i("div",{staticClass:"right_icon"},[i("el-image",{attrs:{src:s.errImg}})],1),i("div",{staticClass:"dadui_font"},[s._v(" "+s._s(s.$t("topicInfo.topicNerr1"))+" ")])])]:s._e(),"0"===s.answer?["1"===s.question.flag?i("div",{staticClass:"dacuo"},[i("div",{staticClass:"right_icon"},[i("el-image",{attrs:{src:s.errImg}})],1),i("div",{staticClass:"dadui_font"},[s._v(" "+s._s(s.$t("topicInfo.topicNerr2"))+" ")])]):i("div",{staticClass:"dadui"},[i("div",{staticClass:"right_icon"},[i("el-image",{attrs:{src:s.correctImg}})],1),i("div",{staticClass:"dadui_font"},[s._v(" "+s._s(s.$t("topicInfo.topicNRight"))+" ")])])]:s._e(),0===s.answer.length?[i("div",{staticClass:"dacuo"},[i("div",{staticClass:"right_icon"},[i("el-image",{attrs:{src:s.errImg}})],1),i("div",{staticClass:"dadui_font"},[s._v(" "+s._s("1"===s.question.flag?s.$t("topicInfo.topicNerr2"):s.$t("topicInfo.topicNerr1"))+" ")])])]:s._e()]:s._e()]:s._e()],2)},Vt=[];const Zt=Object(l["Cb"])("vip/step1.png"),Xt=Object(l["Cb"])("image/answer_err.svg"),te=Object(l["Cb"])("image/answer_right.svg");var ee={components:{Dicts:P},props:{question:Object,answerData:Object},data(){return{step1Img:Zt,errImg:Xt,correctImg:te,answer:[],userClickYes:0,isgrouptest:!1}},computed:{words(){try{return this.question.title?[this.question.title]:[]}catch(t){return[]}},dicts(){var t;const e="string"===typeof this.question.title?[this.question.title]:[];if(null===(t=this.answerData)||void 0===t||!t.dicts)return[];const{dicts:s={}}=this.answerData,i=[];return"1"===this.question.flag?c.a.each(e,t=>{s[t.toLocaleLowerCase()]&&i.push({title:t,...s[t.toLocaleLowerCase()]})}):c.a.each(s,t=>{i.push({title:t.word,...t})}),i}},watch:{answerData:{handler(t){c.a.isEmpty(t)?(this.answer=[],this.userClickYes=0):this.answer=t.answer||[]},deep:!0,immediate:!0}},mounted(){this.$route.query.groupId&&(this.isgrouptest=!0)},methods:{handleClick(t){c.a.isEmpty(this.answerData)&&(this.userClickYes="1"===t?1:2,this.answer=t,!1===this.isgrouptest?this.$store.commit("question/upState",{answer:this.answer}):this.$store.commit("groupquestion/upState",{answer:this.answer}),this.$emit("onSubmit"))},classGetyes(){return"1"===this.question.flag?"correct":"error"},classGetNo(){return"1"===this.question.flag?"error":"correct"},onDictChange(){this.$emit("dictChange")}}},se=ee,ie=(s("8912"),Object(v["a"])(se,Ft,Vt,!1,null,"52e884be",null)),ae=ie.exports,ne=function(){var t=this,e=t._self._c;return e("div",{staticClass:"topic-8-d-test"},[e("div",{class:"title "+(Boolean(t.answerData)?"answered":"")},[t._v(" "+t._s("8"===t.question.key?t.$t("topicInfo.title81"):t.$t("topicInfo.title82"))+" ")]),e("div",{staticClass:"content"},[e("div",{staticClass:"top"},[e("div",{staticClass:"left"},[t._v(t._s(t.question.title))]),e("div",{staticClass:"right"},[e("div",{staticClass:"answer-input"},[e("el-input",{staticClass:"input",attrs:{disabled:Boolean(t.answerData),type:"textarea",spellcheck:!1,autocomplete:"off",rows:10,placeholder:t.$t("topicInfo.yourAnswer")},on:{input:t.onChange},model:{value:t.answer,callback:function(e){t.answer=e},expression:"answer"}}),e("div",{staticClass:"word-number"},[t._v(" "+t._s(t.$t("topicInfo.jianyiNum"))+"120-160 "+t._s(t.$t("topicInfo.yishuru"))),e("span",{staticClass:"yellow_font"},[t._v(t._s(t.length))]),t._v(" /300 ")])],1)])]),e("div",{staticClass:"items"},[t.extData.answerTemplate?e("div",{staticClass:"item",on:{click:function(e){return t.changeshowWitchItem(0)}}},[e("div",{class:0===t.showWitchItem?"itemLeft itemLeft_open":"itemLeft"},[e("div",{staticClass:"itemTitle"},[t._v(" "+t._s(t.$t("topicInfo.answerMuban"))+" ")]),e("div",{staticClass:"arrow_out"},[0===t.showWitchItem?e("span",[e("el-image",{attrs:{src:t.arrow_up}})],1):e("span",[e("el-image",{attrs:{src:t.arrow_down}})],1)])])]):t._e(),t.question.answer?e("div",{staticClass:"item",on:{click:function(e){return t.changeshowWitchItem(1)}}},[e("div",{class:1===t.showWitchItem?"itemLeft itemLeft_open":"itemLeft"},[e("div",{staticClass:"itemTitle"},[t._v(" "+t._s(t.$t("topicInfo.cankaoAnswer"))+" ")]),e("div",{staticClass:"arrow_out"},[1===t.showWitchItem?e("span",[e("el-image",{attrs:{src:t.arrow_up}})],1):e("span",[e("el-image",{attrs:{src:t.arrow_down}})],1)])])]):t._e()]),-1!==t.showWitchItem?e("div",{staticClass:"new_item_content_show_out"},[0===t.showWitchItem?e("div",[e("div",{domProps:{innerHTML:t._s(t.extData.answerTemplate.replace(/\n/g,"<br/>"))}})]):t._e(),1===t.showWitchItem&&t.question.answer?e("div",[e("div",[t._v(t._s(t.question.answer))])]):t._e()]):t._e(),"1"===t.question.correctStatus&&t.correctContent&&!t.question.correctId?["1"===t.question.correctStatus?e("div",{staticClass:"correctContent"},[!t.question.correctId&&t.correctContent?e("div",{staticClass:"old"},[e("div",{staticClass:"top"},[e("div",{staticClass:"correctTitle"},[t._v(t._s(t.$t("vip.correctText")))]),e("div",{staticClass:"correctTime"},[e("div",{staticClass:"dot success"}),e("div",{staticClass:"time"},[t._v(" "+t._s(`${t.formatTime(t.question.correctTime)} ${t.$t("topicInfo.pigaiWancheng")}`)+" ")])])]),e("div",{staticClass:"text",domProps:{innerHTML:t._s(t.correctContent)}})]):t.question.correctId?e("div",{staticClass:"new"},[e("div",{staticClass:"correctTitle"},[t._v(t._s(t.$t("vip.correctText")))]),e("div",{staticClass:"tow_out"},[e("div",{staticClass:"correctTime"},[e("div",{staticClass:"dot success"}),e("div",{staticClass:"time"},[t._v(" "+t._s(`${t.formatTime(t.question.correctTime)} ${t.$t("topicInfo.pigaiWancheng")}`)+" ")])]),e("div",{staticClass:"see_baogao",on:{click:function(e){return t.goreport(t.question.correctId)}}},[t._v(t._s(t.$t("vip.seeReport")))])])]):t._e()]):"0"===t.question.correctStatus?e("div",{staticClass:"correctContent"},[e("div",{staticClass:"old"},[e("div",{staticClass:"top"},[e("div",{staticClass:"correctTitle"},[t._v(t._s(t.$t("vip.correctText")))])]),e("div",{staticClass:"penndingText"},[e("div",{staticClass:"dot pendding"}),e("div",[t._v(" "+t._s(t.$t("topicInfo.pigaiZhong"))+" ")])])])]):t._e()]:[e("CorrectCardResult",{attrs:{question:t.question,"answer-data":t.answerData,"is-vip":t.isVip,"correct-num":t.correctNum}})]],2)])},re=[];const oe=Object(l["Bb"])("exam/arrow_up.svg"),ce=Object(l["Bb"])("exam/arrow_down.svg");var le={components:{CorrectCardResult:Bt},props:{question:Object,answerData:Object},data(){return{arrow_up:oe,arrow_down:ce,answer:"",showWitchItem:-1}},computed:{...Object(U["mapState"])("app",{user(t){return t.user},correctNum(t){const{user:e}=t;return e.correctNum||0}}),isVip(){return this.user.vipEndTime&&R()(this.user.vipEndTime).isAfter(R()())},length(){let t=0;return t=c.a.trim(this.answer)?c.a.trim(this.answer)&&!c.a.trim(this.answer).match(/\s+/g)?1:c.a.trim(this.answer).match(/\s+/g).length+1:0,t},correctContent(){if("1"===this.question.correctStatus){const{content:t}=JSON.parse(this.question.correct||"{}");return t?t.replace(/\n/g,"<br/>"):""}return""},extData(){const t=JSON.parse(this.question.extData||"{}");return t}},watch:{answerData:{handler(t){c.a.isEmpty(t)?this.answer="":this.answer=t.answer},deep:!0,immediate:!0},answer(t){const e=t.trim().split(/\s+/);e.length>300&&(this.answer=e.slice(0,300).join(" "))}},methods:{changeshowWitchItem(t){this.showWitchItem===t?this.showWitchItem=-1:this.showWitchItem=t},goreport(t){this.$router.push("/correct/correctReport?id="+t)},onChange(t){this.$store.commit("question/upState",{answer:t})},formatTime(t){return R()(t).format("YYYY-MM-DD HH:mm")}}},de=le,ue=(s("42bb"),s("fcfe"),Object(v["a"])(de,ne,re,!1,null,"1b7f1eac",null)),he=ue.exports,pe=function(){var t=this,e=t._self._c;return e("div",{staticClass:"topic-6-test"},[e("div",{class:"title "+(Boolean(t.answerData)?"answered":"")},[t._v(t._s(t.$t("topicInfo.title6")))]),e("div",{staticClass:"content"},[e("div",{staticClass:"top"},[t.url?e("el-image",{staticClass:"left",attrs:{ondragstart:"return false;",oncontextmenu:"return false;",src:t.url}}):e("div",{staticClass:"left"}),e("div",{staticClass:"right"},[e("el-input",{staticClass:"input",attrs:{disabled:Boolean(t.answerData),type:"textarea",spellcheck:!1,autocomplete:"off",rows:10,placeholder:t.$t("topicInfo.yourAnswer"),"show-word-limit":""},on:{input:t.onChange},model:{value:t.answer,callback:function(e){t.answer=e},expression:"answer"}}),e("div",{staticClass:"word-number"},[t._v(" "+t._s(t.$t("topicInfo.jianyiNum"))+"30-50 "+t._s(t.$t("topicInfo.yishuru"))),e("span",{staticClass:"yellow_font"},[t._v(t._s(t.length))]),t._v(" /100 ")])],1)],1),e("div",{staticClass:"items"},[t.question.answer?e("div",{staticClass:"item",on:{click:function(e){return t.changeshowWitchItem(0)}}},[e("div",{class:0===t.showWitchItem?"itemLeft itemLeft_open":"itemLeft"},[e("div",{staticClass:"itemTitle"},[t._v(" "+t._s(t.$t("topicInfo.cankaoAnswer"))+" ")]),e("div",{staticClass:"arrow_out"},[0===t.showWitchItem?e("span",[e("el-image",{attrs:{src:t.arrow_up}})],1):e("span",[e("el-image",{attrs:{src:t.arrow_down}})],1)])])]):t._e()]),-1!==t.showWitchItem?e("div",{staticClass:"new_item_content_show_out"},[0===t.showWitchItem?e("div",[e("div",[t._v(t._s(t.question.answer))])]):t._e()]):t._e(),"1"===t.question.correctStatus&&t.correctContent&&!t.question.correctId?["1"===t.question.correctStatus&&t.correctContent?e("div",{staticClass:"correctContent"},[e("div",{staticClass:"top"},[e("div",{staticClass:"correctTitle"},[t._v(t._s(t.$t("vip.correctText")))]),e("div",{staticClass:"correctTime"},[e("div",{staticClass:"dot success"}),e("div",{staticClass:"time"},[t._v(" "+t._s(`${t.formatTime(t.question.correctTime)} ${t.question.correctorName,""+t.$t("topicInfo.pigaiWancheng")} `)+" ")])])]),e("div",{staticClass:"text",domProps:{innerHTML:t._s(t.correctContent)}})]):"0"===t.question.correctStatus?e("div",{staticClass:"correctContent"},[e("div",{staticClass:"top"},[e("div",{staticClass:"correctTitle"},[t._v(t._s(t.$t("vip.correctText")))])]),e("div",{staticClass:"penndingText"},[e("div",{staticClass:"dot pendding"}),e("div",[t._v(" "+t._s(t.$t("topicInfo.pigaiZhong"))+" ")])])]):t._e()]:[e("CorrectCardResult",{attrs:{question:t.question,"answer-data":t.answerData,"is-vip":t.isVip,"correct-num":t.correctNum}})]],2)])},me=[];const ve=Object(l["Bb"])("exam/arrow_up.svg"),we=Object(l["Bb"])("exam/arrow_down.svg");var _e={components:{CorrectCardResult:Bt},props:{question:Object,answerData:Object},data(){return{arrow_up:ve,arrow_down:we,answer:"",url:"",showWitchItem:-1}},computed:{...Object(U["mapState"])("app",{user(t){return t.user},correctNum(t){const{user:e}=t;return e.correctNum||0}}),length(){let t=0;return t=c.a.trim(this.answer)?c.a.trim(this.answer)&&!c.a.trim(this.answer).match(/\s+/g)?1:c.a.trim(this.answer).match(/\s+/g).length+1:0,t},correctContent(){if("1"===this.question.correctStatus){const{content:t=""}=JSON.parse(this.question.correct||"{}");return t.replace(/\n/g,"<br/>")}return""},isVip(){return this.user.vipEndTime&&R()(this.user.vipEndTime).isAfter(R()())}},watch:{question:{handler(t){this.fileUrlGet({md5:t.md5,type:"jpg"})},deep:!0,immediate:!0},answerData:{handler(t){c.a.isEmpty(t)?(this.answer="",this.left=3):this.answer=t.answer},immediate:!0,deep:!0},answer(t){const e=t.trim().split(/\s+/);e.length>100&&(this.answer=e.slice(0,100).join(" "))}},methods:{changeshowWitchItem(t){this.showWitchItem===t?this.showWitchItem=-1:this.showWitchItem=t},async fileUrlGet(t){const e=t.md5?await Object(l["w"])(t):"";this.url=e},onChange(t){this.$store.commit("question/upState",{answer:t})},formatTime(t){return R()(t).format("YYYY-MM-DD HH:mm")}}},ge=_e,fe=(s("1645"),s("a4b4"),Object(v["a"])(ge,pe,me,!1,null,"f67a5eb8",null)),Ce=fe.exports,ye=function(){var t=this,e=t._self._c;return e("div",{staticClass:"topic-f-test"},[e("div",{class:"title "+(Boolean(t.answerData)?"answered":"")},[t._v(t._s(t.$t("topicInfo.title7")))]),t.answerData&&(t.answerData.score||0===t.answerData.score)?e("div",{staticClass:"rate"},[e("div",{staticClass:"rateText"},[t._v(t._s(t.$t("topicInfo.myacc")))]),e("div",{staticClass:"rateNum"},[t._v(t._s(""+t.answerData.score)),e("span",{staticClass:"symbol"},[t._v("%")])])]):t._e(),Boolean(t.answerData)?e("div",{staticClass:"answer-desc"},[e("div",[t._v(t._s(t.$t("topicInfo.answerShuoming")))]),e("div",{staticClass:"correct"},[t._v(t._s(t.$t("topicInfo.true")))]),e("div",{staticClass:"error"},[t._v(t._s(t.$t("topicInfo.wrong")))]),e("div",{staticClass:"lack"},[t._v(t._s(t.$t("topicInfo.littleCheck")))])]):t._e(),e("div",{staticClass:"content"},t._l(t.words,(function(s,i){return e("div",{key:i,class:"item "+t.classGet(i)},[e("div",{staticClass:"left",on:{click:function(e){return t.play(s.id)}}},[e("el-image",{staticClass:"play-image",attrs:{ondragstart:"return false;",oncontextmenu:"return false;",src:s.id===t.playingId&&t.playing?t.playingImg:t.noPlayImg}}),e("div",{staticClass:"word-text"},[t._v(t._s(t.$t("topicInfo.words"))+t._s(""+(i+1)))])],1),e("div",{staticClass:"right",on:{click:function(e){return t.select(i)}}},[e("el-image",{staticClass:"correct-image",attrs:{ondragstart:"return false;",oncontextmenu:"return false;",src:"lack"===t.classGet(i)?t.noCorrectImg:t.correctImg}})],1)])})),0),Boolean(t.answerData)?e("Dicts",{attrs:{dicts:t.dicts}}):t._e()],1)},be=[];const Ie=Object(l["Bb"])("image/no-play.png"),xe=Object(l["Bb"])("image/playing.png"),$e=Object(l["Bb"])("image/correct.png"),qe=Object(l["Bb"])("image/no-correct.png");var ke={components:{Dicts:P},props:{question:Object,answerData:Object},data(){return{playing:!1,playingId:"",noPlayImg:Ie,playingImg:xe,correctImg:$e,noCorrectImg:qe,answer:[]}},computed:{words(){try{const t=JSON.parse(this.question.title);return c.a.each(t,t=>{t.answer=t.answer.toLowerCase()}),t}catch(t){return[]}},dicts(){const t="string"===typeof this.question.title?JSON.parse(this.question.title||"[]"):[],{dicts:e={}}=this.answerData,s=[];return c.a.each(t,t=>{e[t.answer.toLowerCase()]&&s.push({title:t.answer.toLowerCase(),...e[t.answer.toLowerCase()]})}),s}},watch:{answerData:{handler(t){c.a.isEmpty(t)?this.answer=[]:this.answer=t.answer},deep:!0}},methods:{async play(t){if(this.playing)return;this.playing=!0,this.playingId=t;const e=new Audio,s=await Object(l["w"])({md5:this.question.md5,type:"mp3"});e.src=s,e.play(),e.addEventListener("ended",()=>{this.playing=!1,this.playingId=""})},select(t){c.a.isEmpty(this.answerData)&&(c.a.includes(this.answer,t)?this.answer=[...c.a.pull(this.answer,t)]:this.answer=[...this.answer,t],this.$store.commit("question/upState",{answer:this.answer.length?this.answer:void 0}))},classGet(t){if(c.a.isEmpty(this.answerData))return this.answer.includes(t)?"select":"";const e=this.words[t],s=c.a.trim(e.answer,". ");return this.answer.includes(t)&&s?"correct":!this.answer.includes(t)&&s?"lack":this.answer.includes(t)&&!s?"error":""}}},Se=ke,Te=(s("efa3"),Object(v["a"])(Se,ye,be,!1,null,"0d008337",null)),De=Te.exports,Oe=function(){var t=this,e=t._self._c;return e("div",{staticClass:"topic-i"},[Boolean(t.answerData)?t._e():e("count-down",{attrs:{id:""+t.question.id,duration:t.topic.duration,prepare:t.topic.prepare,"topic-key":t.question.key,pause:!1,"hdyd-index":t.hdydIndex}}),e("div",{class:"topic-i-test "+(Boolean(t.answerData)?"answered":"")},[e("div",{staticClass:"topic-i-wrapper"},[Boolean(t.answerData)?e("div",{staticClass:"hdydIndexTabs"},t._l(6,(function(s){return e("div",{key:s,class:s===t.hdydIndex+1?"active":"",on:{click:function(e){t.hdydIndex=s-1}}},[t._v(" "+t._s(s)+" ")])})),0):[t.answerData&&(t.answerData.score||0===t.answerData.score)?e("div",{staticClass:"rate"},[e("div",{staticClass:"rateText"},[t._v(t._s(t.$t("topicInfo.myacc")))]),e("div",{staticClass:"rateNum"},[t._v(t._s(""+t.answerData.score)),e("span",{staticClass:"symbol"},[t._v("%")])])]):t._e()],[2,3].includes(t.hdydIndex)&&t.isLg&&t.isMobileDevice?e("div",[e("div",{staticClass:"answerSelectTitle"},[t._v(t._s(t.$t("topicInfo.tabTheStart")))]),e("div",{staticClass:"answerQuestionTitle"},[t._v(t._s(t.ansOps))]),e("div",{staticClass:"answerContent"},[e("div",{staticClass:"answerContentTitle"},[t._v(t._s(t.$t("topicInfo.biaojiAnswerMb")))]),e("div",{class:"answerContentInfo "+(t.showAnswer?(t.answer[t.hdydIndex],t.correctAnswer,"error"):"")},[t._v(" "+t._s(t.answer[t.hdydIndex])+" ")]),t.showAnswer?e("div",{staticClass:"answerContentInfo correct"},[t._v(" "+t._s(t.correctAnswer)+" ")]):t._e()])]):t._e(),[4,5].includes(t.hdydIndex)&&t.isLg?e("div",{staticClass:"answerQuestionTitle"},[t._v(t._s(t.answerTitle))]):t._e(),[4,5].includes(t.hdydIndex)&&t.isLg?[e("el-radio-group",{attrs:{size:"large"},model:{value:t.answer[t.hdydIndex],callback:function(e){t.$set(t.answer,t.hdydIndex,e)},expression:"answer[hdydIndex]"}},t._l(t.ansOps,(function(s,i){return e("div",{key:i},[e("el-radio",{class:""+(t.showAnswer?t.correctAnswer===i?"correct":t.answer[t.hdydIndex]===i?"error":"":""),attrs:{label:i,border:"",disabled:t.showAnswer}},[t._v(t._s(s))])],1)})),0)]:t._e(),e("div",{staticClass:"content"},[2!==t.hdydIndex&&3!==t.hdydIndex&&4!==t.hdydIndex&&5!==t.hdydIndex?e("div",{staticClass:"answerTitle answerTitle_fixed"},[t._v(" "+t._s(t.answerTitle)+" ")]):t._e(),e("div",{staticClass:"question"},[e("div",{staticClass:"questionTitle"},[t._v(t._s(t.$t("topicInfo.duanluo")))]),e("div",{key:t.hdydIndex,staticClass:"questionContent"},[[0,1].includes(t.hdydIndex)?t._l(t.title,(function(s,i){return e("span",{key:i},[e("span",{key:i},[t._v(t._s(s))]),i!==t.title.length-1&&0===t.hdydIndex?e("el-select",{class:`space-0 ${t.ansOps[i][t.answer[t.hdydIndex][i]]?"active":""} ${t.showAnswer?t.correctAnswer[i]===t.answer[t.hdydIndex][i]?"correct":"error":""}`,attrs:{placeholder:t.isLg?t.$t("topicInfo.pleaseSelect"):"","popper-append-to-body":!1,disabled:t.showAnswer||!t.isLg},model:{value:t.answer[t.hdydIndex][i],callback:function(e){t.$set(t.answer[t.hdydIndex],i,e)},expression:"answer[hdydIndex][i]"}},[e("span",{staticClass:"num",attrs:{slot:"prefix"},slot:"prefix"},[t._v(t._s(i+1))]),t._l(t.ansOps[i],(function(t,s){return e("el-option",{key:t,staticClass:"topic-i-option",attrs:{label:t,value:s}})}))],2):t._e(),i!==t.title.length-1&&0===t.hdydIndex&&t.showAnswer&&t.isLg?e("span",{staticClass:"correctAnswer-0"},[t._v(" "+t._s(t.ansOps[i][t.correctAnswer[i]])+" ")]):i!==t.title.length-1&&1===t.hdydIndex?e("div",[e("Select",{attrs:{options:t.ansOps,correct:t.correctAnswer,"show-answer":t.showAnswer,"is-mobile":t.isLg},model:{value:t.answer[t.hdydIndex],callback:function(e){t.$set(t.answer,t.hdydIndex,e)},expression:"answer[hdydIndex]"}})],1):t._e()],1)})):[2,3].includes(t.hdydIndex)&&(t.isLg||t.isMobileDevice)&&!t.showAnswer?e("span",{staticStyle:{display:"flex","flex-wrap":"wrap"}},t._l(t.title.split(" "),(function(s,i){return e("span",{key:i,class:"selectText "+(t.isExist(t.selectIndex[0])&&t.isExist(t.selectIndex[1])&&i>=t.selectIndex[0]&&i<=t.selectIndex[1]?"middle":""),staticStyle:{padding:"0 4px"},on:{click:function(e){return t.onSelectStartOrEnd(i)}}},[t.selectIndex[0]===i?e("span",{staticClass:"start"},[t._v("|")]):t._e(),t._v(t._s(s)),t.selectIndex[1]===i?e("span",{staticClass:"end"},[t._v("|")]):t._e()])})),0):[2,3,4,5].includes(t.hdydIndex)?[e("span",{class:"questionContent-"+t.hdydIndex,domProps:{innerHTML:t._s(t.title)},on:{click:t.onTextSelect,copy:t.onTextCopy}})]:t._e()],2)]),e("div",{staticClass:"answer"},[e("div",{staticClass:"answerTitle"},[t._v(t._s(t.answerTitle))]),0===t.hdydIndex?e("div",t._l(t.title,(function(s,i){return e("div",{key:i,staticClass:"select"},[i!==t.title.length-1?[t.showAnswer?t._e():e("el-select",{class:"el-select",attrs:{placeholder:t.$t("topicInfo.pleaseSelect"),size:"large","popper-append-to-body":!1},model:{value:t.answer[t.hdydIndex][i],callback:function(e){t.$set(t.answer[t.hdydIndex],i,e)},expression:"answer[hdydIndex][i]"}},t._l(t.ansOps[i],(function(t,s){return e("el-option",{key:t,staticClass:"topic-i-option",attrs:{label:t,value:s}})})),1),t.showAnswer?e("div",{staticClass:"showAnswer-0"},[e("div",{class:"num "+(t.answer[t.hdydIndex][i]||0===t.answer[t.hdydIndex][i]?"selected":"")},[t._v(" "+t._s(i+1)+" ")]),e("div",{class:"myAnswer-0 "+(t.correctAnswer[i]===t.answer[t.hdydIndex][i]?"correct":"error")},[t._v(" "+t._s(t.ansOps[i][t.answer[t.hdydIndex][i]])+" ")]),e("div",{staticClass:"correctAnswer-0"},[t._v(" "+t._s(t.ansOps[i][t.correctAnswer[i]])+" ")])]):e("div",{class:"num "+(t.answer[t.hdydIndex][i]||0===t.answer[t.hdydIndex][i]?"selected":"")},[t._v(" "+t._s(i+1)+" ")])]:t._e()],2)})),0):[1,4,5].includes(t.hdydIndex)?e("div",[e("el-radio-group",{attrs:{size:"large"},model:{value:t.answer[t.hdydIndex],callback:function(e){t.$set(t.answer,t.hdydIndex,e)},expression:"answer[hdydIndex]"}},t._l(t.ansOps,(function(s,i){return e("div",{key:i},[e("el-radio",{class:""+(t.showAnswer?t.correctAnswer===i?"correct":t.answer[t.hdydIndex]===i?"error":"":""),attrs:{label:i,border:"",disabled:t.showAnswer}},[t._v(t._s(s))])],1)})),0)],1):[2,3].includes(t.hdydIndex)?e("div",[e("div",{staticClass:"answerQuestionTitle"},[t._v(t._s(t.ansOps))]),e("div",{staticClass:"answerContent"},[e("div",{staticClass:"answerContentTitle"},[t._v(t._s(t.$t("topicInfo.biaojiAnswer")))]),e("div",{class:"answerContentInfo "+(t.showAnswer?t.isEqual(t.answer[t.hdydIndex],t.correctAnswer)?"correct":"error":"")},[t._v(" "+t._s(t.answer[t.hdydIndex])+" ")]),t.showAnswer?e("div",{staticClass:"answerContentTitle mgtop"},[t._v(t._s(t.$t("topicInfo.ckdn")))]):t._e(),t.showAnswer?e("div",{staticClass:"answerContentInfo correct"},[t._v(" "+t._s(t.correctAnswer)+" ")]):t._e()])]):t._e()])]),e("div",{staticClass:"items"},[t.extData.titleTranslate?e("div",{staticClass:"item",on:{click:function(e){return t.changeshowWitchItem(0)}}},[e("div",{class:0===t.showWitchItem?"itemLeft itemLeft_open":"itemLeft"},[e("div",{staticClass:"itemTitle"},[t._v(" "+t._s(t.$t("topicInfo.fanyiCankao"))+" ")]),e("div",{staticClass:"arrow_out"},[0===t.showWitchItem?e("span",[e("el-image",{attrs:{src:t.arrow_up}})],1):e("span",[e("el-image",{attrs:{src:t.arrow_down}})],1)])])]):t._e()]),-1!==t.showWitchItem?e("div",{staticClass:"new_item_content_show_out"},[0===t.showWitchItem?e("div",[e("div",{domProps:{innerHTML:t._s(t.extData.titleTranslate.replace(/\n/g,"<br/>"))}})]):t._e()]):t._e()],2),t.exam?t._e():e("div",[e("div",{staticClass:"btnGroup"},[t.isLg?e("div",{staticClass:"nextPreviewMobileBtns"},[e("el-image",{staticClass:"mobilePrev",attrs:{src:t.prevImg},on:{click:function(e){return t.nextOrPrevQuestionGet("prev")}}}),e("el-image",{staticClass:"mobileNext",attrs:{src:t.nextImg},on:{click:function(e){return t.nextOrPrevQuestionGet("next")}}})],1):e("div",{staticClass:"nextPreviewBtns nextPreviewBtns6"},[e("div",{staticClass:"pointer",on:{click:function(e){return t.nextOrPrevQuestionGet("prev")}}},[t._v(" "+t._s(t.$t("topicInfo.prevTi"))+" ")]),e("div",{staticClass:"pointer pointer_next",on:{click:function(e){return t.nextOrPrevQuestionGet("next")}}},[t._v(" "+t._s(t.$t("topicInfo.nextTi"))+" ")])]),e("div",{staticClass:"rightBtns"},[e("CommonAskAiBtn"),t.answerData?[e("el-button",{staticClass:"next submit_redo next123",on:{click:t.reset}},[t._v(" "+t._s(t.$t("topicInfo.redo"))+" ")])]:[t.hdydIndex<5?e("el-button",{class:"next "+(t.nextDisabled?"disabled":""),attrs:{disabled:t.nextDisabled},on:{click:t.onNext}},[t._v(" "+t._s(t.$t("topic5new.nextTi"))+" ")]):e("el-button",{staticClass:"next",on:{click:t.onSubmit}},[t._v(" "+t._s(t.$t("topicInfo.submit"))+" ")])]],2)])])])],1)},Pe=[],We=s("42ff"),Be=s("b820");const je=Object(l["Bb"])("image/next.svg"),Le=Object(l["Bb"])("image/prev.svg"),Ne=Object(l["Bb"])("exam/arrow_up.svg"),Ae=Object(l["Bb"])("exam/arrow_down.svg");var Me={components:{Select:We["a"],CountDown:Be["a"],CommonAskAiBtn:Y["a"]},props:{question:Object,topic:Object,answerData:Object,exam:Boolean,displayOrder:Number,total:Number},data(){return{arrow_up:Ne,arrow_down:Ae,hdydIndex:0,answer:[[]],showAnswer:!1,selectIndex:[],nextImg:je,prevImg:Le,showWitchItem:-1}},computed:{isLg(){return this.$store.state.app.offsetWidth<928},isMobileDevice(){return/(iPhone|iPad|iPod|iOS|Android)/i.test(navigator.userAgent)},title(){if(!this.question.title)return[];const t=JSON.parse(this.question.title),e=t[this.hdydIndex];switch(this.hdydIndex){case 0:return e.split(/\(\d{1,2}\)/g);case 1:return e.split("(******)");case 2:case 3:if(this.showAnswer){let t="";return this.answer[this.hdydIndex]&&-1!==this.answer[this.hdydIndex].indexOf(this.correctAnswer)&&this.answer[this.hdydIndex]!==this.correctAnswer?(t=e.replace(this.answer[this.hdydIndex],`<span style="color: #F66442">${this.answer[this.hdydIndex]}</span>`),t=t.replace(this.correctAnswer,`<span style="color: #6DD400">${this.correctAnswer}</span>`)):(t=e.replace(this.correctAnswer,`<span style="color: #6DD400">${this.correctAnswer}</span>`),-1===this.correctAnswer.indexOf(this.answer[this.hdydIndex])&&(t=t.replace(this.answer[this.hdydIndex],`<span style="color: #F66442">${this.answer[this.hdydIndex]}</span>`))),t}return e;default:return e}},ansOps(){if(!this.question.answer)return"";const t=JSON.parse(this.question.answer);return t[this.hdydIndex][0]},correctAnswer(){if(!this.question.answer)return"";const t=JSON.parse(this.question.answer);return"string"===typeof t[this.hdydIndex][1]?c.a.trim(t[this.hdydIndex][1]):t[this.hdydIndex][1]},answerTitle(){switch(this.hdydIndex){case 0:return this.$t("topicInfo.answerTitle1");case 1:return this.$t("topicInfo.answerTitle2");case 2:case 3:return this.isMobileDevice?this.$t("topicInfo.answerTitle33"):this.$t("topicInfo.answerTitle3");case 4:return this.$t("topicInfo.answerTitle4");case 5:return this.$t("topicInfo.answerTitle5");default:return""}},nextDisabled(){switch(this.hdydIndex){case 0:return this.title.length!==this.answer[this.hdydIndex].length+1;case 1:case 4:case 5:return!this.answer[this.hdydIndex]&&0!==this.answer[this.hdydIndex];case 2:case 3:return!this.answer[this.hdydIndex];default:return!0}},extData(){const t=JSON.parse(this.question.extData||"{}");return t}},watch:{"question.id":{handler(t,e){t&&t!==e&&(this.hdydIndex=0,c.a.isEmpty(this.answerData)&&(this.answer=[[]],this.selectIndex=[],this.showAnswer=!1))},immediate:!0,deep:!0},answerData:{handler(t){c.a.isEmpty(t)||(t.answer&&(this.answer="string"===typeof t.answer?JSON.parse(t.answer):t.answer),this.showAnswer=!0,this.selectIndex=[])},immediate:!0,deep:!0}},methods:{isEqual(t,e){return t===e||!(!t||!e)&&t.match(/\b\w+\b/g).join("")===e.match(/\b\w+\b/g).join("")},changeshowWitchItem(t){this.showWitchItem===t?this.showWitchItem=-1:this.showWitchItem=t},onNext(){this.hdydIndex+=1,this.showAnswer=!1,this.selectIndex=[],document.querySelector(".topic-i-wrapper").scrollTop=0},onTextSelect(){if(this.showAnswer)return;const t=window.getSelection?window.getSelection():document.selection.createRange().text,e=t.toString();this.$set(this.answer,this.hdydIndex,e)},onTextCopy(t){const e=document.getSelection(),s=e.toString();this.$set(this.answer,this.hdydIndex,s),t.preventDefault()},onSelectStartOrEnd(t){this.isExist(this.selectIndex[0])?this.isExist(this.selectIndex[1])?this.selectIndex=[t]:t>this.selectIndex[0]?(this.$set(this.selectIndex,1,t),this.$set(this.answer,this.hdydIndex,this.title.split(" ").slice(this.selectIndex[0],this.selectIndex[1]+1).join(" "))):this.$set(this.selectIndex,0,t):this.$set(this.selectIndex,0,t)},isExist(t){return t||0===t},showCorrectAnswer(){this.showAnswer=!0,this.selectIndex=[]},async onSubmit(){await this.$store.commit("question/upState",{answer:this.answer}),await this.$emit("onSubmit"),this.showAnswer=!0,this.hdydIndex=0,this.selectIndex=[]},reset(){this.$emit("reset"),this.hdydIndex=0,this.answer=[[]],this.selectIndex=[],this.showAnswer=!1},nextOrPrevQuestionGet(t){this.$emit("nextOrPrevQuestionGet",t)}}},Ee=Me,Ge=(s("0951"),s("615e"),Object(v["a"])(Ee,Oe,Pe,!1,null,null,null)),Re=Ge.exports,Ue=function(){var t=this,e=t._self._c;return e("div",{staticClass:"topic-l-test"},[e("div",{staticClass:"countDonwl"},[Boolean(t.answerData)?t._e():e("count-down",{attrs:{id:(t.hdtlIndex-2)/2===t.titles.length?t.question.id+"2":""+t.question.id,duration:(t.hdtlIndex-2)/2===t.titles.length?t.topic.duration2:t.topic.duration,pause:t.pause2,process:100*(t.question.order+1)/59,desc:`for the next ${t.titles.length-(0===t.hdtlIndex?0:Math.floor((t.hdtlIndex-1)/2))} questions`}})],1),e("div",{staticClass:"content"},[t.hdtlIndex/2!==t.titles.length+1?[e("div",{staticClass:"left"},[e("div",{directives:[{name:"show",rawName:"v-show",value:!t.pause2,expression:"!pause2"}],staticClass:"leftImg",style:{backgroundImage:"url("+t.questionlImg+")",backgroundSize:"contain",backgroundRepeat:"no-repeat"}}),e("div",{directives:[{name:"show",rawName:"v-show",value:t.pause2,expression:"pause2"}],staticClass:"leftImg aa",style:{backgroundImage:"url("+t.questionlGif+")",backgroundSize:"contain",backgroundRepeat:"no-repeat"}})]),e("div",{class:"right topiclRight "+(Boolean(t.answerData)?"answered":"")},[e("div",{staticClass:"rightContent"},[e("div",{staticClass:"title"},[t._v(" "+t._s(t.questionTitles[0])+" ")]),e("div",{staticClass:"subTitle"},[t._v(" "+t._s(t.questionTitles[1])+" ")]),t.titles.length&&t.hdtlIndex>0&&(t.hdtlIndex-1)/2<=t.titles.length?[t._l(Math.floor((t.hdtlIndex-1)/2),(function(s){return[[t.titles[s-1]?e("div",{key:s+"-1",staticClass:"answerTitle"},[e("img",{staticClass:"logoImg",attrs:{src:t.questionlImg,alt:""}}),e("div",{staticClass:"text"},[t._v(t._s(t.titles[s-1]))])]):t._e(),[e("div",{key:s+"-2",staticClass:"answerItem"},[t.itemParamsGet(s-1).isCorrect?e("div",{staticClass:"correct"},[e("div",{staticClass:"text1"},[t._v(t._s(t.itemParamsGet(s-1).correctText))]),e("img",{staticClass:"correctImg",attrs:{src:t.staticUrlGet("image/test-active.png"),alt:""}})]):e("div",{staticClass:"error"},[t.itemParamsGet(s-1).answerText?e("div",{staticClass:"text1 text2"},[t._v(" "+t._s(t.itemParamsGet(s-1).answerText)+" ")]):t._e(),e("div",{staticClass:"title"},[t._v(" "+t._s(t.$t("topicInfo.bestAnswer"))+" ")]),e("div",{staticClass:"text1"},[t._v(" "+t._s(t.itemParamsGet(s-1).correctText)+" ")]),e("img",{staticClass:"correctImg",attrs:{src:t.staticUrlGet("image/error.png"),alt:""}})])])]]]})),e("div",{staticClass:"audio"},[(t.hdtlIndex-1)/2<t.titles.length&&t.titles[Math.floor((t.hdtlIndex-1)/2)]?e("Audiol",{attrs:{disabled:t.hdtlIndex%2===0,src:t.prusmp3TopicUrlGet(t.question,Math.floor((t.hdtlIndex-1)/2)),img:t.questionlImg},on:{onPlay:t.onPlay,onEnded:t.onEnded}}):t._e()],1)]:t._e(),2!==t.hdtlIndex||t.titles[0]?t._e():e("div",{staticClass:"questionTitle"},[e("div",[t._v(t._s(`Question${Math.floor((t.hdtlIndex-1)/2)+1} of ${t.titles.length}`))]),e("div",[t._v("Pick the best option to start the conversation.")])]),t.hdtlIndex>1&&t.hdtlIndex%2===0&&t.hdtlIndex/2<t.titles.length+1?e("div",{staticClass:"options"},[2!==t.hdtlIndex||t.titles[0]?e("div",{staticClass:"questionTitle"},[e("div",[t._v(t._s(`Question${Math.floor((t.hdtlIndex-1)/2)+1} of ${t.titles.length}`))]),e("div",[t._v("Select the best response.")])]):t._e(),t._l(t.answers[Math.floor((t.hdtlIndex-2)/2)][0],(function(s,i){return e("div",{key:i,class:"option "+(t.answer[Math.floor((t.hdtlIndex-2)/2)]===i?"active":""),on:{click:function(e){return t.onChange(i)}}},[e("img",{staticClass:"chooseImg",attrs:{src:t.answer[Math.floor((t.hdtlIndex-2)/2)]===i?t.staticUrlGet("image/choose.png"):t.staticUrlGet("image/unchoose.png"),alt:""}}),e("div",{staticClass:"text"},[t._v(" "+t._s(s)+" ")])])}))],2):t._e(),t.hdtlIndex/2===t.titles.length+1||Boolean(t.answerData)?[e("el-input",{staticClass:"input",attrs:{disabled:Boolean(t.answerData),type:"textarea",spellcheck:!1,autocomplete:"off",rows:6,placeholder:t.$t("topicInfo.yourAnswer"),"show-word-limit":""},on:{input:t.onChange},model:{value:t.answer[t.titles.length],callback:function(e){t.$set(t.answer,t.titles.length,e)},expression:"answer[titles.length]"}}),t.answers[t.titles.length]&&Boolean(t.answerData)?e("div",{staticClass:"answerText"},[e("div",{staticClass:"text1"},[t._v(t._s(t.$t("topicInfo.cankaoAnswer")))]),e("div",[t._v(t._s(t.answers[t.titles.length]))])]):t._e()]:t._e(),(t.hdtlIndex-1)/2===t.titles.length?e("div",{class:"complete "+(Boolean(t.answerData)?"answered":"")},[e("img",{staticClass:"completeImg",attrs:{src:t.staticUrlGet("image/complete.png")}}),e("div",{staticClass:"completeText"},[t._v(t._s(t.$t("topicInfo.taskOver")))])]):t._e(),e("div",{staticClass:"items"},[t.extData.titleTranslate?e("div",{staticClass:"item",on:{click:function(e){return t.changeshowWitchItem(0)}}},[e("div",{class:0===t.showWitchItem?"itemLeft itemLeft_open":"itemLeft"},[e("div",{staticClass:"itemTitle"},[t._v(" "+t._s(t.$t("topicInfo.qingjingFanyi"))+" ")]),e("div",{staticClass:"arrow_out"},[0===t.showWitchItem?e("span",[e("el-image",{attrs:{src:t.arrow_up}})],1):e("span",[e("el-image",{attrs:{src:t.arrow_down}})],1)])])]):t._e(),t.translates?e("div",{staticClass:"item",on:{click:function(e){return t.changeshowWitchItem(1)}}},[e("div",{class:1===t.showWitchItem?"itemLeft itemLeft_open":"itemLeft"},[e("div",{staticClass:"itemTitle"},[t._v(" "+t._s(t.$t("topicInfo.duihuaFanyi"))+" ")]),e("div",{staticClass:"arrow_out"},[1===t.showWitchItem?e("span",[e("el-image",{attrs:{src:t.arrow_up}})],1):e("span",[e("el-image",{attrs:{src:t.arrow_down}})],1)])])]):t._e()]),-1!==t.showWitchItem?e("div",{staticClass:"new_item_content_show_out"},[0===t.showWitchItem?e("div",[e("div",{domProps:{innerHTML:t._s(t.extData.titleTranslate.replace(/\n/g,"<br/>"))}})]):t._e(),1===t.showWitchItem?e("div",[e("div",{domProps:{innerHTML:t._s(t.translates.replace(/\n/g,"<br/>"))}})]):t._e()]):t._e(),e("div",{attrs:{id:"scrollBottom"}})],2)])]:[e("div",{staticClass:"lastest right"},[e("div",{staticClass:"lastestContent"},[e("div",{staticClass:"questionTitle"},[t._v("Summarize the conversation you just had in 75 seconds.")]),e("el-input",{staticClass:"input",attrs:{type:"textarea",spellcheck:!1,autocomplete:"off",rows:10,placeholder:"Your response","show-word-limit":""},on:{input:t.onChange},model:{value:t.answer[t.titles.length],callback:function(e){t.$set(t.answer,t.titles.length,e)},expression:"answer[titles.length]"}}),e("div",{staticClass:"items"},[t.extData.titleTranslate?e("div",{staticClass:"item",on:{click:function(e){return t.changeshowWitchItem(0)}}},[e("div",{class:0===t.showWitchItem?"itemLeft itemLeft_open":"itemLeft"},[e("div",{staticClass:"itemTitle"},[t._v(" "+t._s(t.$t("topicInfo.qingjingFanyi"))+" ")]),e("div",{staticClass:"arrow_out"},[0===t.showWitchItem?e("span",[e("el-image",{attrs:{src:t.arrow_up}})],1):e("span",[e("el-image",{attrs:{src:t.arrow_down}})],1)])])]):t._e(),t.translates?e("div",{staticClass:"item",on:{click:function(e){return t.changeshowWitchItem(1)}}},[e("div",{class:1===t.showWitchItem?"itemLeft itemLeft_open":"itemLeft"},[e("div",{staticClass:"itemTitle"},[t._v(" "+t._s(t.$t("topicInfo.duihuaFanyi"))+" ")]),e("div",{staticClass:"arrow_out"},[1===t.showWitchItem?e("span",[e("el-image",{attrs:{src:t.arrow_up}})],1):e("span",[e("el-image",{attrs:{src:t.arrow_down}})],1)])])]):t._e()]),-1!==t.showWitchItem?e("div",{staticClass:"new_item_content_show_out"},[0===t.showWitchItem?e("div",[e("div",{domProps:{innerHTML:t._s(t.extData.titleTranslate.replace(/\n/g,"<br/>"))}})]):t._e(),1===t.showWitchItem?e("div",[e("div",{domProps:{innerHTML:t._s(t.translates.replace(/\n/g,"<br/>"))}})]):t._e()]):t._e()],1)])]],2),t.exam?t._e():e("div",{staticClass:"btnGroup"},[t.isMobile?e("div",{staticClass:"nextPreviewMobileBtns"},[e("el-image",{staticClass:"mobilePrev",attrs:{src:t.prevImg},on:{click:function(e){return t.nextOrPrevQuestionGet("prev")}}}),e("el-image",{staticClass:"mobileNext",attrs:{src:t.nextImg},on:{click:function(e){return t.nextOrPrevQuestionGet("next")}}})],1):e("div",{staticClass:"nextPreviewBtns nextPreviewBtns5"},[e("div",{staticClass:"pointer",on:{click:function(e){return t.nextOrPrevQuestionGet("prev")}}},[t._v(" "+t._s(t.$t("topicInfo.prevTi"))+" ")]),e("div",{staticClass:"pointer pointer_next",on:{click:function(e){return t.nextOrPrevQuestionGet("next")}}},[t._v(" "+t._s(t.$t("topicInfo.nextTi"))+" ")])]),e("div",{staticStyle:{display:"flex",gap:"12px"}},[e("CommonAskAiBtn"),Boolean(t.answerData)?[e("el-button",{class:"btn submit_redo btn123",on:{click:t.reset}},[t._v(" "+t._s(t.$t("topicInfo.redo"))+" ")])]:[t.hdtlIndex-2<2*t.titles.length?e("el-button",{class:"btn "+(t.hdtlIndex>0&&t.hdtlIndex%2===1&&t.hdtlIndex-1!==2*t.titles.length?"disable":""),on:{click:t.onNext}},[t._v(" "+t._s(0===t.hdtlIndex?t.$t("topicInfo.start"):t.$t("topicInfo.nextLittle"))+" ")]):t.hdtlIndex-2===2*t.titles.length?e("el-button",{class:"btn",on:{click:t.onSubmit}},[t._v(" "+t._s(t.$t("topicInfo.queren"))+" ")]):t._e()]],2)])])},Qe=[],He=function(){var t=this,e=t._self._c;return e("div",{staticClass:"audiolComponent"},[e("img",{staticClass:"logoImg",attrs:{src:t.img,alt:""}}),e("div",{staticClass:"right"},[e("div",{staticClass:"text"},[t._v("Listen closely! You can only play the audio clips once")]),e("div",{staticClass:"audio"},[e("el-image",{class:"playImg "+(t.disabled?"disabled":""),attrs:{ondragstart:"return false;",oncontextmenu:"return false;",src:t.playImg},on:{click:t.handleClick}}),e("el-slider",{staticClass:"slider",attrs:{"show-tooltip":!1,disabled:""},model:{value:t.percent,callback:function(e){t.percent=e},expression:"percent"}})],1)])])},Je=[];const ze=Object(l["Cb"])("image/play-l.png"),Ke=Object(l["Cb"])("image/playing-l-1.png"),Ye=Object(l["Cb"])("image/playing-l-2.png"),Fe=Object(l["Cb"])("image/playing-l-3.png"),Ve=[Ke,Ye,Fe];var Ze={props:{src:String,disabled:Boolean,img:String},data(){return{playImg:ze,duration:0,currentTime:0,percent:0,currentPlaying:!1,audio:null,imgTimmer:null}},watch:{src(){this.audio&&(this.audio.pause(),this.currentPlaying=!1,this.percent=0)}},destroyed(){this.audio&&(this.audio.pause(),this.currentPlaying=!1,this.percent=0)},methods:{handleClick(){this.currentPlaying||this.onPlay()},async onPlay(){if(this.playing&&!this.currentPlaying||this.disabled)return;this.audio||(this.audio=new Audio,this.audio.src=this.src,this.audio.onended=()=>{this.percent=0,this.audio=null,this.currentPlaying=!1,this.playImg=ze,clearInterval(this.imgTimmer),this.$emit("onEnded")}),this.audio.ontimeupdate=()=>{this.percent=100*this.audio.currentTime/this.audio.duration},this.audio.play(),this.$emit("onPlay");let t=0;if(this.playImg=Ve[t],this.imgTimmer=setInterval(()=>{t++,t>2&&(t=0),this.playImg=Ve[t]},500),this.currentPlaying=!0,this.audio.duration)this.audio.currentTime=this.audio.duration*this.percent/100;else{const t=setInterval(()=>{this.audio.duration&&(this.audio.currentTime=this.audio.duration*this.percent/100,clearInterval(t))},100)}},current(){if(!this.audio||!this.audio.currentTime)return"00:00";const t=parseInt(this.audio.currentTime,10),e=("0"+t%60).slice(-2),s=("0"+parseInt(t/60,10)).slice(-2);return`${s}:${e}`}}},Xe=Ze,ts=(s("84f3"),s("7954"),Object(v["a"])(Xe,He,Je,!1,null,"3b1c3702",null)),es=ts.exports;const ss=Object(l["Bb"])("exam/teacher_open_mouse.png"),is=Object(l["Bb"])("exam/teacher_close_mouse.png "),as=Object(l["Bb"])("exam/student_open_mouse.png"),ns=Object(l["Bb"])("exam/student_close_mouse.png"),rs=Object(l["Bb"])("exam/arrow_up.svg"),os=Object(l["Bb"])("exam/arrow_down.svg"),cs=Object(l["Bb"])("image/next.svg"),ls=Object(l["Bb"])("image/prev.svg");var ds={components:{Audiol:es,CountDown:Be["a"],CommonAskAiBtn:Y["a"]},props:{question:Object,topic:Object,answerData:Object,exam:Boolean,displayOrder:Number,total:Number},data(){return{arrow_up:rs,arrow_down:os,hdtlIndex:0,staticUrlGet:l["Cb"],prusmp3TopicUrlGet:l["kb"],answer:[],pause2:!1,questionlImg:"",questionlGif:"",openmouse:"",closemouse:"",nextImg:cs,prevImg:ls,timer:null,showWitchItem:-1}},computed:{isMobile(){return this.$store.state.app.isMobile},titles(){return this.question.title?JSON.parse(this.question.title)[1]:[]},questionTitles(){return this.question.title?JSON.parse(this.question.title)[0]:[]},answers(){return this.question.answer?JSON.parse(this.question.answer):[]},extData(){const t=JSON.parse(this.question.extData||"{}");return t},translates(){const{translates:t}=this.extData;let e="";return t&&c.a.each(t[0],(s,i)=>{const a=t[1][i];s&&(e+=`A: ${s}\n`),a&&(e+=`B: ${a}\n`)}),e},disable(){return this.hdtlIndex>0&&this.hdtlIndex%2===1&&this.hdtlIndex-1!==2*this.titles.length||this.hdtlIndex>1&&(!this.answer||this.hdtlIndex%2===0&&!this.answer[(this.hdtlIndex-2)/2]&&0!==this.answer[(this.hdtlIndex-2)/2])}},watch:{"question.id":{handler(t,e){t&&t!==e&&(this.hdtlIndex=0,console.log(1),this.answer=[],this.changeSpeakImg())},immediate:!0,deep:!0},answerData:{handler(t){t&&(this.answer="string"===typeof t.answer?JSON.parse(t.answer):t.answer||[],this.hdtlIndex=2*this.titles.length+1)},deep:!0,immediate:!0}},methods:{changeshowWitchItem(t){this.showWitchItem===t?this.showWitchItem=-1:this.showWitchItem=t},changeSpeakImg(){const t=JSON.parse(this.question.extData||"{}"),{role:e="1"}=t;"1"===e?(this.questionlImg=ns,this.questionlGif=ns,this.openmouse=as,this.closemouse=ns):(this.questionlImg=is,this.questionlGif=is,this.openmouse=ss,this.closemouse=is)},onNext(){if(!this.disable)if(this.hdtlIndex-2!==2*this.titles.length){this.hdtlIndex=this.titles[this.hdtlIndex/2]||0!==this.hdtlIndex?this.hdtlIndex+1:this.hdtlIndex+2;try{setTimeout(()=>{const t=document.querySelector(".rightContent");t&&(t.scrollTop+=2e3)},200)}catch(t){}}else this.$emit("nextOrPrevQuestionGet")},onChange(t){this.answer[(this.hdtlIndex-2)/2]=t,this.answer=[...this.answer],this.$store.commit("exam/upState",{answer:this.answer})},itemParamsGet(t){try{const{answers:e,answer:s}=this,i=e[t][1]===s[t],a=e[t][0][e[t][1]],n=e[t][0][s[t]];return{isCorrect:i,correctText:a,answerText:n}}catch(e){return{}}},onPlay(){this.pause2=!0,this.onPlayImg()},onEnded(){this.pause2=!1,this.onEndedImg(),this.hdtlIndex+=1;try{setTimeout(()=>{const t=document.querySelector(".rightContent");t&&(t.scrollTop+=2e3)},200)}catch(t){}},onPlayImg(){this.timer=setInterval(()=>{this.questionlGif===this.openmouse?this.questionlGif=this.closemouse:this.questionlGif=this.openmouse},400)},onEndedImg(){clearInterval(this.timer),this.questionlGif=this.closemouse},reset(){this.$emit("reset"),this.hdtlIndex=0,this.answer=[]},async onSubmit(){const t=JSON.parse(this.question.title||"[]")[1]||[];if(!this.answer[t.length])return this.$message.error(this.$t("topicInfo.answerEmpty"));await this.$store.commit("question/upState",{answer:this.answer}),this.hdtlIndex-=1,await this.$emit("onSubmit")},nextOrPrevQuestionGet(t){this.$emit("nextOrPrevQuestionGet",t)}}},us=ds,hs=(s("aac5"),Object(v["a"])(us,Ue,Qe,!1,null,"421ac742",null)),ps=hs.exports,ms=function(){var t,e,s=this,i=s._self._c;return i("div",{staticClass:"topic-5-test"},[i("div",{staticClass:"countDonwl"},[s.hdtlIndex<s.allTask.length+1?[Boolean(s.answerData)?s._e():i("count-down",{attrs:{id:""+s.question.id,duration:s.topic.duration,pause:s.pause2,process:100*(s.question.order+1)/59,questionremain:s.questionremain}})]:[Boolean(s.answerData)?s._e():i("count-down",{attrs:{id:s.question.id+"+a",duration:75,pause:s.pause2,process:100*(s.question.order+1)/59}})]],2),i("div",{staticClass:"content"},[s.hdtlIndex<s.allTask.length+1||Boolean(s.answerData)?[i("div",{class:"right topiclRight "+(Boolean(s.answerData)?"answered":"")},[i("div",{staticClass:"rightContent"},[i("div",{staticClass:"max_width_content"},[i("div",{staticClass:"first_audio_out"},[i("div",{staticClass:"first_audio_font"},[s._v(s._s(s.$t("topic5new.listen_and_answer")))]),null!==(t=s.allTask[0])&&void 0!==t&&t.audio_played?i("Audio5",{key:s.question.id+"aa",ref:"audiol",attrs:{src:s.prusmp3Topic5UrlGet(s.firstAudio),img:s.questionlImg,"can-stop":!0}}):i("Audio5",{key:s.question.id+"a",ref:"audiol",attrs:{disabled:null===(e=s.allTask[0])||void 0===e?void 0:e.audio_played,src:s.prusmp3Topic5UrlGet(s.firstAudio),img:s.questionlImg},on:{onPlay:s.onPlay,onEnded:s.onEnded}})],1),s._l(s.allTask,(function(t,e){var a,n,r,o,c,l;return i("div",{key:t.task_id},[s.hdtlIndex>=e||Boolean(s.answerData)?["aic-comprehension"===t.type&&(t.audio_played||Boolean(s.answerData))?i("div",{staticClass:"aic_comprehension_out",attrs:{id:"scrollhere"+e}},s._l(t.items,(function(t,e){return i("div",{key:"aic-comprehension-"+e,staticClass:"one_aic_comprehension_test"},[i("div",{staticClass:"one_aic_comprehension_test_question"},[s._v(s._s(t.question))]),i("div",{class:s.hdtlIndex>0?"one_aic_comprehension_test_answer one_aic_comprehension_test_answer_disable":"one_aic_comprehension_test_answer"},[t.answer_template?[s._l(s.getTemplateParts(t.answer_template),(function(e,a){return i("span",{key:a},[e.isInput?[Boolean(s.answerData)?i("span",[t.myanswer?i("span",{staticClass:"zwwwww"},s._l(t.myanswer.trim().split(/\s+/),(function(e,a){return i("span",{key:a},[i("span",{key:a,class:t.answer&&t.answer.split(/\s+/).includes(e)?" zwwwww_right":" zwwwww_wrong",staticStyle:{"margin-right":"4px"}},[s._v(s._s(e))])])})),0):s._e()]):i("el-input",{staticClass:"innput_heng",staticStyle:{margin:"0 0px"},attrs:{disabled:s.hdtlIndex>0,placeholder:""},model:{value:t.myanswer,callback:function(e){s.$set(t,"myanswer",e)},expression:"itemin.myanswer"}},[i("template",{slot:"prefix"},[i("span",{staticClass:"el-input__prefix"},[s._v(" "+s._s(t.myanswer)+" ")])])],2)]:i("span",[s._v(s._s(e.text))])],2)})),Boolean(s.answerData)?i("span",{staticClass:"answer_font"},[s._v(" "+s._s(t.answer))]):s._e()]:s._e()],2)])})),0):s._e(),1===e?i("div",{staticClass:"aic_select_start_title"},[s._v(" "+s._s(s.$t("topic5new.join_dialog"))+" ")]):s._e(),"aic-select-start"===t.type?i("div",{staticClass:"aic_select_start_out",attrs:{id:"scrollhere"+e}},[s.hdtlIndex<=e&&!Boolean(s.answerData)?i("div",{staticClass:"aic_select_start_title_pick"},[s._v(" Pick the best option to start the conversation ")]):s._e(),s.hdtlIndex<=e&&!Boolean(s.answerData)?i("div",{staticClass:"aic_select_start_item_out"},s._l(t.choices,(function(e,a){return i("div",{key:"itemChoices"+a,class:t.myanswer===a?" aic_select_start_item aic_select_start_item_active":"aic_select_start_item",on:{click:function(e){return s.setChoicesMyAnswer(a,t)}}},[i("div",{staticClass:"circle"}),i("div",{staticClass:"font"},[s._v(" "+s._s(e.text)+" ")])])})),0):i("div",{staticClass:"show_user_answer"},[t.answer===(null===t||void 0===t?void 0:t.myanswer)?[i("div",{staticClass:"user_get_right_answer_out"},[s._m(0,!0),i("div",{staticClass:"right_font"},[s._v(s._s(null===(a=t.choices[t.answer])||void 0===a?void 0:a.text))])])]:[i("div",{staticClass:"user_get_right_answer_out user_get_wrong_answer_out"},[i("div",{staticClass:"wrong_answer_top"},[s._m(1,!0),i("div",{staticClass:"right_font"},[s._v(s._s(null===(n=t.choices[t.myanswer])||void 0===n?void 0:n.text))])]),i("div",{staticClass:"question_right_answer"},[i("div",{staticClass:"best_font"},[s._v("Best Answer:")]),i("div",{staticClass:"right_font"},[s._v(s._s(null===(r=t.choices[t.answer])||void 0===r?void 0:r.text))])])])]],2)]):s._e(),"aic-select-response"===t.type?i("div",{staticClass:"aic_select_response_out"},[s.hdtlIndex<=e&&!Boolean(s.answerData)?[i("div",{staticClass:"aic_select_response_title"},[s._v("Listen closely! Audio clips only play once.")]),i("div",{staticClass:"aic_select_response_audio_out"},[i("Audio5",{key:s.question.id+"b"+e,attrs:{disabled:t.audio_played,src:s.prusmp3Topic5UrlGet(t.prompt),img:s.questionlImg,showlogo:""},on:{onPlay:s.onPlay,onEnded:s.onEnded}})],1),t.audio_played?i("div",[i("div",{staticClass:"aic_select_response_item_title",attrs:{id:"scrollhere"+e}},[s._v(" Select the best response. ")]),i("div",{staticClass:"aic_select_start_item_out",attrs:{id:"scrollhere"+e}},s._l(t.choices,(function(e,a){return i("div",{key:"itemChoices"+a,class:t.myanswer===a?" aic_select_start_item aic_select_start_item_active":"aic_select_start_item",on:{click:function(e){return s.setChoicesMyAnswer(a,t)}}},[i("div",{staticClass:"circle"}),i("div",{staticClass:"font"},[s._v(" "+s._s(e.text)+" ")])])})),0)]):s._e()]:i("div",{staticClass:"show_user_answer"},[i("div",{staticClass:"test_audio_out"},[i("div",{staticClass:"left_logo_icon"},[i("el-image",{attrs:{src:s.teacher_icon}})],1),i("div",{staticClass:"test_audio_text"},[s._v(s._s(t.prompt))])]),t.answer===t.myanswer?[i("div",{staticClass:"user_get_right_answer_out"},[s._m(2,!0),i("div",{staticClass:"right_font"},[s._v(s._s(null===(o=t.choices[t.answer])||void 0===o?void 0:o.text))])])]:[i("div",{staticClass:"user_get_right_answer_out user_get_wrong_answer_out"},[i("div",{staticClass:"wrong_answer_top"},[s._m(3,!0),i("div",{staticClass:"right_font"},[s._v(s._s(null===(c=t.choices[t.myanswer])||void 0===c?void 0:c.text))])]),i("div",{staticClass:"question_right_answer"},[i("div",{staticClass:"best_font"},[s._v("Best Answer:")]),i("div",{staticClass:"right_font"},[s._v(s._s(null===(l=t.choices[t.answer])||void 0===l?void 0:l.text))])])])]],2)],2):s._e()]:s._e()],2)})),s.hdtlIndex===s.allTask.length&&s.allTask.length?i("div",{staticClass:"talk_done_tips"},[s._v(" "+s._s(s.$t("topic5new.dialog_ended"))+" ")]):s._e(),Boolean(s.answerData)?i("div",{staticClass:"show_summarize_area"},[i("div",{staticClass:"summarize_title"},[s._v(s._s(s.$t("topic5new.write_summary")))]),i("div",{staticClass:"summarize_font"},[s._v(s._s(s.Summarize))])]):s._e()],2),i("div",{staticClass:"items"},[i("div",{staticClass:"item",on:{click:function(t){return s.changeshowWitchItem(0)}}},[i("div",{class:0===s.showWitchItem?"itemLeft itemLeft_open":"itemLeft"},[i("div",{staticClass:"itemTitle"},[s._v(s._s(s.$t("topic5new.scenario_introduction")))]),i("div",{staticClass:"arrow_out"},[0===s.showWitchItem?i("span",[i("el-image",{attrs:{src:s.arrow_up}})],1):i("span",[i("el-image",{attrs:{src:s.arrow_down}})],1)])])]),s.extData.titleTranslate?i("div",{staticClass:"item",on:{click:function(t){return s.changeshowWitchItem(1)}}},[i("div",{class:1===s.showWitchItem?"itemLeft itemLeft_open":"itemLeft"},[i("div",{staticClass:"itemTitle"},[s._v(" "+s._s(s.$t("topicInfo.qingjingFanyi"))+" ")]),i("div",{staticClass:"arrow_out"},[1===s.showWitchItem?i("span",[i("el-image",{attrs:{src:s.arrow_up}})],1):i("span",[i("el-image",{attrs:{src:s.arrow_down}})],1)])])]):s._e(),s.translates?i("div",{staticClass:"item",on:{click:function(t){return s.changeshowWitchItem(2)}}},[i("div",{class:2===s.showWitchItem?"itemLeft itemLeft_open":"itemLeft"},[i("div",{staticClass:"itemTitle"},[s._v(" "+s._s(s.$t("topicInfo.duihuaFanyi"))+" ")]),i("div",{staticClass:"arrow_out"},[2===s.showWitchItem?i("span",[i("el-image",{attrs:{src:s.arrow_up}})],1):i("span",[i("el-image",{attrs:{src:s.arrow_down}})],1)])])]):s._e(),s.extData.summary?i("div",{staticClass:"item",on:{click:function(t){return s.changeshowWitchItem(3)}}},[i("div",{class:3===s.showWitchItem?"itemLeft itemLeft_open":"itemLeft"},[i("div",{staticClass:"itemTitle"},[s._v(s._s(s.$t("topic5new.dialog_summary")))]),i("div",{staticClass:"arrow_out"},[3===s.showWitchItem?i("span",[i("el-image",{attrs:{src:s.arrow_up}})],1):i("span",[i("el-image",{attrs:{src:s.arrow_down}})],1)])])]):s._e()]),-1!==s.showWitchItem?i("div",{staticClass:"new_item_content_show_out"},[0===s.showWitchItem?i("div",[i("div",{domProps:{innerHTML:s._s(s.firstAudio.replace(/\n/g,"<br/>"))}})]):s._e(),1===s.showWitchItem?i("div",[i("div",{domProps:{innerHTML:s._s(s.extData.titleTranslate.replace(/\n/g,"<br/>"))}})]):s._e(),2===s.showWitchItem?i("div",[i("div",{domProps:{innerHTML:s._s(s.translates.replace(/\n/g,"<br/>"))}})]):s._e(),3===s.showWitchItem?i("div",[i("div",{domProps:{innerHTML:s._s(s.extData.summary.replace(/\n/g,"<br/>"))}})]):s._e()]):s._e(),i("div",{attrs:{id:"scrollBottom"}})])])]:[s.allTask.length?i("div",{staticClass:"lastest right"},[i("div",{staticClass:"rightContent lastestContent"},[i("div",{staticClass:"questionTitle"},[s._v(s._s(s.$t("topic5new.write_summary")))]),i("div",{staticClass:"center_d"},[i("el-input",{staticClass:"input",attrs:{type:"textarea",spellcheck:!1,autocomplete:"off",rows:10,placeholder:s.$t("topic5new.your_answer"),"show-word-limit":""},on:{input:s.onChange},model:{value:s.Summarize,callback:function(t){s.Summarize=t},expression:"Summarize"}})],1),i("div",{staticClass:"items"},[i("div",{staticClass:"item",on:{click:function(t){return s.changeshowWitchItem(0)}}},[i("div",{class:0===s.showWitchItem?"itemLeft itemLeft_open":"itemLeft"},[i("div",{staticClass:"itemTitle"},[s._v(s._s(s.$t("topic5new.scenario_introduction")))]),i("div",{staticClass:"arrow_out"},[0===s.showWitchItem?i("span",[i("el-image",{attrs:{src:s.arrow_up}})],1):i("span",[i("el-image",{attrs:{src:s.arrow_down}})],1)])])]),s.extData.titleTranslate?i("div",{staticClass:"item",on:{click:function(t){return s.changeshowWitchItem(1)}}},[i("div",{class:1===s.showWitchItem?"itemLeft itemLeft_open":"itemLeft"},[i("div",{staticClass:"itemTitle"},[s._v(" "+s._s(s.$t("topicInfo.qingjingFanyi"))+" ")]),i("div",{staticClass:"arrow_out"},[1===s.showWitchItem?i("span",[i("el-image",{attrs:{src:s.arrow_up}})],1):i("span",[i("el-image",{attrs:{src:s.arrow_down}})],1)])])]):s._e(),s.translates?i("div",{staticClass:"item",on:{click:function(t){return s.changeshowWitchItem(2)}}},[i("div",{class:2===s.showWitchItem?"itemLeft itemLeft_open":"itemLeft"},[i("div",{staticClass:"itemTitle"},[s._v(s._s(s.$t("topicInfo.duihuaFanyi")))]),i("div",{staticClass:"arrow_out"},[2===s.showWitchItem?i("span",[i("el-image",{attrs:{src:s.arrow_up}})],1):i("span",[i("el-image",{attrs:{src:s.arrow_down}})],1)])])]):s._e(),s.extData.summary?i("div",{staticClass:"item",on:{click:function(t){return s.changeshowWitchItem(3)}}},[i("div",{class:3===s.showWitchItem?"itemLeft itemLeft_open":"itemLeft"},[i("div",{staticClass:"itemTitle"},[s._v(s._s(s.$t("topic5new.dialog_summary")))]),i("div",{staticClass:"arrow_out"},[3===s.showWitchItem?i("span",[i("el-image",{attrs:{src:s.arrow_up}})],1):i("span",[i("el-image",{attrs:{src:s.arrow_down}})],1)])])]):s._e()]),-1!==s.showWitchItem?i("div",{staticClass:"new_item_content_show_out"},[0===s.showWitchItem?i("div",[i("div",{domProps:{innerHTML:s._s(s.firstAudio.replace(/\n/g,"<br/>"))}})]):s._e(),1===s.showWitchItem?i("div",[i("div",{domProps:{innerHTML:s._s(s.extData.titleTranslate.replace(/\n/g,"<br/>"))}})]):s._e(),2===s.showWitchItem?i("div",[i("div",{domProps:{innerHTML:s._s(s.translates.replace(/\n/g,"<br/>"))}})]):s._e(),3===s.showWitchItem?i("div",[i("div",{domProps:{innerHTML:s._s(s.extData.summary.replace(/\n/g,"<br/>"))}})]):s._e()]):s._e()])]):s._e()]],2),s.exam?s._e():i("div",{staticClass:"btnGroup"},[s.isMobile?i("div",{staticClass:"nextPreviewMobileBtns"},[i("el-image",{staticClass:"mobilePrev",attrs:{src:s.prevImg},on:{click:function(t){return s.nextOrPrevQuestionGet("prev")}}}),i("el-image",{staticClass:"mobileNext",attrs:{src:s.nextImg},on:{click:function(t){return s.nextOrPrevQuestionGet("next")}}})],1):i("div",{staticClass:"nextPreviewBtns nextPreviewBtns5"},[i("div",{staticClass:"pointer",on:{click:function(t){return s.nextOrPrevQuestionGet("prev")}}},[s._v(" "+s._s(s.$t("topicInfo.prevTi"))+" ")]),i("div",{staticClass:"pointer pointer_next",on:{click:function(t){return s.nextOrPrevQuestionGet("next")}}},[s._v(" "+s._s(s.$t("topicInfo.nextTi"))+" ")])]),i("div",{staticStyle:{display:"flex",gap:"12px"}},[i("CommonAskAiBtn"),Boolean(s.answerData)?[i("el-button",{class:"btn submit_redo btn123",on:{click:s.reset}},[s._v(" "+s._s(s.$t("topicInfo.redo"))+" ")])]:[s.hdtlIndex<s.allTask.length+1?i("el-button",{class:"btn "+(s.pause2?"disable":""),on:{click:s.onNext}},[s._v(" "+s._s(0===s.hdtlIndex&&0===s.firstAudioIsPlayStatus?s.$t("topicInfo.start"):s.$t("topic5new.nextTi"))+" ")]):i("el-button",{class:"btn",on:{click:s.onSubmit}},[s._v(" "+s._s(s.$t("topicInfo.queren"))+" ")])]],2)])])},vs=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"left_icon"},[e("i",{staticClass:"el-icon-check"})])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"left_icon"},[e("i",{staticClass:"el-icon-close"})])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"left_icon"},[e("i",{staticClass:"el-icon-check"})])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"left_icon"},[e("i",{staticClass:"el-icon-close"})])}],ws=(s("d353"),s("0c65"),s("8bbf")),_s=s.n(ws),gs=function(){var t=this,e=t._self._c;return e("div",{staticClass:"audiolComponent"},[t.showlogo?e("div",{staticClass:"logoImg"},[e("el-image",{attrs:{src:t.teacher_icon}})],1):t._e(),e("div",{staticClass:"right"},[t.canStop?e("div",{staticClass:"audio",on:{click:t.handleClick}},[t.iconright?t._e():e("el-image",{class:"playImg "+(t.disabled?"disabled":""),attrs:{ondragstart:"return false;",oncontextmenu:"return false;",src:t.currentPlaying?t.lab_stop_icon:t.lab_icon}}),e("AudioWaveUi",{attrs:{percent:t.percent,disabled:t.disabled,loading:!!t.autoplay&&t.loading}}),t.iconright?e("el-image",{class:"playImg "+(t.disabled?"disabled":""),attrs:{ondragstart:"return false;",oncontextmenu:"return false;",src:t.currentPlaying?t.lab_stop_icon:t.lab_icon}}):t._e()],1):e("div",{staticClass:"audio",on:{click:t.handleClick}},[t.iconright?t._e():e("el-image",{class:"playImg "+(t.disabled?"disabled":""),attrs:{ondragstart:"return false;",oncontextmenu:"return false;",src:t.lab_icon}}),e("AudioWaveUi",{attrs:{percent:t.percent,disabled:t.disabled,loading:!!t.autoplay&&t.loading}}),t.iconright?e("el-image",{class:"playImg "+(t.disabled?"disabled":""),attrs:{ondragstart:"return false;",oncontextmenu:"return false;",src:t.lab_icon}}):t._e()],1)])])},fs=[],Cs=s("be62"),ys=s("e7ad"),bs=s("51d5"),Is=s("cd01");const xs=Object(l["Cb"])("image/play-l.png"),$s=Object(l["Cb"])("image/playing-l-1.png"),qs=Object(l["Cb"])("image/playing-l-2.png"),ks=Object(l["Cb"])("image/playing-l-3.png"),Ss=Object(l["Bb"])("image/pause.svg"),Ts=Object(l["Bb"])("image/play.png"),Ds=[$s,qs,ks];var Os={components:{AudioWaveUi:Cs["a"]},props:{src:String,disabled:Boolean,img:String,showlogo:Boolean,iconright:Boolean,canStop:Boolean,uishow2:Boolean,autoplay:Boolean},data(){return{pauseImg:Ss,lab_icon:bs["a"],lab_stop_icon:Is["a"],teacher_icon:ys["a"],playImg:xs,playImg123:Ts,duration:0,currentTime:0,percent:0,currentPlaying:!1,audio:null,imgTimmer:null,loading:!0,loadingTimer:null}},watch:{src(){this.audio&&(this.audio.pause(),this.currentPlaying=!1,this.percent=0)}},destroyed(){this.audio&&(this.audio.pause(),this.currentPlaying=!1,this.percent=0),this.loadingTimer&&(clearTimeout(this.loadingTimer),this.loadingTimer=null),sessionStorage.removeItem("currentPlaying")},methods:{handleClick(){const t=sessionStorage.getItem("currentPlaying")||sessionStorage.getItem("currentPlayingId");if(t)this.$message.warning(this.$t("audio5.cannot_play_two_audio"));else{if(this.canStop)return this.currentPlaying=!this.currentPlaying,void(this.currentPlaying?this.onPlay():this.audio.pause());sessionStorage.setItem("currentPlaying",!0),this.currentPlaying||this.onPlay()}},async onPlay(){if(this.playing&&!this.currentPlaying||this.disabled)return;this.audio||(this.audio=new Audio,this.audio.src=this.src,this.audio.oncanplaythrough=()=>{this.loading=!1},this.audio.onerror=()=>{this.loading=!1},this.audio.onended=()=>{this.percent=0,this.audio=null,this.currentPlaying=!1,this.playImg=xs,clearInterval(this.imgTimmer),this.$emit("onEnded"),sessionStorage.removeItem("currentPlaying")}),this.audio.ontimeupdate=()=>{this.percent=100*this.audio.currentTime/this.audio.duration},this.audio.play(),this.$emit("onPlay");let t=0;if(this.playImg=Ds[t],this.imgTimmer=setInterval(()=>{t++,t>2&&(t=0),this.playImg=Ds[t]},500),this.currentPlaying=!0,this.audio.duration)this.audio.currentTime=this.audio.duration*this.percent/100;else{const t=setInterval(()=>{this.audio.duration&&(this.audio.currentTime=this.audio.duration*this.percent/100,clearInterval(t))},100)}},current(){if(!this.audio||!this.audio.currentTime)return"00:00";const t=parseInt(this.audio.currentTime,10),e=("0"+t%60).slice(-2),s=("0"+parseInt(t/60,10)).slice(-2);return`${s}:${e}`}}},Ps=Os,Ws=(s("1754"),s("23f0"),Object(v["a"])(Ps,gs,fs,!1,null,"03182433",null)),Bs=Ws.exports;const js=Object(l["Bb"])("exam/arrow_up.svg"),Ls=Object(l["Bb"])("exam/arrow_down.svg"),Ns=Object(l["Bb"])("image/next.svg"),As=Object(l["Bb"])("image/prev.svg");var Ms={components:{Audio5:Bs,CountDown:Be["a"],CommonAskAiBtn:Y["a"]},props:{question:Object,topic:Object,answerData:Object,exam:Boolean,displayOrder:Number,total:Number},data(){return{teacher_icon:ys["a"],arrow_up:js,arrow_down:Ls,hdtlIndex:0,staticUrlGet:l["Cb"],prusmp3Topic5UrlGet:l["jb"],answer:[],pause2:!1,questionlImg:"",nextImg:Ns,prevImg:As,showWitchItem:-1,allTask:[],firstAudio:"",firstAudioIsPlayStatus:0,allSubItems:[],Summarize:""}},computed:{isMobile(){return this.$store.state.app.isMobile},titles(){return this.question.title?JSON.parse(this.question.title)[1]:[]},answers(){return this.question.answer?JSON.parse(this.question.answer):[]},extData(){const t=JSON.parse(this.question.extData||"{}");return t},translates(){const{translates:t}=this.extData;let e="";if(t&&Array.isArray(t))for(let s=0;s<t.length;s+=2){const i=t[s],a=t[s+1];i&&(e+=`A: ${i}\n`),a&&(e+=`B: ${a}\n`)}return e},disable(){return!!this.pause2},questionremain(){return 0===this.hdtlIndex?this.allSubItems.length-this.hdtlIndex:this.allSubItems.length-this.allSubItems.filter(t=>"aic-comprehension"===t.type).length-this.hdtlIndex+1}},watch:{"question.id":{handler(t,e){if(t&&t!==e){this.hdtlIndex=0,this.firstAudioIsPlayStatus=0,this.pause2=!1,this.allTask=[],this.answer=[],this.Summarize="";const{scenario:t,tasks:e}=JSON.parse(this.question.title);this.firstAudio=t,this.allTask=e,this.allSubItems=[],this.allTask.forEach(t=>{"aic-comprehension"===t.type?this.allSubItems.push(...t.items):("aic-select-start"===t.type||"aic-select-response"===t.type)&&this.allSubItems.push(t)})}},immediate:!0,deep:!0},answerData:{handler(t){t&&("object"===typeof t.answer?this.answer=t.answer:this.answer=JSON.parse(t.answer),this.hdtlIndex=10,this.allTask.forEach((t,e)=>{"aic-comprehension"===t.type?t.items.forEach((t,s)=>{t.myanswer=this.answer[e][s]}):("aic-select-start"===t.type||"aic-select-response"===t.type)&&(t.myanswer=this.answer[e])}),this.Summarize=this.answer[this.answer.length-1])},deep:!0,immediate:!0}},methods:{setChoicesMyAnswer(t,e){_s.a.set(e,"myanswer",t)},changeshowWitchItem(t){this.showWitchItem===t?this.showWitchItem=-1:this.showWitchItem=t},onNext(){if(!this.disable)if(void 0!==this.allTask[this.hdtlIndex])if(0!==this.hdtlIndex)if("aic-select-response"!==this.allTask[this.hdtlIndex].type&&"aic-select-start"!==this.allTask[this.hdtlIndex].type)this.hdtlIndex+=1,this.scrollToBottom();else{const{myanswer:t=""}=this.allTask[this.hdtlIndex];""!==t?(this.hdtlIndex+=1,this.scrollToBottom()):(this.$message.error(this.$t("topic5new.answer_empty")),console.log(this.$t("topic5new.answer_empty")))}else{if(0===this.firstAudioIsPlayStatus&&this.$refs.audiol){const{audiol:t}=this.$refs;t.onPlay(),this.firstAudioIsPlayStatus=1}if(2===this.firstAudioIsPlayStatus){const{items:t}=this.allTask[this.hdtlIndex],e=t.every(t=>Boolean(t.myanswer));e?(this.hdtlIndex+=1,this.scrollToBottom()):(this.$message.error(this.$t("topic5new.answer_empty")),console.log(this.$t("topic5new.answer_empty")))}}else this.hdtlIndex+=1},scrollToBottom(){this.$nextTick(()=>{const t=document.querySelector("#scrollhere"+this.hdtlIndex);if(t)t.scrollIntoView({behavior:"smooth"});else try{setTimeout(()=>{const t=document.querySelector(".rightContent");t&&(t.scrollTop+=2e3)},200)}catch(e){}})},onChange(t){this.answer[(this.hdtlIndex-2)/2]=t,this.answer=[...this.answer],this.$store.commit("exam/upState",{answer:this.answer})},onPlay(){this.pause2=!0,this.firstAudioIsPlayStatus=1},onEnded(){try{this.pause2=!1,1===this.firstAudioIsPlayStatus&&(this.firstAudioIsPlayStatus=2),"aic-comprehension"===this.allTask[this.hdtlIndex].type||"aic-select-response"===this.allTask[this.hdtlIndex].type?this.$set(this.allTask[this.hdtlIndex],"audio_played",!0):this.hdtlIndex+=1,this.scrollToBottom()}catch(t){return t}},reset(){this.$emit("reset"),this.hdtlIndex=0,this.allTask.forEach(t=>{"aic-comprehension"===t.type?t.items.forEach(t=>{delete t.myanswer}):("aic-select-start"===t.type||"aic-select-response"===t.type)&&delete t.myanswer}),this.Summarize=""},async onSubmit(){const t=[];this.allTask.forEach(e=>{"aic-comprehension"===e.type?t.push(e.items.map(t=>t.myanswer)):("aic-select-start"===e.type||"aic-select-response"===e.type)&&t.push(e.myanswer)}),""!==this.Summarize?(t.push(this.Summarize),await this.$store.commit("question/upState",{answer:t}),await this.$emit("onSubmit"),this.allTask[0].audio_played=!1):this.$message.error(this.$t("topic5new.answer_empty"))},nextOrPrevQuestionGet(t){this.$emit("nextOrPrevQuestionGet",t)},getTemplateParts(t){if(!t)return[];const e=t.split("{}"),s=[];return e[0]&&s.push({text:e[0],isInput:!1}),e.length>1&&s.push({isInput:!0}),e[1]&&s.push({text:e[1],isInput:!1}),s}}},Es=Ms,Gs=(s("56bb"),s("c62a"),Object(v["a"])(Es,ms,vs,!1,null,"15769dfc",null)),Rs=Gs.exports,Us=function(){var t,e=this,s=e._self._c;return e.allTask.length?s("div",{staticClass:"topic-b-test"},[s("div",{staticClass:"countDonwl"},[Boolean(e.answerData)?e._e():s("count-down",{key:""+e.question.id,attrs:{id:`${e.question.id}${e.hdkyIndex}`,duration:e.topic.duration,prepare:0===e.hdkyIndex?e.topic.prepare:0,"topic-key":e.topic.key,pause:e.pause2}})],1),s("div",{staticClass:"content"},[s("div",{class:"right topiclRight "+(Boolean(e.answerData)?"answered":"")},[s("div",{staticClass:"rightContent"},[s("div",{staticClass:"max_width_content"},[e.isShowPrepDom?s("div",{staticClass:"prep_dom"},[s("div",{staticClass:"prep_font1"},[e._v(e._s(e.$t("topicbnew.prep_font1")))]),s("div",{staticClass:"prep_font2"},[e._v(e._s(e.$t("topicbnew.prep_font2",{length:e.allTask.length})))]),Boolean(e.answerData)?s("div",{staticClass:"zw_height"}):s("div",{staticClass:"prep_img"},[s("el-image",{attrs:{src:e.readingImg}})],1)]):e._e(),!e.isShowPrepDom||Boolean(e.answerData)?s("div",e._l(e.allTask,(function(t,i){return s("div",{key:"onetest"+i,staticClass:"onetest_dom"},[e.hdkyIndex===i||Boolean(e.answerData)?[s("div",{class:Boolean(e.answerData)?"question_dom":"question_dom question_dom_center"},[Boolean(e.answerData)?e._e():s("div",{staticClass:"question_title"},[e._v(" "+e._s(t.audio_played?e.$t("topicbnew.question_title1"):e.$t("topicbnew.question_title"))+" ")]),s("Audio5",{key:e.question.id+"a"+i,ref:"audiob",refInFor:!0,attrs:{disabled:t.audio_played,src:e.prusmp3Topic5UrlGet(t.auto_text),autoplay:!Boolean(e.answerData)&&"b"===e.question.key},on:{onPlay:e.onPlay,onEnded:e.onEnded}})],1),Boolean(e.answerData)?s("div",{staticClass:"myanswer_dom"},[s("div",{staticClass:"username"},[e._v(e._s(e.user.nickname))]),t.myanswer?s("div",{staticClass:"audio_xz_z"},[s("Audio5",{key:e.question.id+"b"+i,attrs:{iconright:"",src:e.fileUrlGet({id:t.myanswer,type:"file"})}})],1):s("div",{staticClass:"noanswer_our"},[e._v(" "+e._s(e.$t("topicbnew.noanswer"))+" ")])]):e._e()]:e._e()],2)})),0):e._e()]),s("div",{staticClass:"items"},[s("div",{staticClass:"item",on:{click:function(t){return e.changeshowWitchItem(0)}}},[s("div",{class:0===e.showWitchItem?"itemLeft itemLeft_open":"itemLeft"},[s("div",{staticClass:"itemTitle"},[e._v(e._s(e.$t("topicbnew.question_title2")))]),s("div",{staticClass:"arrow_out"},[0===e.showWitchItem?s("span",[s("el-image",{attrs:{src:e.arrow_up}})],1):s("span",[s("el-image",{attrs:{src:e.arrow_down}})],1)])])]),e.translates?s("div",{staticClass:"item",on:{click:function(t){return e.changeshowWitchItem(1)}}},[s("div",{class:1===e.showWitchItem?"itemLeft itemLeft_open":"itemLeft"},[s("div",{staticClass:"itemTitle"},[e._v(e._s(e.$t("topicbnew.question_title3")))]),s("div",{staticClass:"arrow_out"},[1===e.showWitchItem?s("span",[s("el-image",{attrs:{src:e.arrow_up}})],1):s("span",[s("el-image",{attrs:{src:e.arrow_down}})],1)])])]):e._e(),e.extData.answers?s("div",{staticClass:"item",on:{click:function(t){return e.changeshowWitchItem(2)}}},[s("div",{class:2===e.showWitchItem?"itemLeft itemLeft_open":"itemLeft"},[s("div",{staticClass:"itemTitle"},[e._v(e._s(e.$t("topicbnew.question_title4")))]),s("div",{staticClass:"arrow_out"},[2===e.showWitchItem?s("span",[s("el-image",{attrs:{src:e.arrow_up}})],1):s("span",[s("el-image",{attrs:{src:e.arrow_down}})],1)])])]):e._e(),e.extData.answers?s("div",{staticClass:"item",on:{click:function(t){return e.changeshowWitchItem(3)}}},[s("div",{class:3===e.showWitchItem?"itemLeft itemLeft_open":"itemLeft"},[s("div",{staticClass:"itemTitle"},[e._v(e._s(e.$t("topicbnew.question_title5")))]),s("div",{staticClass:"arrow_out"},[3===e.showWitchItem?s("span",[s("el-image",{attrs:{src:e.arrow_up}})],1):s("span",[s("el-image",{attrs:{src:e.arrow_down}})],1)])])]):e._e()]),-1!==e.showWitchItem?s("div",{staticClass:"new_item_content_show_out"},[0===e.showWitchItem?s("div",e._l(e.allTask,(function(t,i){return s("div",{key:"onetest"+i},[s("div",{staticClass:"question_title"},[e._v(e._s(i+1)+". "+e._s(t.auto_text))])])})),0):e._e(),1===e.showWitchItem?s("div",[s("div",{domProps:{innerHTML:e._s(e.translates.replace(/\n/g,"<br/>"))}})]):e._e(),2===e.showWitchItem?s("div",e._l(e.extData.answers,(function(t,i){return s("div",{key:"onetest"+i},[s("div",{staticClass:"question_title"},[e._v(e._s(i+1)+". "+e._s(t))])])})),0):e._e(),3===e.showWitchItem?s("div",e._l(e.extData.answers,(function(t,i){return s("div",{key:"onetest"+i},[s("div",{staticClass:"question_title small_auto_out",staticStyle:{"margin-bottom":"20px",display:"flex","align-items":"center","justify-content":"flex-start"}},[s("div",[e._v(e._s(i+1)+".  ")]),s("Audio5",{attrs:{src:e.prusmp3Topic5UrlGet(t)}})],1)])})),0):e._e()]):e._e(),"1"!==e.question.correctStatus||e.question.correctId?[s("CorrectCardResult",{attrs:{question:e.question,"answer-data":e.answerData,"is-vip":e.isVip,"correct-num":e.correctNum}})]:["1"===e.question.correctStatus?s("div",{staticClass:"correctContent"},[s("div",{staticClass:"top"},[s("div",{staticClass:"correctTitle"},[e._v(e._s(e.$t("vip.correctText")))]),s("div",{staticClass:"correctTime"},[s("div",{staticClass:"dot success"}),s("div",{staticClass:"time"},[e._v(" "+e._s(`${e.formatTime(e.question.correctTime)} ${e.question.correctorName,""+e.$t("topicInfo.pigaiWancheng")} `)+" ")])])]),s("div",{staticClass:"text",domProps:{innerHTML:e._s(e.correctContent)}})]):"0"===e.question.correctStatus?s("div",{staticClass:"correctContent"},[s("div",{staticClass:"top"},[s("div",{staticClass:"correctTitle"},[e._v(e._s(e.$t("vip.correctText")))])]),s("div",{staticClass:"penndingText"},[s("div",{staticClass:"dot pendding"}),s("div",[e._v(" "+e._s(e.$t("topicInfo.pigaiZhong"))+" ")])])]):e._e()],s("div",{attrs:{id:"scrollBottom"}})],2)])]),e.exam?e._e():s("div",{staticClass:"btnGroup"},[e.recording?[e.recording?s("div",{staticClass:"recording"},[s("div",{staticClass:"point"}),s("div",{staticClass:"text"},[e._v(" "+e._s(e.$t("componentrecorder.recordingText"))+" ")]),s("div",{staticClass:"duration"},[e._v(e._s(e.durationText))])]):e._e()]:[e.isMobile?s("div",{staticClass:"nextPreviewMobileBtns"},[s("el-image",{staticClass:"mobilePrev",attrs:{src:e.prevImg},on:{click:function(t){return e.nextOrPrevQuestionGet("prev")}}}),s("el-image",{staticClass:"mobileNext",attrs:{src:e.nextImg},on:{click:function(t){return e.nextOrPrevQuestionGet("next")}}})],1):s("div",{staticClass:"nextPreviewBtns nextPreviewBtns5"},[s("div",{staticClass:"pointer",on:{click:function(t){return e.nextOrPrevQuestionGet("prev")}}},[e._v(" "+e._s(e.$t("topicInfo.prevTi"))+" ")]),s("div",{staticClass:"pointer pointer_next",on:{click:function(t){return e.nextOrPrevQuestionGet("next")}}},[e._v(" "+e._s(e.$t("topicInfo.nextTi"))+" ")])])],s("div",{staticClass:"btnRight",staticStyle:{display:"flex",gap:"12px"}},[s("CommonAskAiBtn"),Boolean(e.answerData)?s("div",{staticClass:"btnRight"},[s("el-button",{class:"btn submit_redo btn123",on:{click:e.reset}},[e._v(" "+e._s(e.$t("topicInfo.redo"))+" ")])],1):[e.hdkyIndex<e.allTask.length+1?s("el-button",{class:"btn "+(!e.pause2&&(e.isShowPrepDom||null!==(t=e.allTask[e.hdkyIndex])&&void 0!==t&&t.audio_played)?"":"disable"),on:{click:e.onNext}},[e._v(" "+e._s(0===e.hdkyIndex&&e.isShowPrepDom?e.$t("topicInfo.start"):e.recording?e.$t("topicbnew.submit"):e.$t("topicbnew.start"))+" ")]):s("el-button",{class:"btn",on:{click:e.onSubmit}},[e._v(" "+e._s(e.$t("topicInfo.queren"))+" ")])]],2)],2)]):e._e()},Qs=[];const Hs=Object(l["Bb"])("exam/arrow_up.svg"),Js=Object(l["Bb"])("exam/arrow_down.svg"),zs=Object(l["Bb"])("image/next.svg"),Ks=Object(l["Bb"])("image/prev.svg"),Ys=(Object(l["Cb"])("image/reading.svg"),Object(l["Cb"])("image/readingi18n.svg"));var Fs={components:{Audio5:Bs,CountDown:Be["a"],CommonAskAiBtn:Y["a"],CorrectCardResult:Bt},props:{question:Object,topic:Object,answerData:Object,exam:Boolean,displayOrder:Number,total:Number},data(){const t=Object(h["i"])("sampleRate"),e=new z.a({type:"wav",sampleRate:t?(F["a"].find(e=>e.key===t)||F["a"][0]).value:F["a"][0].value,bitRate:16});return{lab_icon:bs["a"],readingImg:Ys,fileUrlGet:l["w"],arrow_up:Hs,arrow_down:Js,hdkyIndex:0,staticUrlGet:l["Cb"],prusmp3Topic5UrlGet:l["jb"],answer:[],pause2:!0,nextImg:zs,prevImg:Ks,showWitchItem:-1,allTask:[],firstAudioIsPlayStatus:0,isShowPrepDom:!0,recorderManager:e,recording:!1,duration:0,timmer:null}},computed:{...Object(U["mapState"])("app",{user(t){const{user:e}=t;return e}}),...Object(U["mapState"])({correctNum(t){const{app:{user:e}}=t;return e.correctNum||0},isVip(t){const{app:{user:e}}=t;return e.vipEndTime&&R()(e.vipEndTime).isAfter(R()())},appUser(t){const{app:{user:e}}=t;return e}}),isMobile(){return this.$store.state.app.isMobile},titles(){return this.question.title?JSON.parse(this.question.title)[1]:[]},answers(){return this.question.answer?JSON.parse(this.question.answer):[]},extData(){const t=JSON.parse(this.question.extData||"{}");return t},translates(){const{translates:t}=this.extData;let e="";if(t&&Array.isArray(t))for(let s=0;s<t.length;s+=2){const i=t[s],a=t[s+1];i&&(e+=`A: ${i}\n`),a&&(e+=`B: ${a}\n`)}return e},disable(){return!!this.pause2},durationText(){if(!this.duration)return"00:00.00";const t=("0"+this.duration%1e3).slice(-3).substring(0,2),e=("0"+parseInt(this.duration/1e3,10)%60).slice(-2),s=("0"+parseInt(parseInt(this.duration/1e3,10)/60,10)).slice(-2);return`${s}:${e}.${t}`}},watch:{"question.id":{handler(t,e){t&&t!==e&&(this.hdkyIndex=0,this.answer=[],this.pause2=!1,this.isShowPrepDom=!0,this.allTask=JSON.parse(this.question.title),this.recording=!1,this.duration=0,clearInterval(this.timmer))},immediate:!0,deep:!0},answerData:{handler(t){t&&(this.answer=JSON.parse(t.answer),console.log(this.answer),this.hdkyIndex=10,this.allTask.forEach((t,e)=>{t.myanswer=this.answer[e]}))},deep:!0,immediate:!0}},destroyed(){this.recording&&this.stopRecording()},methods:{setChoicesMyAnswer(t,e){_s.a.set(e,"myanswer",t)},changeshowWitchItem(t){this.showWitchItem===t?this.showWitchItem=-1:this.showWitchItem=t},startRecording(){this.recording=!0,this.recorderManager.open(async()=>{this.recorderManager.start(),this.timmer=setInterval(()=>{this.duration+=20,this.duration>=35e3&&this.onStop()},20)},(t,e)=>{this.recording=!1,this.duration=0,clearInterval(this.timmer),e||this.$message.error(""+this.$t("componentrecorder.nouse"))})},async stopRecording(){this.recorderManager.stop(async t=>{clearInterval(this.timmer),this.recording=!1,this.duration=0;const e=new File([t],Date.now()+".wav",{type:"audio/wav"});this.recorderManager.close();const s=new FormData;s.append("file",e);const i=this.$loading({lock:!0}),{data:a}=await Object(l["Ib"])(s);if(this.allTask[this.hdkyIndex].myanswer=a,this.hdkyIndex++,this.hdkyIndex===this.allTask.length)this.onSubmit();else{const t=this.$refs.audiob;t&&t[0]&&setTimeout(()=>{t[0].handleClick()},1e3)}i.close()})},onNext(){if(!this.disable)return this.isShowPrepDom?(this.isShowPrepDom=!1,this.pause2=!0,this.$store.commit("question/upState",{bottomRecorderStart:!0}),void this.$nextTick(()=>{const t=this.$refs.audiob;t&&t[0]&&setTimeout(()=>{t[0].handleClick()},1e3)})):void(this.recording?this.stopRecording():this.allTask[this.hdkyIndex].audio_played?this.startRecording():(this.$nextTick(()=>{const t=this.$refs.audiob;t&&t[0]&&setTimeout(()=>{t[0].handleClick()},1e3)}),this.scrollToBottom()))},scrollToBottom(){try{setTimeout(()=>{const t=document.querySelector(".rightContent");t&&(t.scrollTop+=2e3)},200)}catch(t){}},onPlay(){this.pause2=!0},onEnded(){this.pause2=!1,this.allTask[this.hdkyIndex].audio_played=!0,this.scrollToBottom()},reset(){this.$emit("reset"),this.hdkyIndex=0,this.allTask.forEach(t=>{delete t.myanswer})},async onSubmit(){const t=[];this.allTask.forEach(e=>{e.audio_played=!1,t.push(e.myanswer)}),await this.$store.commit("question/upState",{answer:t}),await this.$emit("onSubmit"),this.isShowPrepDom=!0},nextOrPrevQuestionGet(t){this.$emit("nextOrPrevQuestionGet",t)}}},Vs=Fs,Zs=(s("cb92"),s("77c4"),Object(v["a"])(Vs,Us,Qs,!1,null,"3cd411ea",null)),Xs=Zs.exports,ti=function(){var t,e=this,s=e._self._c;return s("div",{staticClass:"topic-q-test"},[s("div",{staticClass:"countDonwl"},[!Boolean(e.answerData)&&e.question.id?s("count-down",{attrs:{id:0===e.pageUiShow||1===e.pageUiShow?""+(e.question.id+2):""+e.question.id,duration:0===e.pageUiShow||1===e.pageUiShow?e.topic.duration:e.topic.duration2,pause:e.pause2,"page-ui-show":e.pageUiShow,prepare:e.topic.prepare,"topic-key":e.topic.key}}):e._e()],1),s("div",{staticClass:"content"},[s("div",[0===e.pageUiShow?[s("div",{staticClass:"right"},[s("div",{staticClass:"rightContent"},[s("div",{staticClass:"title"},[s("div",{staticClass:"title1"},[e._v(e._s(e.$t("topicInfo.titleq1")))]),s("div",{staticClass:"title2"},[e._v(e._s(e.$t("topicInfo.titleq2")))])]),s("div",{staticClass:"subTitle",domProps:{innerHTML:e._s((e.questionTitles[0]||"").replace(/\n/g,"<br/>"))}}),s("div",{attrs:{id:"scrollBottom"}})])])]:[s("div",{staticClass:"qustion_out"},[s("div",{staticClass:"q1_title"},[s("div",{class:(e.pageUiShow,"question_tips")},[s("span",{staticClass:"num"},[e._v("1")]),e._v(e._s(e.$t("topicInfo.titleq3"))+" ")]),s("div",{staticClass:"title1",domProps:{innerHTML:e._s((e.questionTitles[0]||"").replace(/\n/g,"<br/>"))}})]),s("div",{staticClass:"q1_input"},[s("el-input",{staticClass:"input",attrs:{disabled:Boolean(e.answerData)||e.pageUiShow>1,type:"textarea",rows:10,placeholder:e.$t("topicInfo.nidedaan")},on:{input:e.onChange1},model:{value:e.answer[0],callback:function(t){e.$set(e.answer,0,t)},expression:"answer[0]"}}),s("div",{staticClass:"word-number"},[e._v(" "+e._s(e.$t("topicInfo.jianyiNum"))+"120-160 "+e._s(e.$t("topicInfo.yishuru"))),s("span",{staticClass:"yellow_font"},[e._v(e._s(e.length1))]),e._v(" /300 ")])],1),s("div",{staticClass:"q2_title"},[s("div",{class:(e.pageUiShow,"question_tips")},[s("span",{staticClass:"num"},[e._v("2")]),e._v(e._s(e.$t("topicInfo.titleq4"))+" ")]),2===e.pageUiShow||3===e.pageUiShow?s("div",{staticClass:"title1",domProps:{innerHTML:e._s((e.questionTitles[1]||"").replace(/\n/g,"<br/>"))}}):e._e()]),s("div",{directives:[{name:"loading",rawName:"v-loading",value:e.question2Loading,expression:"question2Loading"}],staticClass:"q2_input"},[2===e.pageUiShow||3===e.pageUiShow?s("el-input",{staticClass:"input",attrs:{disabled:Boolean(e.answerData)||e.pageUiShow>2||1===e.pageUiShow,type:"textarea",rows:10,placeholder:e.$t("topicInfo.nidedaan")},on:{input:e.onChange2},model:{value:e.answer[1],callback:function(t){e.$set(e.answer,1,t)},expression:"answer[1]"}}):e._e(),2===e.pageUiShow||3===e.pageUiShow?s("div",{staticClass:"word-number"},[e._v(" "+e._s(e.$t("topicInfo.jianyiNum"))+"80-120 "+e._s(e.$t("topicInfo.yishuru"))),s("span",{staticClass:"yellow_font"},[e._v(e._s(e.length2))]),e._v(" /300 ")]):e._e()],1)])]],2),s("div",[s("div",{staticClass:"items"},[e.extData.titleTranslate1?s("div",{staticClass:"item",on:{click:function(t){return e.changeshowWitchItem(0)}}},[s("div",{class:0===e.showWitchItem?"itemLeft itemLeft_open":"itemLeft"},[s("div",{staticClass:"itemTitle"},[e._v(" "+e._s(e.$t("topicInfo.question1FanYi"))+" ")]),s("div",{staticClass:"arrow_out"},[0===e.showWitchItem?s("span",[s("el-image",{attrs:{src:e.arrow_up}})],1):s("span",[s("el-image",{attrs:{src:e.arrow_down}})],1)])])]):e._e(),e.extData.titleTranslate2?s("div",{staticClass:"item",on:{click:function(t){return e.changeshowWitchItem(1)}}},[s("div",{class:1===e.showWitchItem?"itemLeft itemLeft_open":"itemLeft"},[s("div",{staticClass:"itemTitle"},[e._v(" "+e._s(e.$t("topicInfo.question2FanYi"))+" ")]),s("div",{staticClass:"arrow_out"},[1===e.showWitchItem?s("span",[s("el-image",{attrs:{src:e.arrow_up}})],1):s("span",[s("el-image",{attrs:{src:e.arrow_down}})],1)])])]):e._e(),e.extData.answer1?s("div",{staticClass:"item",on:{click:function(t){return e.changeshowWitchItem(2)}}},[s("div",{class:2===e.showWitchItem?"itemLeft itemLeft_open":"itemLeft"},[s("div",{staticClass:"itemTitle"},[e._v(" "+e._s(e.$t("topicInfo.question1answer"))+" ")]),s("div",{staticClass:"arrow_out"},[2===e.showWitchItem?s("span",[s("el-image",{attrs:{src:e.arrow_up}})],1):s("span",[s("el-image",{attrs:{src:e.arrow_down}})],1)])])]):e._e(),e.extData.answer2?s("div",{staticClass:"item",on:{click:function(t){return e.changeshowWitchItem(3)}}},[s("div",{class:3===e.showWitchItem?"itemLeft itemLeft_open":"itemLeft"},[s("div",{staticClass:"itemTitle"},[e._v(" "+e._s(e.$t("topicInfo.question2answer"))+" ")]),s("div",{staticClass:"arrow_out"},[3===e.showWitchItem?s("span",[s("el-image",{attrs:{src:e.arrow_up}})],1):s("span",[s("el-image",{attrs:{src:e.arrow_down}})],1)])])]):e._e()]),-1!==e.showWitchItem?s("div",{staticClass:"new_item_content_show_out"},[0===e.showWitchItem?s("div",[s("div",{domProps:{innerHTML:e._s(e.extData.titleTranslate1.replace(/\n/g,"<br/>"))}})]):e._e(),1===e.showWitchItem?s("div",[s("div",{domProps:{innerHTML:e._s(e.extData.titleTranslate2.replace(/\n/g,"<br/>"))}})]):e._e(),2===e.showWitchItem?s("div",[s("div",{domProps:{innerHTML:e._s(e.extData.answer1.replace(/\n/g,"<br/>"))}})]):e._e(),3===e.showWitchItem?s("div",[s("div",{domProps:{innerHTML:e._s(e.extData.answer2.replace(/\n/g,"<br/>"))}})]):e._e()]):e._e()]),s("CorrectCardResult",{attrs:{question:e.question,"answer-data":e.answerData,"is-vip":e.isVip,"correct-num":e.correctNum}})],1),e.exam?e._e():s("div",{staticClass:"btnGroup"},[e.isMobile?s("div",{staticClass:"nextPreviewMobileBtns"},[s("el-image",{staticClass:"mobilePrev",attrs:{src:e.prevImg},on:{click:function(t){return e.nextOrPrevQuestionGet("prev")}}}),s("el-image",{staticClass:"mobileNext",attrs:{src:e.nextImg},on:{click:function(t){return e.nextOrPrevQuestionGet("next")}}})],1):s("div",{staticClass:"nextPreviewBtns nextPreviewBtns4"},[s("div",{staticClass:"pointer",on:{click:function(t){return e.nextOrPrevQuestionGet("prev")}}},[e._v(" "+e._s(e.$t("topicInfo.prevTi"))+" ")]),s("div",{staticClass:"pointer pointer_next",on:{click:function(t){return e.nextOrPrevQuestionGet("next")}}},[e._v(" "+e._s(e.$t("topicInfo.nextTi"))+" ")])]),Boolean(e.answerData)?s("div",{staticClass:"btnRight"},[s("CommonAskAiBtn",{attrs:{"page-ui-show":e.pageUiShow}}),s("BottomCorrectBtn",{attrs:{question:e.question,"answer-data":e.answerData,"correct-num":e.correctNum,"is-vip":e.isVip}}),s("el-button",{staticClass:"submit submit_redo submit123",attrs:{type:"primary"},on:{click:e.reset}},[e._v(" "+e._s(e.$t("topicInfo.redo"))+" ")])],1):s("div",{staticClass:"btnRight"},[s("CommonAskAiBtn",{attrs:{"page-ui-show":e.pageUiShow}}),s("div",{class:"correct disable",attrs:{type:"primary"}},[e._v(" "+e._s(e.$t("vip.shengqingcorrectText"))+" "),"Pro"===(null===(t=e.appUser)||void 0===t?void 0:t.vipTag)?void 0:[e._v("("+e._s(e.correctNum)+")")]],2),0===e.pageUiShow?s("el-button",{staticClass:"submit",attrs:{type:"primary"},on:{click:e.onNext}},[e._v(" "+e._s(0===e.pageUiShow?e.$t("topicInfo.start"):e.$t("topicInfo.nextLittle"))+" ")]):e._e(),1===e.pageUiShow?s("el-button",{staticClass:"submit",attrs:{type:"primary"},on:{click:e.onNext}},[e._v(" "+e._s(0===e.pageUiShow?e.$t("topicInfo.start"):e.$t("topicInfo.nextLittle"))+" ")]):2===e.pageUiShow?s("el-button",{staticClass:"submit",attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v(" "+e._s(e.$t("topicInfo.queren"))+" ")]):e._e()],1)])])},ei=[];const si=Object(l["Bb"])("image/next.svg"),ii=Object(l["Bb"])("image/prev.svg"),ai=Object(l["Bb"])("exam/arrow_up.svg"),ni=Object(l["Bb"])("exam/arrow_down.svg");var ri={components:{CountDown:Be["a"],CorrectCardResult:Bt,BottomCorrectBtn:K["a"],CommonAskAiBtn:Y["a"]},props:{question:Object,topic:Object,answerData:Object,exam:Boolean,displayOrder:Number,total:Number},data(){return{arrow_up:ai,arrow_down:ni,pageUiShow:0,staticUrlGet:l["Cb"],answer:[],pause2:!1,nextImg:si,prevImg:ii,timer:null,question2Loading:!1,showWitchItem:-1}},computed:{...Object(U["mapState"])({correctNum(t){const{app:{user:e}}=t;return e.correctNum||0},isVip(t){const{app:{user:e}}=t;return e.vipEndTime&&R()(e.vipEndTime).isAfter(R()())},appUser(t){const{app:{user:e}}=t;return e}}),isMobile(){return this.$store.state.app.isMobile},questionTitles(){return this.question.title?JSON.parse(this.question.title):""},extData(){const t=JSON.parse(this.question.extData||"{}");return t},correctContent(){if("1"===this.question.correctStatus){const{content:t=""}=JSON.parse(this.question.correct||"{}");return t.replace(/\n/g,"<br/>")}return""},length1(){let t=0;return t=c.a.trim(this.answer[0])?c.a.trim(this.answer[0])&&!c.a.trim(this.answer[0]).match(/\s+/g)?1:c.a.trim(this.answer[0]).match(/\s+/g).length+1:0,t},length2(){let t=0;return t=c.a.trim(this.answer[1])?c.a.trim(this.answer[1])&&!c.a.trim(this.answer[1]).match(/\s+/g)?1:c.a.trim(this.answer[1]).match(/\s+/g).length+1:0,t}},watch:{"question.id":{handler(t,e){t&&t!==e&&(this.pageUiShow=0,this.answer=[])},immediate:!0,deep:!0},answerData:{handler(t){t&&(this.answer="string"===typeof t.answer?JSON.parse(t.answer):t.answer,this.pageUiShow=3)},deep:!0,immediate:!0},answer(t){const[e="",s=""]=t,i=e.trim().split(/\s+/),a=s.trim().split(/\s+/);i.length>300&&(this.answer[0]=i.slice(0,300).join(" ")),a.length>300&&(this.answer[1]=a.slice(0,300).join(" "))}},methods:{changeshowWitchItem(t){this.showWitchItem===t?this.showWitchItem=-1:this.showWitchItem=t},formatTime(t){return R()(t).format("YYYY-M-D")},async onNext(){if(0===this.pageUiShow&&this.$store.commit("question/upState",{bottomRecorderStart:!0}),1===this.pageUiShow){if(!this.answer[0])return void this.$message.error(this.$t("topicInfo.pleaseFinishFirst"));setTimeout(()=>{const t=document.querySelector(".q2_input");t&&t.scrollIntoView({behavior:"smooth"})},0)}this.pageUiShow+=1},onChange1(t){this.answer[0]=t},onChange2(t){this.answer[1]=t},reset(){this.$emit("reset"),this.pageUiShow=0,this.answer=[]},async onSubmit(){if(!this.answer[1])return this.$message.error(this.$t("topicInfo.pleaseFinishSecond"));await this.$store.commit("question/upState",{answer:this.answer}),this.pageUiShow=3,await this.$emit("onSubmit")},async requestCorrect(){await this.$store.dispatch("question/openCorrectTK")},nextOrPrevQuestionGet(t){this.$emit("nextOrPrevQuestionGet",t)}}},oi=ri,ci=(s("9b65"),s("2f38"),Object(v["a"])(oi,ti,ei,!1,null,"683ecf2e",null)),li=ci.exports,di=function(){var t=this,e=t._self._c;return e("div",{staticClass:"topic-3-test"},["3"===t.key?e("div",{class:"title "+(Boolean(t.answerData)?"answered":"")},[[t._v(t._s(t.$t("topicInfo.title3")))]],2):t._e(),"p"!==t.key||t.showGroupResult?t._e():e("div",{class:"title "+(Boolean(t.answerData)?"answered1":"")},[[t._v(t._s(t.$t("topicInfo.titlep")))]],2),t.showGroupResult?t._e():[t.answerData&&(t.answerData.score||0===t.answerData.score)?e("div",{staticClass:"rate"},[e("div",{staticClass:"rateText"},[t._v(t._s(t.$t("topicInfo.myacc")))]),e("div",{staticClass:"rateNum"},[t._v(t._s(""+t.answerData.score)),e("span",{staticClass:"symbol"},[t._v("%")])])]):t._e()],"3"===t.key?e("div",{staticClass:"title_new"},[t._v(t._s(t.extData.title))]):t._e(),!1===t.isgrouptest?[e("div",{staticClass:"article_out"},t._l(t.content,(function(s,i){return e("span",{key:i},[i%2===1&&t.inputs[i]?[e("div",{staticStyle:{display:"inline-block"}},[t._l((t.prefixs[(i-1)/2]||"").split(""),(function(t,s){return e("input",{key:"p-"+s,staticClass:"input front",attrs:{autocomplete:"new-password",disabled:""},domProps:{value:t}})})),t._l(s.split(""),(function(a,n){return e("input",{directives:[{name:"model",rawName:"v-model",value:t.inputs[i][n],expression:"inputs[i][j]"}],key:n,class:`input input-${i}-${n} ${Boolean(t.answerData)&&t.inputs[i].join("")!==s?"word-err":""} ${Boolean(t.answerData)&&t.inputs[i][n]!==s[n]?"letter-err":""}`,attrs:{autocomplete:"new-password",disabled:Boolean(t.answerData)},domProps:{value:t.inputs[i][n]},on:{input:[function(e){e.target.composing||t.$set(t.inputs[i],n,e.target.value)},function(e){return t.onChange(i,n)}]}})}))],2),Boolean(t.answerData)?e("span",{class:t.answerRightOrWrong(i)?"correct-answer":"correct-answer correct-answer-err"},[t._v("("+t._s(t.correctWord(i))+") ")]):t._e()]:[t._v(" "+t._s(s)+" ")]],2)})),0)]:[e("div",{staticClass:"article_out"},t._l(t.content,(function(s,i){return e("span",{key:i},[i%2===1&&t.inputs[i]?[e("div",{staticStyle:{display:"inline-block"}},[t._l((t.prefixs[(i-1)/2]||"").split(""),(function(t,s){return e("input",{key:"p-"+s,staticClass:"input front",attrs:{autocomplete:"new-password",disabled:""},domProps:{value:t}})})),t._l(s.split(""),(function(s,a){return e("input",{directives:[{name:"model",rawName:"v-model",value:t.inputs[i][a],expression:"inputs[i][j]"}],key:a,class:`input input-${i}-${a}  `,attrs:{autocomplete:"new-password"},domProps:{value:t.inputs[i][a]},on:{input:[function(e){e.target.composing||t.$set(t.inputs[i],a,e.target.value)},function(e){return t.onChange(i,a)}]}})}))],2)]:[t._v(" "+t._s(s)+" ")]],2)})),0)],!1===t.isgrouptest?["p"===t.key?e("div",{staticClass:"p_word_out"},[t.answerData&&(t.answerData.score||0===t.answerData.score)?e("div",t._l(t.content,(function(s,i){return e("span",{key:i},[i%2===1&&t.inputs[i]?[Boolean(t.answerData)?e("span",[t.dictData.length?e("Dicts",{attrs:{dicts:t.dictData},on:{dictChange:t.onDictChange}}):t._e()],1):t._e()]:t._e()],2)})),0):t._e()]):t._e()]:t._e(),!1===t.isgrouptest?e("div",{staticClass:"items"},[t.extData.titleTranslate?e("div",{staticClass:"item",on:{click:function(e){return t.changeshowWitchItem(0)}}},[e("div",{class:0===t.showWitchItem?"itemLeft itemLeft_open":"itemLeft"},[e("div",{staticClass:"itemTitle"},[t._v(" "+t._s(t.$t("topicInfo.fanyiCankao"))+" ")]),e("div",{staticClass:"arrow_out"},[0===t.showWitchItem?e("span",[e("el-image",{attrs:{src:t.arrow_up}})],1):e("span",[e("el-image",{attrs:{src:t.arrow_down}})],1)])])]):t._e()]):t._e(),-1!==t.showWitchItem?e("div",{staticClass:"new_item_content_show_out"},[0===t.showWitchItem?e("div",[e("div",{domProps:{innerHTML:t._s(t.extData.titleTranslate.replace(/\n/g,"<br/>"))}})]):t._e()]):t._e()],2)},ui=[];const hi=Object(l["Bb"])("exam/arrow_up.svg"),pi=Object(l["Bb"])("exam/arrow_down.svg");var mi={components:{Dicts:P},props:{question:Object,answerData:Object},data(){return{arrow_up:hi,arrow_down:pi,content:[],inputs:[],prefixs:[],dictData:[],showWitchItem:-1,isgrouptest:!1,showGroupResult:!1}},computed:{extData(){const t=JSON.parse(this.question.extData||"{}");return t},key(){return this.question.key}},watch:{question:{handler(t){if(t){const{key:e}=t;"3"===e?document.addEventListener("keydown",this.keydown3):"p"===e&&document.addEventListener("keydown",this.keydownp)}},deep:!0,immediate:!0}},created(){this.processQuestion(this.question)},mounted(){this.$route.query.groupId&&0===Number(this.$route.query.groupTestNums)&&(this.isgrouptest=!0),Number(this.$route.query.groupTestNums)>0&&(this.showGroupResult=!0)},beforeDestroy(){document.removeEventListener("keydown",this.keydown3),document.removeEventListener("keydown",this.keydownp)},methods:{changeshowWitchItem(t){this.showWitchItem===t?this.showWitchItem=-1:this.showWitchItem=t},onDictChange(){this.dictData.forEach(t=>{t.userWord=!t.userWord})},processQuestion(t={}){const e=` ${t.answer||""} `.replace(/<\/?span>/g,"").replace(/<del>[^<]*<\/del>/g,""),s=e.split(/<ins>(\w+)<\/ins>/g);this.content=s;const i=[];if(this.content=s.map((t,e)=>{if(e%2===0){const e=t.lastIndexOf(" "),s=t.substring(e+1);return i.push(s),t.substring(0,e+1)}return t}),this.prefixs=i,!c.a.isEmpty(this.answerData)&&this.answerData.answer)this.inputs="string"===typeof this.answerData.answer?JSON.parse(this.answerData.answer):this.answerData.answer,"p"===this.key&&this.findMyAnser();else{const t=[];for(let e=0;e<s.length;e++)t[e]=[];this.inputs=t,!1===this.isgrouptest?this.$store.commit("question/upState",{answer:t}):this.$store.commit("groupquestion/upState",{answer:t})}},findMyAnser(){this.content.forEach((t,e)=>{if(e%2===1&&this.inputs[e]){const t=this.correctWord(e);this.getDict(t)}})},answerRightOrWrong(t){let e=!0;return e=this.content[t]===this.inputs[t].join(""),e},correctWord(t){const e=this.prefixs[(t-1)/2];return e?`${e}${this.content[t]}`:""},onChange(t,e){if(this.inputs[t][e]&&(this.inputs[t][e]=this.inputs[t][e].toLowerCase()),this.inputs[t][e].length>1&&(this.inputs[t][e]=this.inputs[t][e][this.inputs[t][e].length-1]),/^[a-z]$/.test(this.inputs[t][e])){const s=document.querySelector(`.topic-3-test .input.input-${t}-${e+1}`);if(s)s.focus();else{const e=document.querySelector(`.topic-3-test .input.input-${t+2}-0`);e&&e.focus()}}else this.inputs[t][e]="";const s=[];this.inputs.forEach(t=>{t.forEach(t=>{t&&s.push(t)})}),this.$store.commit("groupquestion/upState",{answer:s.length?this.inputs:void 0})},keydownp(t){const e=document.querySelector(".topic-3-test .input:focus");if(!e)return;const[,s,i]=e.className.split(" ")[1].split("-");if(37===t.keyCode){if(i>0){const t=document.querySelector(`.topic-3-test .input.input-${s}-${i-1}`);t&&(t.focus(),setTimeout(()=>{t.setSelectionRange(t.value.length,t.value.length)},0))}}else if(39===t.keyCode){const t=document.querySelector(`.topic-3-test .input.input-${s}-${Number(i)+1}`);t&&(t.focus(),setTimeout(()=>{t.setSelectionRange(t.value.length,t.value.length)},0))}else if(8===t.keyCode&&document.activeElement.className){const[,t]=document.activeElement.className.split(" ");if(t){const[,e,s]=t.split("-"),i=document.querySelector(`.topic-3-test .input.input-${e}-${s}`);if(i&&i.value)this.inputs[e][s]="";else{const t=document.querySelector(`.topic-3-test .input.input-${e}-${s-1}`);if(t)t.focus();else if(this.content[e-2]){const t=this.content[e-2].length,s=document.querySelector(`.topic-3-test .input.input-${e-2}-${t-1}`);s&&s.focus()}}}}},keydown3(t){const e=document.querySelector(".topic-3-test .input:focus");if(!e)return;const[,s,i]=e.className.split(" ")[1].split("-");if(37===t.keyCode){if(0===Number(i)&&1===Number(s))return;const t=document.querySelector(`.topic-3-test .input.input-${s}-${i-1}`);if(t)t.focus(),setTimeout(()=>{t.setSelectionRange(t.value.length,t.value.length)},0);else{const t=document.querySelector(`.topic-3-test .input.input-${s-2}-${this.content[s-2].length-1}`);t&&(t.focus(),setTimeout(()=>{t.setSelectionRange(t.value.length,t.value.length)},0))}}else if(39===t.keyCode){const t=document.querySelector(`.topic-3-test .input.input-${s}-${Number(i)+1}`);if(t)t.focus(),setTimeout(()=>{t.setSelectionRange(t.value.length,t.value.length)},0);else{const t=document.querySelector(`.topic-3-test .input.input-${Number(s)+2}-0`);t&&(t.focus(),setTimeout(()=>{t.setSelectionRange(t.value.length,t.value.length)},0))}}else if(8===t.keyCode&&document.activeElement.className){const[,t]=document.activeElement.className.split(" ");if(t){const[,e,s]=t.split("-"),i=document.querySelector(`.topic-3-test .input.input-${e}-${s}`);if(i&&i.value)this.inputs[e][s]="";else{const t=document.querySelector(`.topic-3-test .input.input-${e}-${s-1}`);if(t)t.focus();else if(this.content[e-2]){const t=this.content[e-2].length,s=document.querySelector(`.topic-3-test .input.input-${e-2}-${t-1}`);s&&s.focus()}}}}},async getDict(t){const e=t.toLowerCase(),{data:s,err:i}=await Object(l["k"])({q:e});i&&(this.dictData=[]);const a=[];Object.keys(s).forEach(t=>{a.push({...s[t],title:t})}),this.dictData=a}}},vi=mi,wi=(s("9584"),Object(v["a"])(vi,di,ui,!1,null,"20c60619",null)),_i=wi.exports,gi=function(){var t=this,e=t._self._c;return e("div",{staticClass:"topic-2-test"},[e("div",{staticClass:"content"},[e("div",{staticClass:"player",on:{click:t.onPlay}},[e("el-image",{staticClass:"volume1",attrs:{ondragstart:"return false;",oncontextmenu:"return false;",src:t.staticUrlGet("image/volume-1.png")}}),e("el-image",{directives:[{name:"show",rawName:"v-show",value:t.volumeShow>=1,expression:"volumeShow >= 1"}],staticClass:"volume2",attrs:{ondragstart:"return false;",oncontextmenu:"return false;",src:t.staticUrlGet("image/volume-2.png")}}),e("el-image",{directives:[{name:"show",rawName:"v-show",value:t.volumeShow>=2,expression:"volumeShow >= 2"}],staticClass:"volume3",attrs:{ondragstart:"return false;",oncontextmenu:"return false;",src:t.staticUrlGet("image/volume-3.png")}})],1),e("div",{staticClass:"right"},[e("div",{staticClass:"youanswer"},[t._v(t._s(t.$t("questiongroups.youanswewr")))]),e("div",{staticClass:"answer"},[t._v(t._s(t.answer))])])]),e("div",{staticClass:"correct-answer-content"},[t._v(t._s(t.$t("questiongroups.ckdn"))+t._s(t.question.answer))])])},fi=[];const Ci=Object(l["Bb"])("exam/arrow_up.svg"),yi=Object(l["Bb"])("exam/arrow_down.svg");var bi={props:{question:Object,answerData:Object},data(){return{arrow_up:Ci,arrow_down:yi,answer:"",left:3,showWitchItem:-1,staticUrlGet:l["Cb"],volumeShow:2,playing:!1,timmer:null,audio:null}},computed:{extData(){const t=JSON.parse(this.question.extData||"{}");return t}},watch:{question:{handler(){this.left=3,this.$store.commit("question/upState",{answer:" "})},deep:!0},answerData:{handler(t){c.a.isEmpty(t)?(this.answer="",this.left=3):this.answer=t.answer},immediate:!0,deep:!0}},methods:{changeshowWitchItem(t){this.showWitchItem===t?this.showWitchItem=-1:this.showWitchItem=t},onEnd(){this.answerData||(this.left-=1)},onChange(t){this.$store.commit("question/upState",{answer:t})},async onPlay(){if(this.playing||this.disabled)return;console.log(this.question);const{id:t}=this.question;Object(h["q"])("groupAnswerPlayingAudioId",t),this.audio=new Audio;const e=await Object(l["w"])({md5:this.question.md5,type:"mp3"});this.audio.src=e,Object(h["n"])()?this.audio.play():this.audio.addEventListener("canplaythrough",()=>{this.audio.play()}),this.audio.addEventListener("play",()=>{this.playing=!0;let e=1;this.timmer=setInterval(()=>{let{volumeShow:s}=this;e?(s--,s<0&&(s=1,e=0)):(s++,s>2?(s=1,e=1):2!==s||this.playing||clearInterval(this.timmer)),this.volumeShow=s,Number(Object(h["i"])("groupAnswerPlayingAudioId"))!==t&&(clearInterval(this.timmer),this.volumeShow=2,this.playing=!1,this.audio.pause())},200)}),this.audio.addEventListener("ended",()=>{clearInterval(this.timmer),this.volumeShow=2,this.playing=!1})}}},Ii=bi,xi=(s("2ce2"),Object(v["a"])(Ii,gi,fi,!1,null,"95052d10",null)),$i=xi.exports,qi={components:{Topic2:I,Topic3p:A,Topic4a9ce:Ut,Topic7:Yt,Topicn:ae,Topic8d:he,Topic6:Ce,Topicf:De,Topici:Re,Topicl:ps,Topic5:Rs,Topicb:Xs,Topicq:li,Topicpforgroup:_i,Topic2forgroup:$i},props:{topicKey:String,question:Object,answerData:Object,answer:[Object,String,Array,Number],likes:Array,topic:Object,likeTotal:Number,exam:Boolean,displayOrder:Number,total:Number},methods:{reset(){this.$emit("reset")},nextOrPrevQuestionGet(t){this.$emit("nextOrPrevQuestionGet",t||"next")},onSubmit(){this.$emit("onSubmit")},onPlay(){this.$emit("onPlay")},onEnded(){this.$emit("onEnded")}}},ki=qi,Si=(s("35a0"),Object(v["a"])(ki,i,a,!1,null,null,null));e["a"]=Si.exports},"4cf0":function(t,e,s){},"4d81":function(t,e,s){},"56bb":function(t,e,s){"use strict";s("da4a")},"59fb":function(t,e,s){},"5e35":function(t,e,s){},"615e":function(t,e,s){"use strict";s("fbfb")},6304:function(t,e,s){"use strict";var i=function(){var t=this,e=t._self._c;return["a","6","5","b"].includes(t.questionKey)?t._e():e("div",{class:"q"===t.questionKey&&0===t.pageUiShow?"common_ask_ai_btn common_ask_ai_btn_disabled":"common_ask_ai_btn",on:{click:t.openChat}},[e("div",{staticClass:"ask_ai_btn_left_icon"}),e("div",{staticClass:"ask_ai_btn_text"},[t._v("Ask AI")]),e("div",{staticClass:"vip_tag"},[t._v("VIP")])])},a=[],n={props:{pageUiShow:{type:Number,default:0}},data(){return{questionKey:"0",isI18n:!0}},watch:{$route:{handler(t){this.questionKey=t.query.key},immediate:!0},pageUiShow(t){this.$store.dispatch("app/changePageUiShow",{pageUiShow:3===t?1:t})}},methods:{openChat(){"q"===this.questionKey&&0===this.pageUiShow?console.log("budakai"):this.$store.dispatch("app/openChat")}}},r=n,o=(s("32cd"),s("643b")),c=Object(o["a"])(r,i,a,!1,null,"c4c23974",null);e["a"]=c.exports},"646f":function(t,e,s){"use strict";s("3b6c")},6844:function(t,e,s){"use strict";s("ba22")},"6e6f":function(t,e,s){},"72f3":function(t,e,s){},"76dc":function(t,e,s){"use strict";s("e681")},"77c4":function(t,e,s){"use strict";s("d20e")},7954:function(t,e,s){"use strict";s("72f3")},"7a92":function(t,e,s){},8485:function(t,e,s){},"84f3":function(t,e,s){"use strict";s("eadb")},"87e6":function(t,e,s){"use strict";s("fc17")},8912:function(t,e,s){"use strict";s("7a92")},"8a7f":function(t,e,s){},"8f5d":function(t,e,s){},"94be":function(t,e,s){},9584:function(t,e,s){"use strict";s("aed8")},"9b65":function(t,e,s){"use strict";s("b70e")},a318:function(t,e,s){},a4b4:function(t,e,s){"use strict";s("f35e")},aac5:function(t,e,s){"use strict";s("e048")},aed8:function(t,e,s){},b54d:function(t,e,s){},b70e:function(t,e,s){},b820:function(t,e,s){"use strict";var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"count-down"},[e("div",{staticClass:"sec"},[t.isI18n?[e("div",{staticClass:"sec_left"},[t._v(t._s(t.formatTime(t.duration-t.current))+"  ")]),"i"===t.topicKey||t.questionremain?e("div",{staticClass:"time"},[e("i18n",{attrs:{path:"topicInfo.titlei"}},[e("span",{staticClass:"primary-color primary-color-i18n",attrs:{place:"num"}},[t._v(t._s(t.questionremain?""+t.questionremain:""+(6-t.hdydIndex)))])])],1):t._e()]:["i"===t.topicKey||t.questionremain?e("div",{staticClass:"time"},[e("i18n",{attrs:{path:"topicInfo.titlei"}},[e("span",{staticClass:"primary-color",attrs:{place:"num"}},[t._v(t._s(t.questionremain?""+t.questionremain:""+(6-t.hdydIndex)))])])],1):t._e(),e("div",{staticClass:"sec_left"},[t._v(t._s(t.formatTime(t.duration-t.current)))])],t.isNeedPrepare()&&!t.bottomRecorderStart?e("div",{staticClass:"sec_mid"},[t._v(" "+t._s(t.$t("countDown.zbdjs"))),e("span",{staticClass:"width_hack"},[t._v(t._s(t.formatTime(t.prepare-t.current2)))])]):t._e(),t.bottomRecorderStart&&"b"!==t.topicKey?t._e():e("div",{staticStyle:{display:"flex","align-items":"center"}},[e("img",{staticClass:"img",attrs:{src:t.resetIcon,alt:""}}),e("div",{staticClass:"sec_right",on:{click:t.reset}},[t._v(" "+t._s(t.$t("countDown.czjs"))+" ")])])],2)])},a=[],n=s("c8d7"),r={props:{duration:Number,id:String,pause:Boolean,prepare:Number,topicKey:String,pageUiShow:Number,hdydIndex:Number,desc:String,questionremain:Number},data(){return{resetIcon:n["a"],innerWidth:"0%",timmer:null,current:0,timmer2:null,current2:0,isI18n:!0}},computed:{bottomRecorderStart(){return this.$store.state.question.bottomRecorderStart}},watch:{id(){this.isNeedPrepare()?"q"===this.topicKey&&2===this.pageUiShow?this.init():this.loadPrepareTime():this.init()},pause(t){clearInterval(this.timmer),console.log("watch pause",t),t||(this.timmer=setInterval(()=>{this.current<this.duration?(this.current+=1,this.innerWidth=100*this.current/this.duration+"%"):(clearInterval(this.timmer),this.$emit("onEnded"),this.$store.commit("question/upState",{timeEnd:!0}),setTimeout(()=>{this.$store.commit("question/upState",{timeEnd:!1})},1500))},1e3))},bottomRecorderStart(t){t&&this.isNeedPrepare()&&(this.current2=this.prepare,clearInterval(this.timmer2),this.timmer||this.init())}},created(){this.$store.commit("question/upState",{bottomRecorderStart:!1}),this.isNeedPrepare()?this.loadPrepareTime():this.init()},beforeDestroy(){clearInterval(this.timmer),clearInterval(this.timmer2),this.current2=0,this.current=0},methods:{isNeedPrepare(){return"9"===this.topicKey||"a"===this.topicKey||"e"===this.topicKey||"c"===this.topicKey||"d"===this.topicKey||"q"===this.topicKey||"b"===this.topicKey},reset(){this.innerWidth="0%",this.isNeedPrepare()?(this.loadPrepareTime(),clearInterval(this.timmer),this.current=0):this.init()},loadPrepareTime(){clearInterval(this.timmer2),this.current2=0,this.timmer2=setInterval(()=>{this.current2<this.prepare?this.current2+=1:(clearInterval(this.timmer2),this.init())},1e3)},init(){clearInterval(this.timmer),this.current=0,this.pause||(this.timmer=setInterval(()=>{this.current<this.duration?(this.current+=1,this.innerWidth=100*this.current/this.duration+"%"):(clearInterval(this.timmer),this.$emit("onEnded"),this.$store.commit("question/upState",{timeEnd:!0}),setTimeout(()=>{this.$store.commit("question/upState",{timeEnd:!1})},1500))},1e3))},formatTime(t){const e=(""+parseInt(t/60,10)).slice(-2),s=("0"+t%60).slice(-2);return`${e}:${s}`}}},o=r,c=(s("4193"),s("643b")),l=Object(c["a"])(o,i,a,!1,null,"6a074762",null);e["a"]=l.exports},ba22:function(t,e,s){},ba78:function(t,e,s){"use strict";s("35e7")},be62:function(t,e,s){"use strict";var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"wave-progress"},[t._l(t.waveHeights,(function(s,i){return e("div",{key:i,class:"wave-bar "+(t.disabled?"wave_bar_disabled":""),style:{height:s+"%",background:i/t.waveHeights.length<(t.disabled?100:t.percent)/100?"#f66442":"#e5e5e5"}})})),t.loading?e("div",{staticClass:"loading"},[e("div",{staticClass:"circle1"}),e("div",{staticClass:"circle2"}),e("div",{staticClass:"circle3"}),e("div",{staticClass:"circle1"}),e("div",{staticClass:"circle2"}),e("div",{staticClass:"circle3"})]):t._e()],2)},a=[],n=(s("080f"),{props:{percent:{type:Number,default:0},startLoop:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},loading:{type:Boolean,default:!1}},data(){return{waveHeights:[40,100,20,100,80,100,30,20,80,20,40,100,20,100,80,100,30,20,80,20,40,100,20,100,80,100,30,20,80,20,40,100,20,100,80,100,30,20,80,20]}},watch:{percent(){this.animateWaveHeights()},startLoop(t){t&&(this.percent=100,this.startContinuousAnimation())}},methods:{startContinuousAnimation(){const t=()=>{this.startLoop&&(this.animateWaveHeights(),requestAnimationFrame(t))};t()},animateWaveHeights(){}}}),r=n,o=(s("646f"),s("643b")),c=Object(o["a"])(r,i,a,!1,null,"a9f2fa8a",null);e["a"]=c.exports},c62a:function(t,e,s){"use strict";s("94be")},c834:function(t,e,s){"use strict";s("2511")},cb54:function(t,e,s){},cb92:function(t,e,s){"use strict";s("cb54")},cd01:function(t,e,s){"use strict";e["a"]="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI0MCIgaGVpZ2h0PSI0MCIgdmlld0JveD0iMCAwIDQwIDQwIj48ZGVmcz48c3R5bGU+LmF7ZmlsbDojZjY2NDQyO30uYntmaWxsOm5vbmU7c3Ryb2tlOiNmZmY7c3Ryb2tlLWxpbmVjYXA6cm91bmQ7c3Ryb2tlLWxpbmVqb2luOnJvdW5kO3N0cm9rZS13aWR0aDoycHg7fS5je2ZpbGw6I2ZmZjt9PC9zdHlsZT48L2RlZnM+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTYwMSAtNjMwKSI+PHJlY3QgY2xhc3M9ImEiIHdpZHRoPSI0MCIgaGVpZ2h0PSI0MCIgcng9IjIwIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg2MDEgNjMwKSIvPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDYxMi4yNSA2MzguNzUpIj48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxNi43NSA0LjI1KSI+PHBhdGggY2xhc3M9ImIiIGQ9Ik0zMiwxMlYyNiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTMyIC0xMikiLz48L2c+PHBhdGggY2xhc3M9ImMiIGQ9Ik05LjU4NiwxLjQxNGEyLDIsMCwwLDEsMi44MjgsMGw2LjE3Miw2LjE3MkEyLDIsMCwwLDEsMTcuMTcyLDExSDQuODI4QTIsMiwwLDAsMSwzLjQxNCw3LjU4NloiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDExLjI1IDApIHJvdGF0ZSg5MCkiLz48L2c+PC9nPjwvc3ZnPg=="},cece:function(t,e,s){},d20e:function(t,e,s){},d7bd:function(t,e,s){"use strict";s("8f5d")},da0a:function(t,e,s){"use strict";s("a318")},da4a:function(t,e,s){},dc1a:function(t,e,s){"use strict";s("4cf0")},de1f:function(t,e,s){"use strict";s("14b9")},e048:function(t,e,s){},e5d8:function(t,e,s){"use strict";s("1ccd")},e681:function(t,e,s){},eadb:function(t,e,s){},ede6:function(t,e,s){"use strict";s("06f7")},efa3:function(t,e,s){"use strict";s("6e6f")},f35e:function(t,e,s){},fbfb:function(t,e,s){},fc17:function(t,e,s){},fcfe:function(t,e,s){"use strict";s("fd78")},fd78:function(t,e,s){}}]);