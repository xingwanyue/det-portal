(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3a0955fc"],{"152d":function(t,e,s){"use strict";s("4baa")},"4baa":function(t,e,s){},"5dfe":function(t,e,s){},"71f5":function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"question_groups user_select_area",on:{mouseup:function(e){return t.$store.dispatch("question/openDragWordTranslateTK")}}},[e("div",[e("el-button",{staticClass:"backmobile",attrs:{type:"default",icon:"el-icon-arrow-left"},on:{click:t.back}},[t._v(" "+t._s(t.$t("topicInfo.back"))+" ")])],1),e("div",{staticClass:"header"},[e("div",{staticClass:"left"},[e("div",{staticClass:"left1"},[e("img",{staticClass:"group_icon",attrs:{src:t.groupIcon[t.routerKey]}}),t._v(t._s(`${t.topic.name||""} #Z${t.routerData.groupId||"***"}`)+" ")]),e("div",{staticClass:"left2 tags_out2"},[t.difficultyName(t.routerData.groupDifficulty)?e("div",{class:"difficulty difficulty"+t.routerData.groupDifficulty},[t._v(" "+t._s(t.$t("wordBook.difficulty"+t.routerData.groupDifficulty))+t._s(`(${t.difficultyName(t.routerData.groupDifficulty)})`)+" ")]):t._e(),Number(t.routerData.groupTestNums)?e("div",{staticClass:"test"},[t._v(" "+t._s(t.$t("questions.lxNum",{num:t.routerData.groupTestNums}))+" ")]):t._e()])]),e("div",{staticClass:"right"},[t.showAnswerList?[e("span",{staticClass:"font"},[t._v(t._s(t.$t("questiongroups.qwzq")))]),e("span",{staticClass:"green_right_font"},[t._v(t._s(t.questionsRightNum))]),e("span",{staticClass:"gray_all_font"},[t._v("/"+t._s(t.questions.length))])]:t._e()],2)]),e("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],class:t.onlyshowwrong?"content content_no_bg":"content",style:{backgroundImage:`url(${t.markImg})`}},[t.showAnswerList&&t.questions.length?[t.loading?t._e():e("div",{staticClass:"questionResultContent"},[e("div",{staticClass:"one_switch"},[e("el-switch",{attrs:{"active-color":"#F66442FF"},on:{change:t.toggleonlyshowwrong},model:{value:t.onlyshowwrong,callback:function(e){t.onlyshowwrong=e},expression:"onlyshowwrong"}}),e("div",{staticClass:"switch_name"},[t._v("只看错题")])],1),t._l(t.questions,(function(s){return e("div",{key:s.id},[t.onlyshowwrong&&"100"===s.ownScore?t._e():e("div",{class:"100"===s.ownScore?"one_result one_result_right":"one_result one_result_wrong"},[e("div",{staticClass:"one_result_top"},[e("div",{staticClass:"one_result_top_left"},[e("div",{staticClass:"name_font"},[t._v(t._s(t.topic.name||"")+" #"+t._s(s.id))]),e("div",{staticClass:"tags_out"},[t.difficultyName(s.difficulty)?e("div",{class:"difficulty difficulty"+s.difficulty},[t._v(" "+t._s(t.$t("wordBook.difficulty"+s.difficulty))+t._s(`(${t.difficultyName(s.difficulty)})`)+" ")]):t._e(),s.dict&&"n"!==s.key?e("div",{staticClass:"level"},[t._v(t._s("CEFR-"+s.dict.cefr))]):t._e(),s.total?e("div",{staticClass:"test"},[t._v(t._s(t.$t("questions.lxNum",{num:s.total})))]):t._e()])]),e("div",{staticClass:"one_result_top_right"},[s.ownScore&&"0"!==s.ownScore?e("div",{staticClass:"right_rate_out"},[t._v(t._s(t.$t("questiongroups.zql"))+" "+t._s(s.ownScore||0)+"%")]):e("div",{staticClass:"right_rate_out right_rate_out_yellow"},[t._v(" "+t._s(t.$t("questiongroups.zql"))+" "+t._s(s.ownScore||0)+"% ")]),e("el-popover",{attrs:{placement:"bottom-end",width:"150","popper-class":"collect_icon_popover",trigger:"hover"}},[e("div",{staticClass:"icon_list_out"},t._l(t.collectionData,(function(i){return e("div",{key:i.key,class:t.showWitchCollect(s.favorite,i.key)?"one_heng_start":"one_heng_start one_heng_start_hide",on:{click:function(e){return t.changeCollect(i.key,s.id)}}},[e("div",{staticClass:"start_icon"},[e("el-image",{attrs:{src:i.src}})],1),e("div",{staticClass:"start_name"},[t._v(t._s(i.name))])])})),0),e("div",{attrs:{slot:"reference"},slot:"reference"},[e("div",{staticClass:"favorite"},[e("el-image",{staticClass:"right1-image",attrs:{ondragstart:"return false;",oncontextmenu:"return false;",src:t.showWitchStartIcon(s.favorite)}}),e("span",{staticClass:"margin-left-8"},[t._v(t._s(t.$t("filter.favorite")))])],1)])]),s.dict?e("div",{class:"btn "+(s.userWord?"userWord":""),on:{click:function(e){t.handleUserWord(s,Boolean(s.userWord))}}},[t._v(" "+t._s(s.userWord?""+t.$t("componentDict.movein"):""+t.$t("componentDict.moveout"))+" ")]):t._e()],1)]),e("div",{staticClass:"one_result_content"},["n"===s.key?[e("div",{staticClass:"one_result_content_left"},[e("GroupDict",{attrs:{question:s}})],1)]:t._e(),"p"===s.key?[e("Topic",{attrs:{"topic-key":t.routerData.key+"g",question:s,"answer-data":{answer:s.ownAnswer,score:s.ownScore},answer:t.answer}})]:t._e(),"2"===s.key?[e("Topic",{attrs:{"topic-key":t.routerData.key+"g",question:s,"answer-data":{answer:s.ownAnswer,score:s.ownScore},answer:t.answer},on:{onPlay:function(e){t.pause=!0},onEnded:function(e){t.pause=!1}}})]:t._e()],2)])])})),t.questionsRightNum===t.questions.length&&t.onlyshowwrong?e("div",{staticClass:"no-data"},[e("el-image",{staticClass:"emptyImg",attrs:{src:t.emptyImg}}),e("div",{staticClass:"empty-data"},[t._v("没有错误试题~")])],1):t._e(),e("div",{staticClass:"button-group",staticStyle:{padding:"0"}},[e("div",{staticClass:"nextPreviewBtns nextPreviewBtns2"},[e("div",{staticClass:"pointer",on:{click:function(e){return t.nextOrPrevGroup("prev")}}},[t._v("< "+t._s(t.$t("questiongroups.syz")))]),e("div",[e("span",{staticClass:"qnums0"},[t._v(" "+t._s(`${t.displayOrderGroup}/${t.groupData.total}`))])]),e("div",{staticClass:"pointer",on:{click:function(e){return t.nextOrPrevGroup("next")}}},[t._v(t._s(t.$t("questiongroups.xyz"))+" >")])]),e("div",{staticClass:"btnRight"},[e("el-button",{staticClass:"submit",attrs:{type:"primary"},on:{click:t.redo}},[t._v(t._s(t.$t("questiongroups.chongz")))])],1)])],2)]:[e("div",{staticClass:"questionContent"},[e("count-down",{attrs:{id:""+t.question.id,duration:t.topic.duration,prepare:t.topic.prepare,"topic-key":t.topic.key,pause:t.pause}}),e("Topic",{attrs:{"topic-key":t.routerData.key,question:t.question,"answer-data":t.answerData,answer:t.answer,likes:t.likes,"like-total":t.likeTotal,topic:t.topic,"display-order":t.displayOrder,total:t.total},on:{onSubmit:t.onSubmit,reset:t.reset,nextOrPrevQuestionGet:t.nextOrPrevQuestionGet,onPlay:function(e){t.pause=!0},onEnded:function(e){t.pause=!1}}})],1),t.question.key?e("div",{staticClass:"button-group"},[e("div",{staticClass:"nextPreviewBtns nextPreviewBtns_dati nextPreviewBtns3"},[e("span",{staticClass:"qnums0"},[t._v(" "+t._s(""+t.displayOrder))]),e("span",{staticClass:"qnums1"},[t._v(" "+t._s("/"+t.total))])]),e("div",{staticClass:"btnRight"},["n"===t.question.key?void 0:[e("el-button",{staticClass:"submit",attrs:{disabled:!Boolean(t.answer),type:"primary"},on:{click:t.onSubmit}},[t._v(" "+t._s(t.$t("topicInfo.submit"))+" ")])]],2)]):t._e()]],2)])},o=[],r=(s("cfff"),s("b41b"),s("0c65"),s("2f20"),s("5880")),a=s("60bb"),n=s.n(a),u=s("f7f9"),c=s.n(u),l=s("b820"),d=s("4cb4"),p=function(){var t,e=this,s=e._self._c;return s("div",{class:e.question.dict?"dicts_group dicts_group_haveborder":"dicts_group"},[null!==(t=e.question)&&void 0!==t&&t.dict?[s("div",{staticClass:"dict",style:e.itemStyle},[s("div",{staticClass:"dict-top"},[s("div",{staticClass:"left"},[s("div",{staticClass:"text"},[e._v(" "+e._s(e.question.title)),s("span",{staticClass:"zhen"},[e._v(e._s(e.$t("questiongroups.zhen")))])]),s("div",{staticClass:"dict-volume"},[s("div",{staticClass:"one_vioce",on:{click:function(t){return e.onPlay(e.question.title,"uk")}}},[s("span",{staticClass:"yibiao"},[e._v(e._s(`${e.$t("componentDict.ying")}[${e.question.dict.prUK}]`))]),s("div",{staticClass:"dict-volume-img",attrs:{src:e.playImg}})]),s("div",{staticClass:"one_vioce",on:{click:function(t){return e.onPlay(e.question.title,"us")}}},[s("span",{staticClass:"yibiao"},[e._v(e._s(`${e.$t("componentDict.mei")}[${e.question.dict.prUS}]`))]),s("div",{staticClass:"dict-volume-img",attrs:{src:e.playImg}})])])])]),s("div",{staticClass:"dict-bottom"},[e.question.dict.tip?s("div",{staticClass:"dict-detail"},[e._v(" "+e._s(e.question.dict.tip)+" ")]):[e.question.dict.mean?s("div",{staticClass:"dict-detail",domProps:{innerHTML:e._s(e.question.dict.mean.replace(/\n/g,"<br>"))}}):e._e()],s("div",{staticClass:"right"},[e.question.dict.cefr?s("div",{staticClass:"dict-level"},[e._v(e._s("CEFR-"+e.question.dict.cefr))]):e._e(),e.question.difficulty?s("div",{class:"dict-difficulty difficulty"+e.question.difficulty},[e._v(" "+e._s(e.$t("wordBook.difficulty"+e.question.difficulty))+e._s(`(${e.difficultyName(e.question.difficulty)})`)+" ")]):e._e(),s("div",{class:"btn "+(e.question.userWord?"userWord":""),on:{click:function(t){e.handleUserWord(e.question,Boolean(e.question.userWord))}}},[e._v(" "+e._s(e.question.userWord?""+e.$t("componentDict.movein"):""+e.$t("componentDict.moveout"))+" ")])])],2)])]:[e._v(e._s(e.question.title)),s("span",{staticClass:"jia"},[e._v(e._s(e.$t("questiongroups.jia")))])]],2)},g=[],h=(s("6058"),s("d722"));const v=Object(h["Bb"])("image/playing.png");var m={props:{question:Object,itemStyle:{type:Object}},data(){return{playImg:v,dicts:[]}},computed:{...Object(r["mapState"])({difficulties:t=>{const{groupquestion:{difficulties:e}}=t;return e}})},mounted(){},methods:{difficultyName(t){if(t){const{name:e}=this.difficulties.find(e=>e.code===t)||{};return e}return""},async getDicts(t){const{data:e,err:s}=await Object(h["k"])({q:t.join(",")});if(s)return;const i=[];Object.keys(e).forEach(t=>{i.push({title:t,...e[t]})}),this.dicts=i},async onPlay(t,e){this.audio=new Audio;const s="uk"===e?Object(h["ib"])(t):Object(h["lb"])(t);this.audio.src=s,this.audio.play()},async handleUserWord(t,e){const{title:s}=t;e?(await this.$store.dispatch("question/delUserWord",{word:s}),t.userWord=!1):(await this.$store.dispatch("question/addUserWord",{word:s}),t.userWord=!0),this.$emit("dictChange")}}},f=m,_=(s("a3e0"),s("643b")),y=Object(_["a"])(f,p,g,!1,null,"3c5914a0",null),w=y.exports,b=s("ed08");const q=Object(h["Bb"])("image/favorite.svg"),C=Object(h["Bb"])("image/no-favorite.svg"),k=Object(h["Bb"])("image/skilled.svg"),D=Object(h["Bb"])("image/no-skilled.svg"),$=Object(h["Bb"])("image/meet.svg"),O=Object(h["Bb"])("image/no-meet.svg"),S=(Object(h["Bb"])("image/mark_new.svg"),Object(h["Bb"])("image/marki18n.svg")),I=Object(h["Bb"])("image/next.svg"),j=Object(h["Bb"])("image/prev.svg"),x=Object(h["Bb"])("image/filter/gray_star.svg"),B=Object(h["Bb"])("image/filter/red_star.svg"),P=Object(h["Bb"])("image/filter/yellow_star.svg"),N=Object(h["Bb"])("image/filter/green_star.svg"),G=Object(h["Bb"])("image/filter/blue_star.svg"),W=Object(h["Bb"])("image/grouptest/bqdc.svg"),T=Object(h["Bb"])("image/grouptest/txjz.svg"),z=Object(h["Bb"])("image/grouptest/ydxe.svg"),R=(Object(h["Bb"])("image/empty.svg"),Object(h["Bb"])("image/emptyi18n.svg"));var F={name:"Question",components:{CountDown:l["a"],Topic:d["a"],GroupDict:w},data(){return{loading:!0,favoriteImg:q,noFavoriteImg:C,skilledImg:k,noSkilledImg:D,meetImg:$,noMeetImg:O,markImg:S,emptyImg:R,pause:!1,mouseover:"",nextImg:I,prevImg:j,collectionData:[{key:"0",src:x,name:this.$t("filter.qxsc")},{key:"1",src:B,name:this.$t("filter.Favorite1")},{key:"2",src:P,name:this.$t("filter.Favorite2")},{key:"3",src:N,name:this.$t("filter.Favorite3")},{key:"4",src:G,name:this.$t("filter.Favorite4")}],visibleStartPopover:!1,showResult:!1,groupIcon:{2:T,n:z,p:W},routerKey:"",onlyshowwrong:!1}},computed:{...Object(r["mapState"])({question:t=>{const{groupquestion:{question:e}}=t;return e},groupData:t=>{const{grouplist:e}=t;return e},isMobile(t){return t.app.isMobile},difficulties:t=>{const{groupquestion:{difficulties:e}}=t;return e},answer:t=>{const{groupquestion:{answer:e}}=t;return e},answerData:t=>{const{groupquestion:{answerData:e}}=t;return e},questions:t=>{const{groupquestion:{questions:e}}=t;return e},questionsRightNum:t=>{const{groupquestion:{questions:e}}=t;return e.filter(t=>"100"===t.ownScore).length},likes:t=>{const{groupquestion:{likes:e}}=t;return e},likeTotal:t=>{const{groupquestion:{likeTotal:e}}=t;return e},total:t=>{const{groupquestion:{total:e}}=t;return e},topic(t){const{app:{topics:e}}=t;return n.a.find(e,{key:this.routerData.key})},showAnswerList(){const{isShowTest:t}=this.routerData;return"false"===t}}),displayOrder(){const{id:t}=this.routerData;return n.a.findIndex(this.questions,{id:Number(t)})+1},displayOrderGroup(){const{groupId:t,groupPage:e,groupPageSize:s}=this.routerData;return n.a.findIndex(this.groupData.questionGroups,{id:Number(t)})+1+(e-1)*s},routerData(){const{query:t}=this.$route;return{...t}},isI18n:()=>!0},watch:{"routerData.id":{handler(){this.$store.commit("groupquestion/upState",{answer:void 0,answerData:void 0}),this.$store.dispatch("groupquestion/questionGet",this.routerData)}},"routerData.groupTestNums":{handler(){this.init()}},"routerData.groupId":{handler(){this.init()}}},created(){},mounted(){this.init(),this.getgroupDate()},destroyed(){this.$store.commit("groupquestion/upState",{answer:void 0,answerData:void 0,question:{}})},methods:{async handleUserWord(t,e){const{title:s}=t;e?(await this.$store.dispatch("question/delUserWord",{word:s}),t.userWord=!1):(await this.$store.dispatch("question/addUserWord",{word:s}),t.userWord=!0),this.$emit("dictChange")},toggleonlyshowwrong(t){console.log(t)},redo(){const t={...this.routerData,id:this.questions[0].id,isShowTest:!0};window.router.push({path:"/groupQuestionPractice",query:{...t}}),this.$store.dispatch("grouplist/reset",{groupId:t.groupId})},getgroupDate(){const t=JSON.parse(Object(b["i"])("groupListSearch")),{groupPage:e,groupPageSize:s}=this.routerData,i={...t,page:Number(e),pageSize:Number(s)};this.$store.commit("grouplist/upState",{search:i}),this.$store.dispatch("grouplist/groupListGet",{})},async init(){const{query:t}=this.$route;"false"===t.isShowTest&&(this.showResult=!0),this.routerKey=t.key,this.$store.commit("groupquestion/upState",{answer:void 0,answerData:void 0}),await this.$store.dispatch("groupquestion/questionsGet",this.routerData),await this.questionGet(),this.$store.dispatch("groupquestion/difficultyGet")},changeCollect(t,e){this.visibleStartPopover=!1,this.$store.dispatch("groupquestion/favourite",{type:"favorite",value:t,qid:e})},showWitchStartIcon(t){return t?this.collectionData.find(e=>e.key===t).src:x},showWitchCollect(t,e){let s=!0;return t||"0"!==e||(s=!1),t&&t===e&&(s=!1),s},async questionGet(){this.loading=!0,await this.$store.dispatch("groupquestion/questionGet",this.routerData),this.loading=!1},async nextOrPrevQuestionGet(t){if(this.onlyshowwrong=!1,this.loading)return;this.loading=!0;const e=await this.$store.dispatch("question/limitCheck",{key:this.topic.key,type:"1",params:{type:t,id:this.routerData.id}});e||await this.$store.dispatch("groupquestion/nextOrPrevQuestionGet",{type:t,id:this.routerData.id,groupId:this.routerData.groupId,...this.routerData}),this.loading=!1},async nextOrPrevGroup(t){this.onlyshowwrong=!1;const{groupId:e,groupPage:s,groupPageSize:i}=this.routerData,{total:o}=this.groupData,{questionGroups:r}=this.groupData,a=n.a.findIndex(r,{id:Number(e)});let u=a;if(console.log(u),console.log(s),0===u&&"prev"===t&&1===Number(s))return void console.log("已经是第一组");if(u+1+(s-1)*i===o&&"next"===t)return void console.log("已经是最后一组");"next"===t?u+=1:u-=1;const c=r[u];if(c)this.handleRouterJump(c,s);else{const e="next"===t?Number(s)+1:s-1;if(e>0&&e<=o){const s={...this.routerData,groupPage:e,groupPageSize:i};console.log(s);const o=JSON.parse(Object(b["i"])("groupListSearch")),r={...o,page:Number(e),pageSize:Number(i)};await this.$store.commit("grouplist/upState",{search:r}),await this.$store.dispatch("grouplist/groupListGet",{}),"next"===t?this.handleRouterJump(this.groupData.questionGroups[0],e):this.handleRouterJump(this.groupData.questionGroups[this.groupData.questionGroups.length-1],e)}}},handleRouterJump(t,e){const{total:s}=t,i=JSON.parse(t.qids),o=t.lastQids?JSON.parse(t.lastQids):[],r=!(o.length===i.length),a={...this.routerData,groupId:t.id,isShowTest:r,groupPage:e};r&&(a.id=o.length?i[o.length]:i[0]),a.groupTestNums=s||0,window.router.push({path:"/groupQuestionPractice",query:{...a}})},formatTime(t){return c()(t).format("YYYY-M-D")},async onSubmit(){this.loading||(await this.$store.dispatch("groupquestion/answerAdd",{id:this.routerData.id,groupId:this.routerData.groupId}),this.nextOrPrevQuestionGet("next"))},reset(){this.$store.commit("groupquestion/upState",{answer:void 0,answerData:void 0,question:{...this.question,correct:null,correctStatus:null}})},favouriteOrSkillAdd(t){this.$store.dispatch("groupquestion/favouriteOrSkillAdd",{type:t})},back(){const t="/groupList?key="+this.routerData.key;this.$router.replace(t)},difficultyName(t){if(t){const{name:e}=this.difficulties.find(e=>e.code===t)||{};return e}return""},onMouseover(t){this.mouseover=t},onMouseout(){this.mouseover=""}}},J=F,Q=(s("152d"),s("b877"),Object(_["a"])(J,i,o,!1,null,"70cc05e1",null));e["default"]=Q.exports},"88f3":function(t,e,s){},a3e0:function(t,e,s){"use strict";s("88f3")},b877:function(t,e,s){"use strict";s("5dfe")}}]);