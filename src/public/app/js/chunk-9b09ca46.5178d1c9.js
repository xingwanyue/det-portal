(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-9b09ca46"],{"1e0d":function(t,e,s){},"37d4":function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"index_page_correct"},[t.tips&&t.correctShowTips?e("div",{staticClass:"tips_top"},[e("span",[t._v(" "+t._s(t.tips)+" ")]),e("span",{on:{click:t.closeTipos}},[e("i",{staticClass:"el-icon-circle-close"})])]):t._e(),e("div",{staticClass:"tishi_card_wrapper"},[t.tishiShow?e("div",{class:[t.isMobile?"tishi_card tishi_card_mb":"tishi_card"]},[e("div",{staticClass:"left"},[e("div",{staticClass:"icon"},[e("el-image",{attrs:{src:t.tishi_icon}})],1),e("div",{staticClass:"font_out"},[e("div",{staticClass:"title"},[t._v(t._s(t.$t("correct.tips")))]),e("div",{staticClass:"tips"},[e("i18n",{attrs:{path:"correct.niyou"}},[e("span",{attrs:{place:"noReadNum"}},[t._v(t._s(t.noReadNum))])])],1)])]),e("div",{staticClass:"right"},[e("div",{staticClass:"icon_close",on:{click:t.closeTiShi}},[e("el-image",{attrs:{src:t.close_icon}})],1)])]):t._e()]),e("el-dialog",{attrs:{visible:t.delTKdialogVisible,title:t.$t("correct.shangchuok"),width:t.isMobile?"90vw":"30%","before-close":t.handledelTKClose},on:{"update:visible":function(e){t.delTKdialogVisible=e}},scopedSlots:t._u([{key:"footer",fn:function(){return[e("div",{staticClass:"del_footer"},[e("div",{staticClass:"quxiao_btn global_gray_btn_hover",on:{click:t.handledelTKClose}},[t._v(t._s(t.$t("correct.quxiao")))]),e("div",{staticClass:"del_btn global_red_btn_hover",on:{click:t.tkInDel}},[t._v(t._s(t.$t("correct.queding")))])])]},proxy:!0}])},[e("span",[t._v(t._s(t.$t("correct.bukehuifu")))])]),e("div",{staticClass:"top_report_num top_report_num_mb"},[e("i18n",{attrs:{path:"correct.yishengcheng"}},[e("span",{staticClass:"red_color",attrs:{place:"reportNum"}},[t._v(t._s(t.reportNum))])])],1),e("div",{staticClass:"search"},[e("div",{staticClass:"search_left"},[e("div",{staticClass:"one_select_out"},[e("el-select",{class:""+(t.piyueStatus?"isChecked":"nocheck"),attrs:{clearable:"",placeholder:t.$t("correct.pyzt")},on:{change:t.doSearch},model:{value:t.piyueStatus,callback:function(e){t.piyueStatus=e},expression:"piyueStatus"}},t._l(t.piyueStatusFilter,(function(t){return e("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1),e("div",{staticClass:"one_select_out"},[e("el-select",{class:""+(t.testType?"isChecked":"nocheck"),attrs:{clearable:"",placeholder:t.$t("correct.stlx")},on:{change:t.doSearch},model:{value:t.testType,callback:function(e){t.testType=e},expression:"testType"}},t._l(t.testTypeFilter,(function(t){return e("el-option",{key:t.key,attrs:{label:t.name,value:t.key}})})),1)],1)]),e("div",{class:t.isI18n?"search_right search_right_i18n":"search_right"},[e("div",{staticClass:"pc_show_reportnum"},[e("div",{staticClass:"top_report_num top_report_num_pc"},[e("i18n",{attrs:{path:"correct.yishengcheng"}},[e("span",{staticClass:"red_color",attrs:{place:"reportNum"}},[t._v(t._s(t.reportNum))])])],1)]),e("div",{staticClass:"search_right_input"},[e("el-input",{attrs:{clearable:"",placeholder:t.$t("correct.index")},on:{input:t.searchChange},model:{value:t.searchVal,callback:function(e){t.searchVal=e},expression:"searchVal"}},[e("div",{staticClass:"search_right_icon",attrs:{slot:"prefix"},slot:"prefix"},[e("el-image",{staticClass:"imgself",attrs:{src:t.fangDaJing}})],1)])],1)])]),t.loading?t._e():[t.haveCorrectResult?t._e():e("div",[t.searched?e("div",{staticClass:"empty_tips"},[e("div",[e("el-image",{staticClass:"empty_img",attrs:{src:t.emptyimg}})],1),e("div",{staticClass:"font"},[t._v(t._s(t.$t("correct.empty")))])]):e("div",{staticClass:"empty_out_new"},[e("div",{staticClass:"tips_font"},[t._v(t._s(t.$t("correct.notijiao")))]),e("div",{staticClass:"btns_out"},[e("div",{staticClass:"one_btn",on:{click:t.tikuClick}},[t._v(t._s(t.$t("correct.qulianxi")))]),e("div",{staticClass:"one_btn",on:{click:t.goMokao}},[t._v(t._s(t.$t("correct.qumokao")))])])])]),e("div",{class:t.isI18n?"content_new content_new_i18n":"content_new"},t._l(t.compositions,(function(t){return e("CorrectCard",{key:t.id,attrs:{item:t}})})),1)]],2)},c=[],o=(s("cfff"),s("b41b"),s("0c65"),s("2f20"),s("6058"),s("60bb")),a=s.n(o),r=s("5880"),n=s("f7f9"),l=s.n(n),d=s("ed08"),u=s("d722"),h=s("fa4c");const p=Object(u["Bb"])("image/correct/index/fangDaJing.svg"),_=Object(u["Bb"])("image/correct/index/add_icon.svg"),m=Object(u["Bb"])("image/correct/index/shili_icon.svg"),g=Object(u["Bb"])("image/correct/index/empty_icon.svg"),f=Object(u["Bb"])("image/correct/index/close_icon.svg"),v=Object(u["Bb"])("image/correct/index/tishi_icon.svg"),b=(Object(u["Bb"])("image/empty.svg"),Object(u["Bb"])("image/emptyi18n.svg"));var y={components:{CorrectCard:h["a"]},data(){return{isI18n:!0,emptyimg:b,fangDaJing:p,add_icon:_,shili_icon:m,empty_icon:g,close_icon:f,tishi_icon:v,searchVal:"",compositions:[],compositionsShiLi:[],searched:!1,loading:!0,noReadNum:0,tishiShow:!1,delTKdialogVisible:!1,delId:"",isMobile:!1,exampleReportData:{name:"",value:{}},reportNum:0,clickedClose:!1,searchChangeDebounced:a.a.debounce(this.doSearch,1e3),isLogin:!1,tips:"",piyueStatusFilter:[{label:this.$t("correct.correctStatus.0"),value:"0"},{label:this.$t("correct.correctStatus.1"),value:"1"},{label:this.$t("correct.correctStatus.2"),value:"2"},{label:this.$t("correct.correctStatus.3"),value:"3"}],piyueStatus:"",testTypeFilter:[],testType:"",page:1,pageSize:20,total:0}},computed:{correctShowTips(){const t=Object(d["i"])("correctShowTipsUserClicked");return"true"!==t&&this.$store.state.app.correctShowTips},haveCorrectResult(){const t=this.compositions.filter(t=>"1"!==t.example);return!!t.length},...Object(r["mapState"])({apptopics(t){const{app:{topics:e}}=t;return e},groups(t){const{app:{groups:e}}=t;return e}})},async mounted(){const{token:t,isFromWeapp:e}=this.$route.query;if(e)t?(await Object(d["r"])(t),this.weappHideDom(),this.isLogin=!0,this.init()):(localStorage.clear(),sessionStorage.clear(),this.init());else{const t=await Object(d["j"])();t&&(this.isLogin=!0,this.init())}document.querySelector(".el-main").addEventListener("scroll",this.handleScroll)},beforeDestroy(){document.querySelector(".el-main").removeEventListener("scroll",this.handleScroll)},methods:{dayjs:l.a,handleTsetTypeFilterList(){this.apptopics.forEach(t=>{1===t.correct&&this.testTypeFilter.push({name:t.name,key:t.key})})},async init(){await Promise.all([this.huoquList(),this.huoquExampleReport()]),this.loading=!1,this.huoqutTips(),this.handleTsetTypeFilterList(),Object(d["p"])("addNewId"),Object(d["p"])("ocrData"),Object(d["p"])("ocrDatatimu"),Object(d["p"])("ocrDatamyAnswer"),this.isMobile=document.documentElement.clientWidth<=768},async jump(t){this.$router.push(t)},weappHideDom(){Object(d["o"])()&&(document.querySelector(".pageHeader").style.display="none")},async huoqutTips(){const{err:t,data:{data:e=[]}}=await Object(u["F"])({key:"correctNotice"});t||e.length&&"0"!==e[0].status&&(this.tips=e[0].data)},async huoquExampleReport(){const{err:t,data:{reportNum:e=0}}=await Object(u["M"])();t||(this.reportNum=e)},async huoquList(){if(!this.isLogin)return void(this.loading=!1);const{err:t,data:{data:e,total:s}}=await Object(u["B"])(this.handargs());if(!t){this.total=s;const t=e;t.forEach(t=>{if(t.question){const e=this.apptopics.find(e=>e.key===t.question.key);t.topic=e;const s=this.groups.find(t=>t.key===e.group);t.group=s}}),this.compositions=t,this.doShowTihi()}this.loading=!1},doShowTihi(){const t=this.compositions.filter(t=>"2"===t.status),e=t.filter(t=>"1"!==t.read);this.noReadNum=e.length;const s=Object(d["i"])("tishiShow");"false"!==s&&this.noReadNum>0&&(this.tishiShow=!0)},closeTiShi(){this.tishiShow=!1,Object(d["q"])("tishiShow",!1)},handargs(){const t={keyword:this.searchVal,status:this.piyueStatus,key:this.testType,page:this.page,pageSize:this.pageSize};return a.a.keys(t).forEach(e=>{t[e]||delete t[e]}),this.searchVal||delete t.keyword,t},async doSearch(){if(this.isLogin){this.page=1;const{err:t,data:{data:e,total:s}}=await Object(u["B"])(this.handargs());if(!t){this.total=s;const t=e;t.forEach(t=>{if(t.question){const e=this.apptopics.find(e=>e.key===t.question.key);t.topic=e;const s=this.groups.find(t=>t.key===e.group);t.group=s}}),a.a.isEmpty(this.handargs())?this.compositions=t:this.compositions=t.filter(t=>"1"!==t.example)}a.a.isEmpty(this.handargs())?this.searched=!1:this.searched=!0}else this.$router.push("/login")},searchChange(){this.searchChangeDebounced()},delOneZuowen(t){this.delId=t,this.opendelTK()},handledelTKClose(){this.delTKdialogVisible=!1},opendelTK(){this.delTKdialogVisible=!0},async tkInDel(){this.delTKdialogVisible=!1;const{err:t}=await Object(u["nb"])({id:this.delId,status:"d"});t||this.huoquList()},closeTipos(){Object(d["q"])("correctShowTipsUserClicked",!0,!0),this.$store.commit("app/upState",{correctShowTips:!1})},goMokao(){Object(d["o"])()?window.wx.miniProgram.switchTab({url:"/pages/mokao/index"}):this.$router.push("/exam")},tikuClick(){Object(d["o"])()?window.wx.miniProgram.navigateTo({url:"/pages/topicforshuati/index?groupkey=5&key=6&type=1"}):this.$router.push({path:"/questions",query:{group:5,key:6}})},async handleScroll(){const t=document.querySelector(".el-main"),e=document.querySelector(".pageContent"),{scrollTop:s}=t,{scrollHeight:i}=e,{clientHeight:c}=t;if(s+c>=i){if(this.page*this.pageSize>this.total)return;this.page+=1;const{err:t,data:{data:e,total:s}}=await Object(u["B"])(this.handargs());if(!t){this.total=s;const t=e;t.forEach(t=>{if(t.question){const e=this.apptopics.find(e=>e.key===t.question.key);t.topic=e;const s=this.groups.find(t=>t.key===e.group);t.group=s}}),this.compositions=this.compositions.concat(t)}}}}},C=y,k=(s("d089"),s("c703"),s("3ccf"),s("643b")),S=Object(k["a"])(C,i,c,!1,null,"56fae1e0",null);e["default"]=S.exports},"3ccf":function(t,e,s){"use strict";s("1e0d")},"456d":function(t,e,s){},"970d":function(t,e,s){},"9d56":function(t,e,s){},aa0d:function(t,e,s){"use strict";s("9d56")},c703:function(t,e,s){"use strict";s("456d")},d089:function(t,e,s){"use strict";s("970d")},fa4c:function(t,e,s){"use strict";var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"one_correct_card",on:{click:t.goCorrectReport}},[e("div",{staticClass:"one_correct_card_title"},[t.item.topic?e("div",{staticClass:"one_correct_card_title_font"},[t._v(" "+t._s(t.item.topic.name)+" #"+t._s(t.item.question.id)+" ")]):t._e(),e("div",{staticClass:"one_correct_card_title_right_zw"})]),t.item.question?e("div",{staticClass:"one_correct_card_bq_out"},[e("div",{class:"one_tag diff difficulty"+t.item.question.difficulty},[t._v(" "+t._s(t.$t("wordBook.difficulty"+(t.item.question.difficulty||"1")))+" ("+t._s(t.difficultyName(t.item.question.difficulty||"1"))+") ")]),t.item.question.meetcount?e("div",{staticClass:"one_tag testnum"},[t._v(" "+t._s(t.$t("questions.meetCount",{num:t.item.question.meetcount}))+" ")]):t._e()]):t._e(),e("div",{staticClass:"one_correct_card_bottom"},[e("div",{staticClass:"one_correct_card_bottom_time"},[e("span",{directives:[{name:"show",rawName:"v-show",value:"1"!==t.item.example,expression:"item.example !== '1'"}]},[t._v(" "+t._s(t.dayjs(t.item.submitTime||t.item.createTime).format("YYYY-MM-DD HH:mm")))])]),"1"!==t.item.status?e("div",{staticClass:"one_correct_card_bottom_status"},[e("div",{staticClass:"correct_status_icon"},["0"===t.item.status?e("el-image",{staticClass:"img_self",attrs:{src:t.correctingIcon}}):t._e(),"1"===t.item.status?e("el-image",{staticClass:"img_self",attrs:{src:t.correctedIcon}}):t._e(),"2"===t.item.status?e("el-image",{staticClass:"img_self",attrs:{src:t.feedbackingIcon}}):t._e(),"3"===t.item.status?e("el-image",{staticClass:"img_self",attrs:{src:t.correctedIcon}}):t._e()],1),e("div",{staticClass:"correct_status_font"},["0"===t.item.status?e("span",[t._v(t._s(t.$t("correct.correctStatus.0")))]):t._e(),"1"===t.item.status?e("span",[t._v(t._s(t.$t("correct.correctStatus.1")))]):t._e(),"2"===t.item.status?e("span",[t._v(t._s(t.$t("correct.correctStatus.2")))]):t._e(),"3"===t.item.status?e("span",[t._v(t._s(t.$t("correct.correctStatus.3")))]):t._e()])]):t._e()]),e("div",{staticClass:"fixed_score"},[t.shouldShowScore()?e("div",{staticClass:"one_correct_card_bottom_score"},[t._v(" "+t._s(t.handleScore())),e("span",{staticClass:"one_correct_card_bottom_score_font"},[t._v(t._s(t.$t("commonCorrectCard.fen")))])]):t._e()]),"1"===t.item.example?e("div",{class:t.isI18n?"shili_icon shili_icon_small":"shili_icon"},[t._v(" "+t._s(t.$t("correctReport.shili"))+" ")]):t._e()])},c=[],o=(s("cfff"),s("b41b"),s("2f20"),s("5880")),a=s("f7f9"),r=s.n(a),n=s("d722");const l=Object(n["Bb"])("image/correct/index/corrected.svg"),d=Object(n["Bb"])("image/correct/index/correcting.svg"),u=Object(n["Bb"])("image/correct/index/feedbacking.svg");var h={props:{item:Object},data(){return{correctedIcon:l,correctingIcon:d,feedbackingIcon:u,isI18n:!0}},computed:{...Object(o["mapState"])({difficulties(t){const{question:{difficulties:e}}=t;return e}})},mounted(){},methods:{dayjs:r.a,difficultyName(t){if(t){const{name:e}=this.difficulties.find(e=>e.code===t)||{};return e}return""},shouldShowScore(){const{status:t}=this.item;return"2"!==t&&"0"!==t},handleScore(){const{score:t,score2:e}=this.item;return e?5*Math.round((5*Number(t)+3*Number(e))/8/5):t},goCorrectReport(){console.log(this.item);const{status:t,example:e="0",ver:s="2",isReport:i}=this.item;"0"!==t&&("2"!==s?this.$router.push("/correct/correctReportOld?id="+this.item.id):this.$router.push(`/correct/correctReport?id=${this.item.id}&example=${e}&isReport=${i}`))}}},p=h,_=(s("aa0d"),s("643b")),m=Object(_["a"])(p,i,c,!1,null,"46a2b005",null);e["a"]=m.exports}}]);