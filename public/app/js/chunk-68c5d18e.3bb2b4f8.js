(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-68c5d18e"],{"1e01":function(t,s,e){"use strict";e("be74")},"20c5":function(t,s,e){"use strict";e.r(s);var a=function(){var t=this,s=t._self._c;return s("div",{class:""+(t.isWeapp?"defen-weapp":"")},[s("div",{class:t.isI18n?"defen defen_i18n":"defen"},[s("div",{staticClass:"yellow_block"},[s("div",{staticClass:"yellow_block_top"},[s("div",{staticClass:"left_title"},[t._v(t._s(t.$t("plan.mockgf")))]),s("div",{staticClass:"right_icon"},[s("el-image",{staticClass:"l-img",attrs:{src:t.mocksy}})],1)]),s("div",{staticClass:"list mokao",on:{click:function(s){return t.goMk()}}},[s("div",{staticClass:"l-left"},[s("el-image",{staticClass:"l-img",attrs:{src:t.mokaoIcon}}),s("div",{staticClass:"l-con"},[s("div",{staticClass:"l-title"},[t._v(t._s(t.$t("plan.mk")))]),s("div",{staticClass:"l-desc"},[t._v(t._s(t.$t("plan.mkdesc")))])])],1),s("div",{staticClass:"mokao-btn"},[t._v(t._s(t.$t("plan.goMk")))])])]),s("div",{staticClass:"blue_block"},[s("div",{staticClass:"blue_block_top"},[s("div",{staticClass:"left_title"},[t._v(t._s(t.$t("plan.prgf")))]),s("div",{staticClass:"right_icon"},[s("el-image",{staticClass:"l-img",attrs:{src:t.practsy}})],1)]),t._l(t.defenList,(function(e,a){return s("div",{key:a,staticClass:"list",on:{click:function(s){return t.goLianxi(e)}}},[s("div",{staticClass:"l-left"},[s("el-image",{staticClass:"l-img",attrs:{src:e.user>=e.total?t.checkedImg:t.nocheckImg}}),s("div",{staticClass:"l-con"},[s("div",{staticClass:"l-title"},[t._v(t._s(e.name)+"（"+t._s(e.user||0)+"/"+t._s(e.total)+"）")]),s("div",{staticClass:"l-desc"},[1===e.correct?s("i18n",{attrs:{path:"plan.pigaiDesc",tag:"span"}},[s("span",{attrs:{place:"total"}},[t._v(t._s(e.total)+" ")])]):s("i18n",{attrs:{path:"plan.lianxiDesc",tag:"span"}},[s("span",{attrs:{place:"total"}},[t._v(t._s(e.total)+" ")])])],1)])],1),[e.user?s("div",{staticClass:"jixu-btn"},[t._v(t._s(1===e.correct?t.$t("plan.jixuPg"):t.$t("plan.jixuLx")))]):s("div",{staticClass:"go-btn"},[t._v(t._s(1===e.correct?t.$t("plan.goPg"):t.$t("plan.goWc")))])]],2)}))],2)])])},i=[],n=(e("cfff"),e("b41b"),e("2f20"),e("5880")),l=e("60bb"),r=e.n(l),c=e("ed08"),o=e("d722");const u=Object(o["Bb"])("menu/exam.svg"),d=Object(o["Cb"])("plan/defen_checked.svg"),p=Object(o["Cb"])("plan/defen_nocheck.svg"),h=Object(o["Cb"])("plan/mock_shuiyin.svg"),_=Object(o["Cb"])("plan/practice_shuiyin.svg");var g={data(){return{mokaoIcon:u,practsy:_,mocksy:h,checkedImg:d,nocheckImg:p,isWeapp:Object(c["o"])(),defenList:[],isI18n:!0}},computed:{...Object(n["mapState"])({keys(t){const{zhinengPlanData:{keys:s}={}}=t.app;return s},topics(t){const{topics:s}=t.app;return s},app(t){return t.app}})},watch:{keys:{handler(){this.getYudefen()},deep:!0},topics:{handler(){this.getYudefen()},deep:!0}},async mounted(){const{token:t,isFromWeapp:s}=this.$route.query;s&&(t?await Object(c["r"])(t):(localStorage.clear(),sessionStorage.clear()))},created(){const{isFromWeapp:t}=this.$route.query;t?this.getYudefen1():this.getYudefen()},methods:{async getYudefen1(){0===this.defenList.length&&setTimeout(()=>{this.getYudefen()},2e3)},async getYudefen(){const{data:t,err:s}=await Object(o["gb"])({});if(s)return;const{topics:e}=this.app,a=r.a.keys(t),i=[];r.a.each(a,s=>{const{name:a,group:n}=r.a.find(e,{key:s})||{};i.push({name:a,group:n,key:s,...t[s]||{}})}),this.defenList=i},goMk(){Object(c["o"])()?window.wx.miniProgram.switchTab({url:"/pages/mokao/index"}):this.$router.push("/exam")},goLianxi(t){Object(c["o"])()?window.wx.miniProgram.navigateTo({url:`/pages/topicforshuati/index?key=${t.key}&type=1&groupkey=${t.group}`}):this.$router.push({path:"/questions",query:{group:t.group,key:t.key}})}}},m=g,v=(e("a642"),e("643b")),y=Object(v["a"])(m,a,i,!1,null,null,null);s["default"]=y.exports},"4fe5":function(t,s,e){},"51d1":function(t,s,e){"use strict";e("74b3")},"5b61":function(t,s,e){"use strict";var a=function(){var t=this,s=t._self._c;return s("el-dialog",{staticClass:"targetEditDialog_common",attrs:{title:t.$t("home.changeplan"),visible:t.show,"before-close":t.closeTargetTK,center:"","append-to-body":""},on:{"update:visible":function(s){t.show=s}}},[t.isI18n?[s("el-form",{ref:"form",attrs:{"label-position":"right","label-width":"10px"}},[s("div",{staticClass:"caozuo_content caozuo_content_i18n"},[s("el-form-item",[s("div",{staticClass:"hack_i18n_title"},[t._v(t._s(t.$t("home.mrsc")))]),s("el-select",{model:{value:t.targetHour,callback:function(s){t.targetHour=s},expression:"targetHour"}},t._l(t.targetHourOptions,(function(t){return s("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1),s("el-form-item",[s("div",{staticClass:"hack_i18n_title"},[t._v(t._s(t.$t("home.mrtm")))]),s("div",{staticClass:"test_type_out"},t._l(t.testTypeList,(function(e){return s("div",{key:e.key,class:t.selectTypeUiIsShow(e)?" one_test_type one_test_type_selected":"one_test_type",on:{click:function(s){return t.clicktestType(e)}}},[t._v(" "+t._s(e.name)+" "),t.selectTypeUiIsShow(e)?s("div",{staticClass:"check_icon"},[s("img",{staticClass:"img_self",attrs:{src:t.test_type_check_icon}})]):t._e()])})),0)]),s("el-form-item",[s("div",{staticClass:"hack_i18n_title"},[t._v(t._s(t.$t("makeplan.stsl")))]),s("div",{staticClass:"yugutips"},[t._v(t._s(t.$t("makeplan.youcanc")))]),s("div",{staticClass:"plantest_out"},t._l(t.plantestData,(function(e){return s("div",{key:e.key,staticClass:"one_plan_test"},[s("div",{staticClass:"left_name"},[t._v(t._s(e.name))]),s("div",{staticClass:"add_del_out"},[s("div",{staticClass:"del_btn",on:{click:()=>{1!==e.plantestnum&&e.plantestnum--}}},[t._v(" - ")]),s("div",{staticClass:"num_btn"},[t._v(t._s(e.plantestnum))]),s("div",{staticClass:"add_btn",on:{click:()=>{e.plantestnum>=e.maxNum||e.plantestnum++}}},[t._v(" + ")])])])})),0)])],1),s("el-form-item",[s("div",{staticClass:"bottom_btn bottom_btn_i18n"},[s("div",{staticClass:"change_tips_font"},[t._v(t._s(t.$t("makeplan.changetips")))]),s("div",{staticClass:"flex_right"},[s("el-button",{staticClass:"del_btn",on:{click:t.closeTargetTK}},[t._v(t._s(t.$t("home.tkqx")))]),s("el-button",{attrs:{type:"primary",loading:t.SubmitTargetLoading},on:{click:t.onSubmitTarget}},[t._v(" "+t._s(t.$t("home.tkqueren"))+" ")])],1)])])],1)]:[s("el-form",{ref:"form",attrs:{"label-position":"right","label-width":"100px"}},[s("div",{staticClass:"caozuo_content"},[s("el-form-item",{attrs:{label:t.$t("home.mrsc")}},[s("el-select",{model:{value:t.targetHour,callback:function(s){t.targetHour=s},expression:"targetHour"}},t._l(t.targetHourOptions,(function(t){return s("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1),s("el-form-item",{attrs:{label:t.$t("home.mrtm")}},[s("div",{staticClass:"test_type_out"},t._l(t.testTypeList,(function(e){return s("div",{key:e.key,class:t.selectTypeUiIsShow(e)?" one_test_type one_test_type_selected":"one_test_type",on:{click:function(s){return t.clicktestType(e)}}},[t._v(" "+t._s(e.name)+" "),t.selectTypeUiIsShow(e)?s("div",{staticClass:"check_icon"},[s("img",{staticClass:"img_self",attrs:{src:t.test_type_check_icon}})]):t._e()])})),0)]),s("el-form-item",{attrs:{label:t.$t("makeplan.stsl")}},[s("div",{staticClass:"yugutips"},[t._v(t._s(t.$t("makeplan.youcanc")))]),s("div",{staticClass:"plantest_out"},t._l(t.plantestData,(function(e){return s("div",{key:e.key,staticClass:"one_plan_test"},[s("div",{staticClass:"left_name"},[t._v(t._s(e.name))]),s("div",{staticClass:"add_del_out"},[s("div",{staticClass:"del_btn",on:{click:()=>{1!==e.plantestnum&&e.plantestnum--}}},[t._v(" - ")]),s("div",{staticClass:"num_btn"},[t._v(t._s(e.plantestnum))]),s("div",{staticClass:"add_btn",on:{click:()=>{e.plantestnum>e.maxNum||e.plantestnum++}}},[t._v(" + ")])])])})),0)])],1),s("el-form-item",[s("div",{staticClass:"bottom_btn"},[s("div",{staticClass:"change_tips_font"},[t._v(t._s(t.$t("makeplan.changetips")))]),s("div",[s("el-button",{staticClass:"del_btn",on:{click:t.closeTargetTK}},[t._v(t._s(t.$t("home.tkqx")))]),s("el-button",{attrs:{type:"primary",loading:t.SubmitTargetLoading},on:{click:t.onSubmitTarget}},[t._v(t._s(t.$t("home.tkqueren")))])],1)])])],1)]],2)},i=[],n=(e("cfff"),e("b41b"),e("0c65"),e("2f20"),e("6058"),e("5880")),l=e("60bb"),r=e.n(l),c=e("d722");const o=Object(c["Bb"])("image/makeplan/test_type_check_icon.svg");var u={props:{show:{type:Boolean,default:!1}},data(){return{staticUrlGet:c["Cb"],test_type_check_icon:o,targetTKopen:!1,targetHour:1,targetHourOptions:[{value:1,label:"1h"},{value:2,label:"2h"},{value:3,label:"3h"},{value:4,label:"4h"},{value:5,label:"5h"},{value:6,label:"6h"},{value:7,label:"7h"},{value:8,label:"8h"},{value:9,label:"9h"},{value:10,label:"10h"}],selectTypeList:[],SubmitTargetLoading:!1,yuguresult:{},plantestData:[],isI18n:!0}},computed:{...Object(n["mapState"])({target(t){const{app:{target:s,groups:e,topics:a}}=t,i=[],{hour:n=1,keys:l=""}=s;if(this.targetHour=n,l)this.selectTypeList=l.split(",");else{e.forEach(t=>{const s=a.filter(s=>s.group===t.key).filter(t=>"0"!==t.status);i.push(...s)});const t=[];i.forEach(s=>{t.push(s.key)}),this.selectTypeList=t}return s},testTypeList(t){const s=[],{app:{groups:e,topics:a}}=t;return e.forEach(t=>{const e=a.filter(s=>s.group===t.key).filter(t=>"0"!==t.status);s.push(...e)}),s},topics(t){const{app:{topics:s}}=t;return s.filter(t=>"0"!==t.status)}})},watch:{target(){},testTypeList(){},selectTypeList(){this.getTestDetail()},targetHour(){this.getTestDetail()}},mounted(){if(this.target.nums){const t=JSON.parse(this.target.nums);this.plantestData=this.objtoarr(t)}else this.getTestDetail()},methods:{clicktestType(t){const{key:s}=t;if(this.selectTypeList.includes(s)){if(1===this.selectTypeList.length)return void this.$message.error(this.$t("home.lastone"));this.selectTypeList=this.selectTypeList.filter(t=>t!==s)}else this.selectTypeList.push(s)},selectTypeUiIsShow(t){const{key:s}=t;return this.selectTypeList.includes(s)},closeTargetTK(){this.$emit("closeself")},arrtoobj(t){const s={};return t.forEach(t=>{s[t.key]=t.plantestnum}),s},objtoarr(t){const s=[];r.a.each(t,(t,e)=>{const a=this.topics.find(t=>t.key===e);a&&s.push({...a,plantestnum:t})});const e=[];return this.testTypeList.forEach(t=>{const a=s.find(s=>s.key===t.key);a&&e.push({...a,maxNum:t.total})}),e},async onSubmitTarget(){0!==this.selectTypeList.length?(this.SubmitTargetLoading=!0,await Object(c["Hb"])({hour:this.targetHour,keys:this.selectTypeList.join(","),nums:JSON.stringify(this.arrtoobj(this.plantestData))}),await this.$store.dispatch("app/getUserInfo"),this.SubmitTargetLoading=!1,this.closeTargetTK()):this.$message.error(this.$t("home.pleaseSelect"))},async getTestDetail(){const{data:t,err:s}=await Object(c["L"])({hour:this.targetHour,keys:this.selectTypeList.join(",")});s?this.$message.error(s):this.plantestData=this.objtoarr(t)}}},d=u,p=(e("f724"),e("643b")),h=Object(p["a"])(d,a,i,!1,null,null,null);s["a"]=h.exports},6405:function(t,s,e){},"74b3":function(t,s,e){},a642:function(t,s,e){"use strict";e("d0c6")},be74:function(t,s,e){},d0c6:function(t,s,e){},da03:function(t,s,e){"use strict";e("4fe5")},eef6:function(t,s,e){"use strict";e.r(s);e("cfff");var a=function(){var t=this,s=t._self._c;return s("div",{staticClass:"plan"},[s("el-button",{staticClass:"back",attrs:{type:"default",icon:"el-icon-arrow-left"},on:{click:function(s){return t.$router.push("/home")}}},[t._v(" "+t._s(t.$t("home.znPlan"))+" ")]),s("div",{staticClass:"new_plan_out"},[s("div",{class:t.isWeapp?"new_plan_left new_plan_left_noradio":"new_plan_left"},[s("div",{staticClass:"new_plan_left_top"},[s("div",{staticClass:"user_out"},[s("div",{staticClass:"user_avata"},[s("el-image",{staticClass:"avatar",attrs:{ondragstart:"return false;",oncontextmenu:"return false;",src:t.avatarUrl(t.user.avatar,t.user.avaChange)}})],1),s("div",{staticClass:"user_font"},[s("div",{staticClass:"user_name"},[t._v(t._s(t.$t("plan.nihao"))+t._s(t.user.nickname))]),s("div",{staticClass:"tips"},[t._v(t._s(t.$t("plan.yixia")))])])]),s("div",{staticClass:"two_out"},[s("div",{staticClass:"one_ss"},[s("div",{staticClass:"one_ss_icon"},[s("img",{attrs:{src:t.tx}})]),s("div",{staticClass:"one_ss_num"},[t.target.keys?s("div",{staticClass:"num"},[t._v(t._s(t.target.keys.split(",").length||0))]):s("div",{staticClass:"num"},[t._v("0")]),s("div",{staticClass:"fffont"},[t._v(t._s(t.$t("plan.lxtx")))])])]),s("div",{staticClass:"one_ss"},[s("div",{staticClass:"one_ss_icon"},[s("img",{attrs:{src:t.hour_icon}})]),s("div",{staticClass:"one_ss_num"},[s("div",{staticClass:"num"},[t._v(t._s(t.target.hour||0)+"h")]),s("div",{staticClass:"fffont"},[t._v(t._s(t.$t("plan.mrsc")))])])])]),s("div",{staticClass:"change_out",on:{click:t.openchanegplantk}},[s("div",{staticClass:"icon"},[s("img",{attrs:{src:t.edit_icon}})]),s("div",{staticClass:"font_c"},[t._v(t._s(t.$t("plan.xgjh")))])])]),s("div",{staticClass:"calendar_wrapper"},[s("calendar",{on:{change:t.monthchange,getcurrentday:t.getcurrentday}})],1)]),s("div",{staticClass:"new_plan_right"},[s("div",{staticClass:"new_plan_right_top"},[!1===t.showHistory||t.currentDayId===t.currenthistoryData.id?s("div",{staticClass:"new_plan_right_title"},[t._v(" "+t._s(t.$t("plan.jrjh"))+" ")]):s("div",{staticClass:"new_plan_right_title"},[s("i18n",{attrs:{path:"plan.witchDayPlan",tag:"span"}},[s("span",{staticClass:"left-score",attrs:{place:"times"}},[t._v(" "+t._s(t.witchDayPlan.slice(0,4))+"."+t._s(Number(t.witchDayPlan.slice(4,6)))+"."+t._s(Number(t.witchDayPlan.slice(6,8)))+" ")])])],1),s("div",{staticClass:"history",on:{click:t.opencalendartk}},[s("div",{staticClass:"icon_his"},[s("img",{attrs:{src:t.his_icon}})]),s("div",{staticClass:"font_his"},[t._v(t._s(t.$t("plan.lsjl")))])])]),s("div",{staticClass:"three_out"},[s("div",{staticClass:"one_shuju one_shuju_blue"},[s("div",{staticClass:"one_shuju_left"},[s("img",{attrs:{src:t.julx}})]),s("div",{staticClass:"one_shuju_right"},[!1===t.showHistory?s("div",{staticClass:"num"},[t._v(t._s(t.addKeyNumber(t.zhinengPlanData.qids)))]):s("div",{staticClass:"num"},[t._v(t._s(t.addKeyNumber(t.currenthistoryData.nums)))]),s("div",{staticClass:"font"},[t._v(t._s(t.$t("plan.jhlx")))])])]),s("div",{staticClass:"one_shuju one_shuju_green"},[s("div",{staticClass:"one_shuju_left"},[s("img",{attrs:{src:t.ylx}})]),s("div",{staticClass:"one_shuju_right"},[!1===t.showHistory?s("div",{staticClass:"num"},[t._v(t._s(t.addKeyNumber(t.zhinengPlanData.answeredQids)))]):s("div",{staticClass:"num"},[t._v(t._s(t.addKeyNumber(t.currenthistoryData.answeredNums)))]),s("div",{staticClass:"font"},[t._v(t._s(t.$t("plan.yilianxi")))])])]),s("div",{staticClass:"one_shuju one_shuju_yellow"},[s("div",{staticClass:"one_shuju_left"},[s("img",{attrs:{src:t.lxjd}})]),s("div",{staticClass:"one_shuju_right"},[!1===t.showHistory?s("div",{staticClass:"num"},[t._v(" "+t._s((t.addKeyNumber(t.zhinengPlanData.answeredQids)/t.addKeyNumber(t.zhinengPlanData.qids)*100).toFixed(1))+"% ")]):s("div",{staticClass:"num"},[t._v(" "+t._s((t.addKeyNumber(t.currenthistoryData.answeredNums)/t.addKeyNumber(t.currenthistoryData.nums)*100).toFixed(1))+"% ")]),s("div",{staticClass:"font"},[t._v(t._s(t.$t("plan.lxjd")))])])])]),s("div",{staticClass:"plan-con"},[s("div",{staticClass:"sx-con"},[s("div",{staticClass:"sx1"},[s("div",{class:"sx-list "+(t.groupKey?"":"active"),on:{click:function(s){t.groupKey=""}}},[s("div",{staticClass:"sx-name"},[t._v(t._s(t.$t("filter.all")))]),t.groupKey?t._e():s("div",{staticClass:"line"})]),t._l(t.sxList,(function(e,a){return s("div",{key:a,class:"sx-list "+(t.groupKey===e.key?"active":""),on:{click:function(s){t.groupKey=e.key}}},[s("div",{staticClass:"sx-name"},[t._v(t._s(e.name))]),t.groupKey===e.key?s("div",{staticClass:"line"}):t._e()])}))],2)]),t.planList.length?[s("div",{class:t.isI18n?"l-con-list l-con-list-i18n":"l-con-list"},[!1===t.showHistory||t.currentDayId===t.currenthistoryData.id?t._l(t.planList,(function(e,a){return s("div",{key:a,staticClass:"l-list",on:{click:function(s){return t.tikuClick(e)}}},[s("div",{staticClass:"l-list1"},[s("el-image",{staticClass:"l-Img",attrs:{src:t.staticUrlGet(e.icon)}}),s("div",{staticClass:"m_con"},[s("div",{staticClass:"l-name"},[t._v(t._s(e.name))]),s("div",{staticClass:"progress_out"},[s("div",{staticClass:"left"},[s("el-progress",{attrs:{"stroke-width":10,percentage:t.zhinengPlanData.answeredQids[e.key]?100*t.zhinengPlanData.answeredQids[e.key]/t.zhinengPlanData.qids[e.key]:0,"show-text":!1,color:"#f66442"}})],1),s("div",{staticClass:"right"},[s("span",{staticClass:"yellow"},[t._v(t._s(t.zhinengPlanData.answeredQids[e.key]||0))]),s("span",{staticClass:"gang"},[t._v("/")]),t._v(t._s(t.zhinengPlanData.qids[e.key])+" ")])])]),s("div",{staticClass:"lianxi-btn"},[t._v(t._s(t.$t("plan.lianxi")))])],1)])})):t._l(t.planListHistory,(function(e,a){return s("div",{key:a,staticClass:"l-list l_list_nohover"},[s("div",{staticClass:"l-list1"},[s("el-image",{staticClass:"l-Img",attrs:{src:t.staticUrlGet(e.icon)}}),s("div",{staticClass:"m_con"},[s("div",{staticClass:"l-name"},[t._v(t._s(e.name))]),s("div",{staticClass:"progress_out"},[s("div",{staticClass:"left"},[s("el-progress",{attrs:{"stroke-width":10,percentage:t.currenthistoryData.answeredNums[e.key]?100*t.currenthistoryData.answeredNums[e.key]/t.currenthistoryData.nums[e.key]:0,"show-text":!1,color:"#f66442"}})],1),s("div",{staticClass:"right"},[s("span",{staticClass:"yellow"},[t._v(t._s(t.currenthistoryData.answeredNums[e.key]||0))]),s("span",{staticClass:"gang"},[t._v("/")]),t._v(t._s(t.currenthistoryData.nums[e.key])+" ")])])])],1)])}))],2)]:[s("div",{staticClass:"empty_tips"},[s("div",[s("el-image",{staticClass:"empty_img",attrs:{src:t.emptyimg}})],1),s("div",{staticClass:"font"},[t._v(t._s(t.$t("home.noQuestions")))])])]],2)])]),s("el-drawer",{attrs:{title:t.$t("studyCenter.yugudefen"),visible:t.drawerVisible,direction:"rtl","before-close":t.handleClose},on:{"update:visible":function(s){t.drawerVisible=s}}},[s("defen")],1),t.changePlanTkShow?[s("planchangeTK",{attrs:{show:t.changePlanTkShow},on:{closeself:t.closeplanchangetk}})]:t._e(),s("div",{directives:[{name:"show",rawName:"v-show",value:t.mobilecalendarshow,expression:"mobilecalendarshow"}],staticClass:"calendar_wrapper_bottom",on:{click:t.closecalendartk}},[s("div",{staticClass:"cal_self",on:{click:function(t){t.stopPropagation()}}},[s("calendar",{on:{change:t.monthchange,getcurrentday:t.getcurrentday}})],1)])],2)},i=[],n=(e("b41b"),e("0c65"),e("2f20"),e("6058"),e("5880")),l=e("f7f9"),r=e.n(l),c=e("60bb"),o=e.n(c),u=e("ed08"),d=e("d722"),p=e("20c5"),h=function(){var t=this,s=t._self._c;return s("div",{staticClass:"calendar_out"},[s("div",{staticClass:"calendar_top"},[s("div",{staticClass:"current_time"},[t._v(t._s(t.currentYear)+"."+t._s(t.currentMonth))]),s("div",{staticClass:"arrow_out"},[s("div",{staticClass:"left_arrow",on:{click:t.prevMonth}},[s("i",{staticClass:"el-icon-arrow-left"})]),s("div",{staticClass:"right_arrow",on:{click:t.nextMonth}},[s("i",{staticClass:"el-icon-arrow-right"})])])]),s("div",{staticClass:"calendar_content"},[s("div",{staticClass:"calendar_title_out"},t._l([t.$t("plan.zr"),t.$t("plan.z1"),t.$t("plan.z2"),t.$t("plan.z3"),t.$t("plan.z4"),t.$t("plan.z5"),t.$t("plan.z6")],(function(e,a){return s("div",{key:a,staticClass:"one_day"},[t._v(" "+t._s(e)+" ")])})),0),s("div",{staticClass:"calendar_number_out"},t._l(t.calendar,(function(e,a){return s("div",{key:a+"aa",on:{click:function(s){return t.changetime(e)}}},[e.id===t.correntDayId?s("span",{staticClass:"one_num one_num_current_day"},[t._v(t._s(e.displayDay))]):[e.haveTest?s("span",{staticClass:"one_num one_num_have_test"},[t._v(t._s(e.displayDay))]):s("span",{staticClass:"one_num"},[t._v(t._s(e.displayDay))])]],2)})),0)])])},_=[],g={props:{},data(){return{calendarTitle:["周日","周一","周二","周三","周四","周五","周六"],calendar:[],pianyi:0,currentYear:0,currentMonth:0,currentDay:0,correntDayId:"",jkdata:[]}},mounted(){this.calendar=this.generateCalendar(),this.correntDayId=`${this.currentYear}${this.currentMonth}${this.currentDay}`,this.$emit("getcurrentday",this.correntDayId),this.gethistoreyDay({month:`${this.currentYear}-${this.currentMonth}`})},methods:{async gethistoreyDay(t){const{data:s,err:e}=await Object(d["Q"])(t);e?this.$message.error(e):(this.jkdata=s,this.mixJkdataAndCalendar())},mixJkdataAndCalendar(){this.calendar.forEach(t=>{const s=this.jkdata.find(s=>s.date===t.id);s&&(this.$set(t,"haveTest",!0),this.$set(t,"testData",s))})},generateCalendar(t=0,s=0){const e=new Date,a=e.getFullYear(),i=e.getMonth()+1,n=i+t+s,l=new Date(a,n-1),r=l.getFullYear(),c=l.getMonth(),o=(c+1).toString().padStart(2,"0");this.currentYear=r,this.currentMonth=o,this.currentDay=e.getDate().toString().padStart(2,"0");const u=new Date(r,c+1,0).getDate(),d=new Date(r,c,1).getDay(),p=new Date(r,c+1,0).getDay(),h=[];for(let _=0;_<d;_++)h.push({day:"",isCurrentMonth:!1});for(let _=1;_<=u;_++){const t=_.toString().padStart(2,"0");h.push({day:t,displayDay:_.toString(),id:`${r}${o}${t}`,isCurrentMonth:!0})}for(let _=0;_<6-p;_++)h.push({day:"",isCurrentMonth:!1});return h},async prevMonth(){this.pianyi--,this.calendar=this.generateCalendar(this.pianyi),await this.gethistoreyDay({month:`${this.currentYear}-${this.currentMonth}`})},async nextMonth(){this.pianyi++,this.calendar=this.generateCalendar(this.pianyi),await this.gethistoreyDay({month:`${this.currentYear}-${this.currentMonth}`})},changetime(t){t.haveTest&&(this.correntDayId=t.id,this.$emit("change",t))}}},m=g,v=(e("51d1"),e("643b")),y=Object(v["a"])(m,h,_,!1,null,"2879bb3a",null),f=y.exports,b=e("5b61");const C=Object(d["Bb"])("image/weapp.jpg"),k=(Object(d["Bb"])("image/empty.svg"),Object(d["Bb"])("image/emptyi18n.svg")),w=Object(d["Bb"])("image/home/tips_icon_gray.svg"),$=Object(d["Bb"])("menu/exam.svg"),j=Object(d["Bb"])("image/vip/check.svg"),D=Object(d["Bb"])("image/makeplan/edit_icon.svg"),x=Object(d["Bb"])("image/makeplan/hour_icon.svg"),T=Object(d["Bb"])("image/makeplan/julx.svg"),O=Object(d["Bb"])("image/makeplan/lxjd.svg"),S=Object(d["Bb"])("image/makeplan/tx.svg"),L=Object(d["Bb"])("image/makeplan/ylx.svg"),I=Object(d["Bb"])("image/makeplan/history_icon.svg");var P={components:{defen:p["default"],calendar:f,planchangeTK:b["a"]},data(){return{edit_icon:D,hour_icon:x,julx:T,lxjd:O,his_icon:I,tx:S,ylx:L,avatarUrl:d["e"],emptyimg:k,weappImg:C,tipsIcon:w,staticUrlGet:d["Cb"],mokaoIcon:$,checkedImg:j,processenv:"i18n",groupKey:"",learnData:{},drawerVisible:!1,learnScore:"",isWeapp:Object(u["o"])(),isI18n:!0,changePlanTkShow:!1,showHistory:!1,currenthistoryData:{},currentDayId:"",mobilecalendarshow:!1,witchDayPlan:""}},computed:{showtimes(){return this.$route.query.showtimes},...Object(n["mapState"])({target(t){const{app:{target:s}}=t;return s},user(t){const{app:{user:s}}=t;return s},zhinengPlanData(t){const{app:{zhinengPlanData:s={}}}=t;return s},aciiveIsPlan(){return this.target.score&&r()(this.target.planTime).isAfter(r()())},sxList(t){const{app:{groups:s}}=t;return s},topics(t){const{app:{topics:s}}=t;return s},planList(t){const s=[],{app:{groups:e,topics:a,zhinengPlanData:{recommendNum:i,keys:n}={}}}=t;e.forEach(t=>{const e=a.filter(s=>s.group===t.key).filter(t=>"0"!==t.status);s.push(...e)});const l=[];o.a.each(o.a.filter(n,t=>"nn"!==t),t=>{const s=o.a.find(a,{key:t});s&&l.push({...s,add:(i[t]||{}).add||0,delete:(i[t]||{}).delete||0,total1:(i[t]||{}).total||0})});let r=[];r=this.groupKey?o.a.filter(l,t=>t.group===this.groupKey):o.a.filter(l,t=>o.a.find(e,{key:t.group}));const c=s.map(({key:t})=>t);return r=o.a.sortBy(r,t=>c.indexOf(t.key)),r},planListHistory(t){const{nums:s}=this.currenthistoryData;if(!s)return;const e=Object.keys(s),{app:{groups:a,topics:i}}=t,n=[];o.a.each(o.a.filter(e,t=>"nn"!==t),t=>{const s=o.a.find(i,{key:t});s&&n.push({...s})});let l=[];return l=this.groupKey?o.a.filter(n,t=>t.group===this.groupKey):o.a.filter(n,t=>o.a.find(a,{key:t.group})),l}}),isMobile(){return this.$store.state.app.isMobile},restTime(){return r()(this.target.planTime).diff(r()(),"days")+1}},watch:{showtimes(){this.$store.dispatch("app/getUserInfo"),this.init()}},async mounted(){const{token:t,isFromWeapp:s}=this.$route.query;if(s){const s=document.querySelector(".pageContent");s&&(s.style.padding="0"),t?await Object(u["r"])(t):(localStorage.clear(),sessionStorage.clear())}},created(){this.init()},methods:{init(){this.$store.dispatch("app/getZhinengPlan"),this.learnTestGet(),this.getLearnScore()},opencalendartk(){this.mobilecalendarshow=!0},closecalendartk(){this.mobilecalendarshow=!1},monthchange(t){console.log(t);const{id:s,testData:{answeredNums:e,nums:a}}=t;this.witchDayPlan=s,this.showHistory=!0,this.mobilecalendarshow=!1,this.currenthistoryData={id:s,answeredNums:e,nums:a}},getcurrentday(t){this.currentDayId=t},openchanegplantk(){Object(u["o"])()?window.wx.miniProgram.navigateTo({url:"/pages/learnPlan/makePlan/index?step=4&edit=1"}):this.changePlanTkShow=!0},closeplanchangetk(){this.changePlanTkShow=!1},addKeyNumber:u["b"],async learnTestGet(){const{err:t,data:s}=await Object(d["V"])();t?this.$message.error(t):this.learnData=s},async auth(){this.$alert(`<div class="planQrcodeModel">\n            <div class="title">打开小程序，定制学习计划</div>\n            <img src="${this.weappImg}" class="img"/>\n            <div class="desc">微信扫描二维码定制</div>\n            <div class="tip">小程序首页，点击“定制计划”，制定学习计划</div>\n            </div>`,"",{dangerouslyUseHTMLString:!0,customClass:"planQrcodeModelWrapper",showConfirmButton:!1})},async getLearnScore(){const{err:t,data:s}=await Object(d["U"])();t||"string"===typeof s&&(this.learnScore=s)},updateScore(){if(Object(u["o"])()){const t="/yugudf",s=Object(u["k"])();window.wx.miniProgram.navigateTo({url:`/pages/webViewForYuGu/index?title=预估分数&url=${encodeURIComponent(t)}&token=${s}&isFromWeapp=true`})}else this.drawerVisible=!0},handleClose(){this.drawerVisible=!1},tikuClick(t){Object(u["o"])()?window.wx.miniProgram.navigateTo({url:`/pages/topicforshuati/index?key=${t.key}&type=1&groupkey=${t.group}&plan=1`}):this.$router.push({path:"/questionsforplan",query:{key:t.key,plan:"1"}})}}},K=P,H=(e("1e01"),e("da03"),Object(v["a"])(K,a,i,!1,null,"4d6b3ccc",null));s["default"]=H.exports},f724:function(t,s,e){"use strict";e("6405")}}]);