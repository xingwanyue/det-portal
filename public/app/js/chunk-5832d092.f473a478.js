(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5832d092"],{"1f0d":function(e,t,s){"use strict";s("c660")},2774:function(e,t,s){"use strict";s("f670")},"29a3":function(e,t,s){},7341:function(e,t,s){"use strict";s.r(t);var i=function(){var e=this,t=e._self._c;return t("div",{staticClass:"questions questions_hidebarscroll"},[t("div",{staticClass:"filter-item"},[t("div",{staticClass:"types",attrs:{id:"types"}},e._l(e.topicPageShow,(function(s){return t("div",{key:s.key,class:"option "+(e.question.search.key===s.key?"active":""),attrs:{id:s.key},on:{click:function(t){return e.filterChange1("key",s.key,0)}}},[e._v(" "+e._s(""+s.name)+" "),t("span",{staticClass:"option_num"},[e._v(" "+e._s(s.total?`（${s.user||0}/${s.total}）`:"（0/0）"))])])})),0),e.filterBtn?t("div",{staticClass:"scroll_btn"},[t("el-popover",{attrs:{placement:"bottom-end",trigger:"click"},model:{value:e.filterTK,callback:function(t){e.filterTK=t},expression:"filterTK"}},[t("div",{staticClass:"types_scroll"},e._l(e.topics,(function(s){return t("div",{key:s.key,class:"option "+(e.question.search.key===s.key?"active":""),on:{click:function(t){return e.filterChange1("key",s.key,1)}}},[e._v(" "+e._s(""+s.name)+" ")])})),0),t("div",{attrs:{slot:"reference"},slot:"reference"},[t("div",{staticClass:"kuai"},[t("i",{staticClass:"el-icon-more"})])])])],1):e._e()]),t("div",{staticClass:"search"},[t("v-filter",{attrs:{search:e.question.search,difficulties:e.question.difficulties,total:e.question.total},on:{filterChange:e.filterChange}}),t("div",{staticClass:"reset",on:{mouseover:e.hoverReset,mouseleave:e.unhoverReset,click:e.openResetTK}},[t("el-image",{directives:[{name:"show",rawName:"v-show",value:e.resetHover,expression:"resetHover"}],staticClass:"reset_icon",attrs:{src:e.reset_active}}),t("el-image",{directives:[{name:"show",rawName:"v-show",value:!e.resetHover,expression:"!resetHover"}],staticClass:"reset_icon",attrs:{src:e.reset_gray}}),t("div",{staticClass:"reset_font"},[e._v(e._s(e.$t("filter.reset")))])],1)],1),t("div",{directives:[{name:"loading",rawName:"v-loading",value:e.question.loading,expression:"question.loading"}],staticClass:"list"},[e.question.questionGroups.length?e._e():t("div",{staticClass:"no-data"},[t("el-image",{staticClass:"emptyImg",attrs:{src:e.emptyImg}}),t("div",{staticClass:"empty-data"},[e._v(e._s(e.$t("wordBook.emptyData")))])],1),e._l(e.question.questionGroups,(function(s,i){return t("div",{key:s.id,staticClass:"item"},[t("div",{class:"question "+(0===i?"question-first":""),on:{click:function(t){return e.jump(s)}}},[t("div",{staticClass:"question-left"},[t("div",{staticClass:"question-id"},[t("img",{staticClass:"group_icon",attrs:{src:e.groupIcon[s.key]}}),t("div",{staticClass:"question-id-text"},[e._v(" "+e._s(`${(e.question.page-1)*e.question.pageSize+i+1}.${e.topic.name} #Z${s.id}`)+" ")])]),t("div",{staticClass:"tag_score_out"},[t("div",{staticClass:"left_tag_out"},[e.difficultyName(s)?t("div",{class:"difficulty difficulty"+s.difficulty},[e._v(" "+e._s(e.$t("wordBook.difficulty"+s.difficulty))+e._s(`(${e.difficultyName(s)})`)+" ")]):e._e(),"1"===s.recommend?t("div",{staticClass:"exam"},[e._v(e._s(e.$t("questions.znTuijian")))]):e._e()]),t("div",{staticClass:"question_score"},[s.lastQids&&JSON.parse(s.qids).length===JSON.parse(s.lastQids).length?t("div",{staticClass:"progress"},[t("span",{staticClass:"progress_text1"},[e._v(" "+e._s(s.lastCorrectNum?s.lastCorrectNum:0))]),t("span",{staticClass:"progress_text2"},[e._v("/"+e._s(JSON.parse(s.qids).length||0)+" ")])]):e._e()])])]),t("div",{class:"i18n"===e.processenv?"question-tag question-tag-i18n":" question-tag"},[s.total?t("div",{staticClass:"test"},[e._v(e._s(e.$t("questions.lxNum",{num:s.total})))]):t("div",{staticClass:"no_test"},[e._v(" "+e._s(e.$t("questions.weilianxi"))+" ")])])])])})),t("div",{staticClass:"pagination"},[t("el-pagination",{attrs:{"hide-on-single-page":"",layout:e.fanYeShow,total:e.question.total,"pager-count":5,"page-size":e.question.pageSize,"current-page":e.question.page,"page-sizes":[20,50,100]},on:{"size-change":t=>e.questionsGetAndLockCurrentChange({pageSize:t,page:1}),"current-change":e.onPageChange}})],1)],2),t("el-dialog",{attrs:{"custom-class":"resettk",visible:e.resetDialogVisible,"before-close":e.handleClose},on:{"update:visible":function(t){e.resetDialogVisible=t}},scopedSlots:e._u([{key:"title",fn:function(){return[t("div",{staticClass:"title_out"},[t("div",{staticClass:"icon"},[t("el-image",{attrs:{src:e.warning}})],1),t("div",{staticClass:"font"},[e._v(e._s(e.$t("filter.reset")))])])]},proxy:!0}])},[t("span",{staticClass:"hack_english",domProps:{innerHTML:e._s(e.$t("questions.resetTipsGroup",{total:e.resetTotal}))}}),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{staticClass:"cancle_btn",on:{click:function(t){e.resetDialogVisible=!1}}},[e._v(e._s(e.$t("questions.quxiao")))]),t("el-button",{attrs:{type:"primary"},on:{click:e.doReset}},[e._v(e._s(e.$t("questions.queding")))])],1)])],1)},a=[],r=(s("cfff"),s("b41b"),s("0c65"),s("2f20"),s("6058"),s("60bb")),o=s.n(r),n=s("f7f9"),l=s.n(n),c=s("5880"),u=function(){var e=this,t=e._self._c;return t("div",{staticClass:"filter_q"},e._l([e.paixuList,e.difficultData,...e.filters],(function(s){return t("div",{key:s.key,class:e.isI18n?"filter-item filter-item-i18n":"filter-item"},["favorite"===s.key?[t("el-select",{class:""+(e.search[s.key]?"isChecked":"noCheck"),attrs:{placeholder:s.label1,clearable:""},on:{change:function(t){return e.filterChange()}},model:{value:e.search[s.key],callback:function(t){e.$set(e.search,s.key,t)},expression:"search[filter.key]"}},e._l(s.options,(function(s){return t("el-option",{key:s.key,attrs:{label:s.name,value:s.key}},[t("div",{staticClass:"favorite_icon_font"},["all"!==s.key?t("div",{staticClass:"favorite_icon_font_icon"},[t("el-image",{attrs:{src:e.favoriteIconArr[Number(s.key)]}})],1):e._e(),t("div",{staticClass:"favorite_icon_font_font"},[e._v(e._s(s.name))])])])})),1)]:[t("el-select",{class:""+(e.search[s.key]?"isChecked":"noCheck"),attrs:{placeholder:s.label1,clearable:""},on:{change:function(t){return e.filterChange()}},model:{value:e.search[s.key],callback:function(t){e.$set(e.search,s.key,t)},expression:"search[filter.key]"}},e._l(s.options,(function(e){return t("el-option",{key:e.key,attrs:{label:e.name,value:e.key}})})),1)]],2)})),0)},h=[],d=(s("080f"),s("d722"));const p=Object(d["Bb"])("image/filter/gray_star.svg"),f=Object(d["Bb"])("image/filter/red_star.svg"),g=Object(d["Bb"])("image/filter/yellow_star.svg"),y=Object(d["Bb"])("image/filter/green_star.svg"),m=Object(d["Bb"])("image/filter/blue_star.svg"),v=Object(d["Bb"])("image/filter/greencheck_icon.svg");var k={props:{search:Object,progress:Object,total:Number,difficulties:Array,isWordBook:Boolean},data(){return{favoriteIconArr:[p,f,g,y,m,p,p,p,p,v],isI18n:!0}},computed:{...Object(c["mapState"])({correctRateFilter(e){const{app:{correctRateFilter:t}}=e;return t}}),difficultData(){const{difficulties:e}=this;let t=[{key:"all",name:this.$t("filter.alldiff")}];return e.length&&(t=[...t,...e.map(e=>({key:e.code,name:e.name}))]),{key:"difficulty",label:this.$t("wordBook.difficulty"),label1:this.$t("filter.shitiDiffculty"),options:t}},paixuList(){return{key:"displayOrder",label:this.$t("filter.order"),label1:this.$t("filter.defaultOrder"),options:[{key:"2",name:this.$t("filter.updateTime")},{key:"1",name:this.$t("filter.tihao")}]}},filters(){const e=[{key:"practice",label:this.$t("filter.lianxi"),label1:this.$t("filter.isLianxi"),options:[{key:"all",name:this.$t("filter.allquestions")},{key:"1",name:this.$t("filter.alreadyLianxi")},{key:"0",name:this.$t("filter.noLianxi")}]}],t=this.correctRateFilter[this.search.key];if(t){const s=[];t.forEach(e=>{s.push({key:e.code,name:e.name})}),e.push({key:"skilled",label:this.$t("wordBook.skill"),label1:this.$t("filter.zqltitle"),options:[{key:"all",name:this.$t("filter.allquestions")},{key:"1",name:this.$t("filter.z80")},{key:"2",name:this.$t("filter.z60")},{key:"3",name:this.$t("filter.z40")},{key:"4",name:this.$t("filter.z0")}]})}return e}},created(){},methods:{filterChange(){const e={...this.search};this.$store.commit("grouplist/upState",{search:e}),this.$emit("filterChange")}}},b=k,_=(s("b3e1"),s("1f0d"),s("643b")),C=Object(_["a"])(b,u,h,!1,null,"27ebd275",null),q=C.exports;Object(d["Bb"])("image/empty.svg");const $=Object(d["Bb"])("image/warning.svg"),w=Object(d["Bb"])("image/emptyi18n.svg"),S=Object(d["Bb"])("image/filter/reset_gray.svg"),O=Object(d["Bb"])("image/filter/reset_active.svg"),x=Object(d["Bb"])("image/grouptest/bqdc.svg"),B=Object(d["Bb"])("image/grouptest/txjz.svg"),j=Object(d["Bb"])("image/grouptest/ydxe.svg");var T={name:"Questionsgroup",components:{vFilter:q},data(){return{warning:$,reset_gray:S,reset_active:O,emptyImg:w,ids:"",staticUrlGet:d["Cb"],fanYeShow:"prev, pager, next, sizes, total",processenv:"i18n",filterTK:!1,filterBtn:!1,resetHover:!1,resetDialogVisible:!1,blockCurrentChange:!1,groupIcon:{2:B,n:j,p:x},resetTotal:0}},computed:{...Object(c["mapState"])({question(e){const{grouplist:t}=e;return t},topicPageShow(e){const{grouplist:{topicPageShow:t}}=e;return t},topics(e){const{app:{topics:t}}=e;return this.$nextTick(()=>{this.handleBtnShow()}),t.filter(e=>"0"!==e.status)},appuser(e){const{app:{user:t}}=e;return t}}),key(){const{query:{key:e}}=this.$route;return e},topic(){const{key:e}=this.question.search;return this.topics.find(t=>t.key===e)||{}}},async created(){let e={...this.question.search};if(!e.key||!o.a.isEmpty(this.topics)&&!o.a.find(this.topics,{key:e.key})){const t="n";e={key:t,displayOrder:"2",practice:"",skilled:"",difficulty:""}}this.$route.query.key&&(e.key=this.$route.query.key),this.$store.commit("grouplist/upState",{search:e}),this.$store.dispatch("grouplist/difficultyGet"),this.getStorageProgress(),this.groupListGet()},mounted(){this.handlepaginationui(),this.handleBtnShow(),window.addEventListener("resize",this.handleBtnShow),window.addEventListener("resize",this.handlepaginationui)},methods:{getStorageProgress(){this.$store.dispatch("grouplist/getgroupProgress",{topics:this.topics})},handleScore(e){const{ownScore:t,ownScore2:s}=e;return s?5*Math.round((5*Number(t)+3*Number(s))/8/5):t},hoverReset(){this.resetHover=!0},unhoverReset(){this.resetHover=!1},async openResetTK(){this.resetDialogVisible=!0;const e={...this.question.search};if(Object.keys(e).forEach(t=>{""===e[t]&&delete e[t]}),delete e.displayOrder,"0"===e.practice)this.resetTotal=0;else{const{data:{total:t}}=await Object(d["tb"])({...e,page:1,pageSize:1,practice:"1"});this.resetTotal=t}},async doReset(){this.resetDialogVisible=!1;const e={...this.question.search};Object.keys(e).forEach(t=>{""===e[t]&&delete e[t]}),delete e.displayOrder,delete e.page,delete e.pageSize,await this.$store.dispatch("grouplist/reset",{...e}),this.getStorageProgress(),this.groupListGet()},handleClose(e){this.resetDialogVisible=!1,e()},formatIsNew(e){return e.openTime&&l()(e.openTime).add(30,"d").isAfter(l()())},handlepaginationui(){document.body.clientWidth<580?this.fanYeShow="prev, pager, next":this.fanYeShow="prev, pager, next, sizes, total"},handleBtnShow(){const e=document.getElementById("types");if(e){const t=e.scrollWidth>e.clientWidth;t?(this.filterBtn=!0,e.style.paddingRight="55px"):(this.filterBtn=!1,e.style.paddingRight="0px")}},async onPageChange(e){this.blockCurrentChange?this.blockCurrentChange=!1:(await this.groupListGet({page:e}),setTimeout(()=>{document.querySelector(".el-main").scrollTop=0},100))},formatTime(e){return l()(e).format("YYYY/MM/DD")},async groupListGet(e={}){await this.$store.dispatch("grouplist/groupListGet",{search:e}),this.blockCurrentChange=!1},questionsGetAndLockCurrentChange(e){this.blockCurrentChange=!0,this.groupListGet(e)},filterChange(e){this.groupListGet({...e,page:1}),this.ids=""},filterChange1(e,t,s){if(s){const e=document.getElementById(t);e&&e.scrollIntoView({behavior:"smooth",block:"nearest",inline:"start"})}this.filterTK=!1;const i={...this.question.search,[e]:t};["2","7","f","3","i","4"].includes(i.key)||"3"!==i.displayOrder&&"4"!==i.displayOrder||(i.displayOrder="all"),this.$store.commit("grouplist/upState",{search:i}),this.filterChange()},async jump(e){if(this.appuser.temp)return void this.$store.commit("app/upState",{commonLoginTkShow:!0});if(this.topic.key!==e.key)return;const t=await this.$store.dispatch("question/limitCheck",{key:this.topic.key,type:"2",params:{...this.question.search,id:e.id,page:this.question.page,pageSize:this.question.pageSize}});if(!t){const{qids:t,total:s}=e,i=JSON.parse(t),a=e.lastQids?JSON.parse(e.lastQids):[];this.$router.push({path:"/groupQuestionPractice",query:{key:this.topic.key,id:a.length?i[a.length]:i[0],groupId:e.id,groupPage:this.question.page,groupPageSize:this.question.pageSize,isShowTest:!(a.length===i.length),groupTestNums:s||0,groupDifficulty:e.difficulty}})}},difficultyName(e){const{difficulty:t}=e;if(t){const{name:e}=this.question.difficulties.find(e=>e.code===t)||{};return e}return""}}},z=T,N=(s("e880"),s("2774"),Object(_["a"])(z,i,a,!1,null,"296c166d",null));t["default"]=N.exports},b3e1:function(e,t,s){"use strict";s("29a3")},c660:function(e,t,s){},e880:function(e,t,s){"use strict";s("e9c9")},e9c9:function(e,t,s){},f670:function(e,t,s){}}]);