(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7f63f9c8"],{3338:function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"questions questions_hidebarscroll"},[e("el-button",{staticClass:"back",attrs:{type:"default",icon:"el-icon-arrow-left"},on:{click:function(e){return t.$router.replace("/plan")}}},[t._v(t._s(t.$t("questions.backPlan")))]),e("div",{staticClass:"filter-item"},[e("div",{staticClass:"types",attrs:{id:"types"}},t._l(t.topicsPlan,(function(s){return e("div",{key:s.key,attrs:{id:s.key},on:{click:function(e){return t.filterChange1("key",s.key,0)}}},[e("div",{class:"option "+(t.question.search.key===s.key?"active":"")},[t._v(" "+t._s(""+s.name)+" "),e("span",{staticClass:"option_num"},[t._v(" "+t._s(s.planTotal?`（${s.planDone||0}/${s.planTotal}）`:"（0/0）")+" ")])])])})),0),t.filterBtn?e("div",{staticClass:"scroll_btn"},[e("el-popover",{attrs:{placement:"bottom-end",trigger:"click"},model:{value:t.filterTK,callback:function(e){t.filterTK=e},expression:"filterTK"}},[e("div",{staticClass:"types_scroll"},t._l(t.topicsPlan,(function(s){return e("div",{key:s.key,class:"option "+(t.question.search.key===s.key?"active":""),on:{click:function(e){return t.filterChange1("key",s.key,1)}}},[t._v(" "+t._s(""+s.name)+" ")])})),0),e("div",{attrs:{slot:"reference"},slot:"reference"},[e("div",{staticClass:"kuai"},[e("i",{staticClass:"el-icon-more"})])])])],1):t._e()]),e("div",{directives:[{name:"loading",rawName:"v-loading",value:t.question.loading,expression:"question.loading"}],staticClass:"list"},[t.question.questions.length?t._e():e("div",{staticClass:"no-data"},[e("el-image",{staticClass:"emptyImg",attrs:{src:t.emptyImg}}),e("div",{staticClass:"empty-data"},[t._v(t._s(t.$t("wordBook.emptyData")))])],1),"n"===t.question.search.key?e("div",{staticClass:"switch_out"},[e("div",{staticClass:"one_switch"},[e("div",{staticClass:"switch_name"},[t._v(t._s(t.$t("questions.xsdc")))]),e("el-switch",{attrs:{"active-color":"#F66442FF"},on:{change:t.toggleshowWordSelf},model:{value:t.showWordSelf,callback:function(e){t.showWordSelf=e},expression:"showWordSelf"}})],1),e("div",{staticClass:"one_switch"},[e("div",{staticClass:"switch_name"},[t._v(t._s(t.$t("questions.xszj")))]),e("el-switch",{attrs:{"active-color":"#F66442FF"},on:{change:t.toggleshowWordTrueOrFalse},model:{value:t.showWordTrueOrFalse,callback:function(e){t.showWordTrueOrFalse=e},expression:"showWordTrueOrFalse"}})],1)]):t._e(),t._l(t.question.questions,(function(s,i){return e("div",{key:s.id,staticClass:"item"},[e("div",{class:"question "+(0===i?"question-first":""),on:{click:function(e){return t.jump(s)}}},[e("div",{staticClass:"question-left"},[e("div",{staticClass:"question-id"},["n"===s.key?[e("div",{staticClass:"question-id-text"},[t.showWordSelf?e("span",[t._v(t._s(`${(t.question.page-1)*t.question.pageSize+i+1}.${s.title}`))]):e("span",[t._v(t._s(`${(t.question.page-1)*t.question.pageSize+i+1}.${t.topic.name} #${s.id}`))])]),t.showWordTrueOrFalse?[s.dict?e("div",{staticClass:"wordistrue"},[t._v(t._s(t.$t("questions.zhen")))]):e("div",{staticClass:"wordisfalse"},[t._v(t._s(t.$t("questions.jia")))])]:t._e()]:[e("div",{staticClass:"question-id-text"},[t._v(" "+t._s(`${(t.question.page-1)*t.question.pageSize+i+1}.${t.topic.name} #${s.id}`)+" ")])],t.formatIsNew(s)?e("div",{staticClass:"isNew"},[t._v(t._s(t.$t("questions.newTi")))]):t._e()],2),e("div",{staticClass:"tag_score_out"},[e("div",{staticClass:"left_tag_out"},[t.difficultyName(s)?e("div",{class:"difficulty difficulty"+s.difficulty},[t._v(" "+t._s(t.$t("wordBook.difficulty"+s.difficulty))+t._s(`(${t.difficultyName(s)})`)+" ")]):t._e(),"1"===s.recommend?e("div",{staticClass:"exam"},[t._v(t._s(t.$t("questions.znTuijian")))]):t._e()]),e("div",{staticClass:"question_score"},[["2","3","7","f","i","n","p"].includes(s.key)&&s.ownScore?e("div",{staticClass:"rate"},[e("span",{staticClass:"rateNum"},[t._v(t._s(s.ownScore)),e("span",{staticClass:"symbol"},[t._v("%")])]),e("span",{staticClass:"rateText"},[t._v(t._s(t.$t("questions.accuracy")))])]):["4"].includes(s.key)&&s.ownScore?e("div",{staticClass:"rate"},[e("span",{staticClass:"rateNum"},[t._v(t._s(s.ownScore))]),e("span",{staticClass:"rateText"},[t._v(t._s(t.$t("questions.score")))])]):["9","a","e","c","6","8","d","q"].includes(s.key)&&s.correctStatus?["0"===s.correctStatus?e("div",{staticClass:"correctPendding"},[t._v(t._s(t.$t("questions.noPigai")))]):t._e(),"1"===s.correctStatus?e("div",[s.correctId?e("span",{staticClass:"correctSuccess"},[e("span",{staticClass:"font18"},[t._v(t._s(t.handleScore(s)))]),e("span",{staticClass:"red_color"},[t._v(t._s(t.$t("questions.score")))])]):e("span",{staticClass:"correctSuccess"},[t._v(t._s(t.$t("questions.alreadyPigai")))])]):t._e(),"2"===s.correctStatus?e("div",{staticClass:"correctFeedBacking"},[t._v(t._s(t.$t("questions.fankui")))]):t._e(),"3"===s.correctStatus?e("div",{staticClass:"correctSuccess"},[e("span",{staticClass:"font18"},[t._v(" "+t._s(t.handleScore(s)))]),e("span",{staticClass:"red_color"},[t._v(t._s(t.$t("questions.score")))])]):t._e()]:t._e()],2)])]),e("div",{class:"i18n"===t.processenv?"question-tag question-tag-i18n":" question-tag"},[s.favorite&&"0"!==s.favorite?e("el-image",{staticClass:"favorite-img",attrs:{ondragstart:"return false;",oncontextmenu:"return false;",src:t.collectionIconArr[Number(s.favorite)]}}):t._e(),s.total?e("div",{staticClass:"test"},[t._v(t._s(t.$t("questions.lxNum",{num:s.total})))]):e("div",{staticClass:"no_test"},[t._v(t._s(t.$t("questions.weilianxi")))])],1)])])}))],2)],1)},a=[],o=(s("cfff"),s("b41b"),s("0c65"),s("2f20"),s("6058"),s("080f"),s("60bb")),n=s.n(o),r=s("f7f9"),c=s.n(r),l=s("5880"),u=s("ed08"),d=s("d722");Object(d["Bb"])("image/empty.svg");const h=Object(d["Bb"])("image/emptyi18n.svg"),p=Object(d["Bb"])("image/filter/gray_star.svg"),f=Object(d["Bb"])("image/filter/red_star.svg"),g=Object(d["Bb"])("image/filter/yellow_star.svg"),v=Object(d["Bb"])("image/filter/green_star.svg"),y=Object(d["Bb"])("image/filter/blue_star.svg");var _={name:"Questionsforplan",components:{},data(){return{emptyImg:h,ids:"",staticUrlGet:d["Cb"],fanYeShow:"prev, pager, next, sizes, total",processenv:"i18n",filterTK:!1,filterBtn:!1,collectionIconArr:[p,f,g,v,y],blockCurrentChange:!1,showWordSelf:!1,showWordTrueOrFalse:!1,topicsPlan:[]}},computed:{...Object(l["mapState"])({question(t){const{questionforplan:e}=t;return e},groups(t){const{app:{groups:e}}=t;return e},topics(t){const{app:{topics:e}}=t;return this.$nextTick(()=>{this.handleBtnShow()}),e},progress(t){const{app:{progress:e}}=t;return e},testTypeList(t){const e=[],{groups:s,topics:i}=t.app;return s.forEach(t=>{const s=i.filter(e=>e.group===t.key).filter(t=>"0"!==t.status);e.push(...s)}),e}}),group(){const{query:{group:t}}=this.$route,e=n.a.head(this.groups||[]).key||"1";return t||e},plan(){const{query:{plan:t}}=this.$route;return t},key(){const{query:{key:t}}=this.$route;return t},topic(){const{key:t}=this.question.search;return this.topics.find(e=>e.key===t)||{}}},watch:{"$route.query":{handler(){let{key:t}=this.$route.query;t||({key:t}=n.a.head(this.topics));const e={...this.question.search,key:t};["2","7","f","3","i","4"].includes(t)||"3"!==e.displayOrder&&"4"!==e.displayOrder||(e.displayOrder="all"),this.$store.commit("questionforplan/upState",{search:e}),this.questionsGet()}}},created(){let t={...this.question.search};if(!t.key||!n.a.isEmpty(this.topics)&&!n.a.find(this.topics,{key:t.key})){const{key:e}=n.a.head(this.topics);t={key:e,displayOrder:"all",practice:"",skilled:"",favorite:"",difficulty:""}}this.$route.query.key&&(t.key=this.$route.query.key),this.$store.commit("questionforplan/upState",{search:t}),this.$store.dispatch("questionforplan/difficultyGet"),this.$store.dispatch("app/progressGet",{update:!0}),this.questionsGet()},mounted(){this.handlepaginationui(),this.handleBtnShow(),this.getSwitchStatus(),window.addEventListener("resize",this.handleBtnShow),window.addEventListener("resize",this.handlepaginationui),this.getplanlearnDate()},methods:{async getplanlearnDate(){const{data:t,err:e}=await Object(d["Tb"])();if(e)this.$message.error(e);else{const{keys:e,qids:s,answeredQids:i}=t,a=this.topics.filter(t=>-1!==e.indexOf(t.key));a.forEach(t=>{t.planDone=i[t.key]||0,t.planTotal=s[t.key]||0}),this.topicsPlan=a;const o=this.testTypeList.map(({key:t})=>t);this.topicsPlan=n.a.sortBy(this.topicsPlan,t=>o.indexOf(t.key));const r={...this.question.search};this.$nextTick(()=>{const t=document.getElementById(r.key);t&&t.scrollIntoView({behavior:"smooth",block:"nearest",inline:"start"})})}},getSwitchStatus(){const t=Object(u["i"])("showWordSelf");void 0!==t&&(this.showWordSelf="true"===t);const e=Object(u["i"])("showWordTrueOrFalse");void 0!==e&&(this.showWordTrueOrFalse="true"===e)},toggleshowWordSelf(t){Object(u["q"])("showWordSelf",t,!0)},toggleshowWordTrueOrFalse(t){Object(u["q"])("showWordTrueOrFalse",t,!0)},handleScore(t){const{ownScore:e,ownScore2:s}=t;return s?5*Math.round((5*Number(e)+3*Number(s))/8/5):e},formatIsNew(t){return t.openTime&&c()(t.openTime).add(30,"d").isAfter(c()())},handlepaginationui(){document.body.clientWidth<580?this.fanYeShow="prev, pager, next":this.fanYeShow="prev, pager, next, sizes, total"},handleBtnShow(){const t=document.getElementById("types");if(t){const e=t.scrollWidth>t.clientWidth;e?(this.filterBtn=!0,t.style.paddingRight="55px"):(this.filterBtn=!1,t.style.paddingRight="0px")}},async onPageChange(t){this.blockCurrentChange?this.blockCurrentChange=!1:(await this.questionsGet({page:t}),setTimeout(()=>{document.querySelector(".el-main").scrollTop=0},100))},formatTime(t){return c()(t).format("YYYY/MM/DD")},async questionsGet(t={}){this.plan&&(t.plan=this.plan),await this.$store.dispatch("questionforplan/questionsGet",t),this.blockCurrentChange=!1},questionsGetAndLockCurrentChange(t){this.blockCurrentChange=!0,this.questionsGet(t)},filterChange(t){this.questionsGet({...t,page:1}),this.ids=""},filterChange1(t,e,s){if(s){console.log("898979798");const t=document.getElementById(e);t&&t.scrollIntoView({behavior:"smooth",block:"nearest",inline:"start"})}this.filterTK=!1;const i={...this.question.search,[t]:e};["2","7","f","3","i","4"].includes(i.key)||"3"!==i.displayOrder&&"4"!==i.displayOrder||(i.displayOrder="all"),this.$store.commit("questionforplan/upState",{search:i}),this.filterChange()},async jump(t){if(this.topic.key!==t.key)return;const e=await this.$store.dispatch("question/limitCheck",{key:this.topic.key,type:"2",params:{...this.question.search,id:t.id,page:this.question.page,pageSize:this.question.pageSize,...this.plan?{plan:this.plan}:{}}});e||this.$router.push({path:"/question",query:{...this.question.search,id:t.id,page:this.question.page,pageSize:this.question.pageSize,...this.plan?{plan:this.plan}:{}}})},difficultyName(t){const{difficulty:e}=t;if(e){const{name:t}=this.question.difficulties.find(t=>t.code===e)||{};return t}return""}}},m=_,q=(s("c4d3a"),s("7838"),s("643b")),k=Object(q["a"])(m,i,a,!1,null,"3b8990b7",null);e["default"]=k.exports},7838:function(t,e,s){"use strict";s("a9a9")},a9a9:function(t,e,s){},c4d3a:function(t,e,s){"use strict";s("cdbe")},cdbe:function(t,e,s){}}]);