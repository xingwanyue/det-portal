(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2b26ef17"],{"03f5":function(t,e,s){},"074b":function(t,e,s){"use strict";s("2784")},"08b2":function(t,e,s){"use strict";s("03f5")},"0914":function(t,e,s){"use strict";s("d3eb")},"0baa":function(t,e,s){"use strict";s("5387")},"0dc7":function(t,e,s){"use strict";s("e0b6")},"11bd":function(t,e,s){},"1bca":function(t,e,s){},"1c79":function(t,e,s){"use strict";s("11bd")},"1dfc":function(t,e,s){"use strict";s("7fa5")},2030:function(t,e,s){"use strict";s("8404")},2784:function(t,e,s){},"2b7c":function(t,e,s){},3232:function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"examPractice"},[e("div",{staticClass:"examContent"},[e("div",{class:"content content"+t.question.key},[t.ended?e("div",{staticClass:"examEnd"},[e("div",{staticClass:"endTop"},[e("el-image",{staticClass:"endedImg",attrs:{src:t.endedImg}}),e("div",{staticClass:"endContent"},[e("div",{staticClass:"endedTitle"},[t._v(" "+t._s(t.$t("viewExamPractice.wc"))+" ")]),e("div",{staticClass:"endedDesc"},[t._v(" "+t._s(t.$t("viewExamPractice.endedDesc"))+" ")])])],1),e("div",{staticClass:"endForm"},[e("div",{staticClass:"item"},[e("div",{staticClass:"label"},[t._v(t._s(t.$t("makeplan.selectTargetScorePlaceholder"))+"：")]),e("el-input-number",{attrs:{min:60,max:160,controls:!1,step:"5","step-strictly":""},model:{value:t.examPlan.score,callback:function(e){t.$set(t.examPlan,"score",e)},expression:"examPlan.score"}})],1),e("div",{staticClass:"item"},[e("div",{staticClass:"label"},[t._v(t._s(t.$t("viewExamPractice.plantime"))+"：")]),e("el-date-picker",{attrs:{type:"date",placeholder:""+t.$t("makeplan.chooseDateButtonText"),"picker-options":t.pickerOptions},model:{value:t.examPlan.planTime,callback:function(e){t.$set(t.examPlan,"planTime",e)},expression:"examPlan.planTime"}})],1)]),e("div",{staticClass:"tips"},[t._v(" "+t._s(t.$t("viewExamPractice.inputtarget"))+" ")]),e("div",{staticClass:"endedBtn",on:{click:t.onOkDebounce}},[t._v(" "+t._s(t.$t("viewExamPractice.wancheng"))+" ")])]):["l"!==t.question.key&&"i"!==t.question.key&&"q"!==t.question.key&&"5"!==t.question.key&&"b"!==t.question.key?[t.topic.prepare&&!t.prepareEnded&&t.loaded?e("count-down",{key:"prepare",attrs:{id:""+t.question.id,desc:"to prepare",duration:t.topic.prepare,pause:t.pause,process:100*(t.question.order+1)/59},on:{onEnded:t.onPrepareEnded}}):t.topic.duration&&t.loaded?e("count-down",{key:"duration",attrs:{id:""+t.question.id,desc:t.desc,duration:t.topic.duration,pause:t.pause,process:100*(t.question.order+1)/59},on:{onEnded:t.onEnded,onProcess:t.onProcess}}):t._e()]:t._e(),e("div",{staticClass:"examQuestionWrapper"},[e("Question",{directives:[{name:"show",rawName:"v-show",value:t.loaded,expression:"loaded"}],ref:"question",attrs:{question:t.question,topic:t.topic,"prepare-ended":t.prepareEnded,pause:t.pause},on:{next:t.onNextDebounce,onPrepareEnded:function(e){t.prepareEnded=!0},load:t.onLoad}})],1),t.hideFooter?t._e():e("div",{staticClass:"footer"},[e("div"),t.loading?e("div",{staticClass:"loadingBtn"},[t._m(0)]):[t.topic.prepare&&!t.prepareEnded?e("div",{staticClass:"btn start",on:{click:function(e){t.prepareEnded=!0}}},[t._v("CONTINUE")]):e("el-button",{class:"btn start "+(t.enable?"":"disabled"),attrs:{loading:t.loading},on:{click:t.onNextDebounce}},[t._v(t._s(t.btnText))])]],2)],t.timeTips&&"n"!==t.question.key?e("div",{staticClass:"tips1"},[t._m(1),e("div",{staticClass:"shadow"})]):t._e()],2),e("div",{staticClass:"quit",on:{click:t.onQuit}},[t._v("QUIT TEST")]),e("div",{staticClass:"pause",on:{click:t.onPause}},[t._v(t._s(t.rightTopBtnPause?"START TEST":"PAUSE TEST"))])])])},n=[function(){var t=this,e=t._self._c;return e("span",{staticClass:"loadingPoint"},[e("i"),e("i"),e("i")])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"box"},[e("div",{staticClass:"icon"},[e("i",{staticClass:"el-icon-check"})]),e("div",{staticClass:"text"},[t._v("Time's up. Saved!")])])}],a=(s("b41b"),s("2f20"),s("5880")),o=s("60bb"),r=s.n(o),c=function(){var t=this,e=t._self._c;return e("div",{staticClass:"count-down"},[e("div",{staticClass:"sec"},[e("svg",{attrs:{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[e("path",{staticStyle:{fill:"color(display-p3 0.8980 0.8980 0.8980)","fill-opacity":"1",stroke:"color(display-p3 0.2941 0.2941 0.2941)","stroke-opacity":"1"},attrs:{d:"M21.019 12.4229C21.019 17.3989 17.0629 21.3956 12.2282 21.3956C7.39344 21.3956 3.43733 17.3989 3.43733 12.4229C3.43733 7.44697 7.39344 3.45027 12.2282 3.45027C17.0629 3.45027 21.019 7.44697 21.019 12.4229Z",fill:"#E5E5E5",stroke:"#4B4B4B","stroke-width":"2.40053"}}),e("path",{staticStyle:{fill:"color(display-p3 0.2941 0.2941 0.2941)","fill-opacity":"1",stroke:"color(display-p3 0.2941 0.2941 0.2941)","stroke-opacity":"1"},attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M12.3032 14.2331C11.2737 14.2331 10.4391 13.3948 10.4391 12.3607C10.4391 11.3266 11.2737 10.4883 12.3032 10.4883C13.3327 10.4883 14.1672 11.3266 14.1672 12.3607C14.1672 13.3948 13.3327 14.2331 12.3032 14.2331Z",fill:"#4B4B4B",stroke:"#4B4B4B","stroke-width":"0.419416"}}),e("path",{staticStyle:{fill:"color(display-p3 0.2941 0.2941 0.2941)","fill-opacity":"1",stroke:"color(display-p3 0.2941 0.2941 0.2941)","stroke-opacity":"1"},attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M15.6003 8.32966C15.8623 8.07001 16.2847 8.07001 16.5467 8.32966C16.8122 8.5927 16.8122 9.02175 16.5467 9.28479L13.4449 12.3582C13.1829 12.6179 12.7605 12.6179 12.4985 12.3582C12.233 12.0952 12.233 11.6662 12.4985 11.4031L15.6003 8.32966Z",fill:"#4B4B4B",stroke:"#4B4B4B","stroke-width":"0.419416"}})]),e("span",{staticClass:"current"},[t._v(" "+t._s(t.formatTime(t.current)))]),t.desc?e("span",{staticClass:"desc"},[t._v(t._s(t.desc))]):t._e()]),e("div",{staticClass:"outter"},[e("div",{staticClass:"inner",style:{width:t.process+"%"}})])])},l=[],d={props:{duration:Number,id:String,pause:Boolean,process:Number,desc:String},data(){return{timmer:null,current:0}},watch:{id:{handler(){this.init()},immediate:!0},pause:{handler(t){this.duration&&(this.timmer?clearInterval(this.timmer):this.current=this.duration,t||(this.timmer=setInterval(()=>{this.current>0?(this.current-=1,this.innerWidth=100*this.current/this.duration+"%",this.$emit("onProcess",this.duration-this.current)):(clearInterval(this.timmer),this.$emit("onEnded"))},1e3)))},immediate:!0}},beforeDestroy(){clearInterval(this.timmer),this.current=0},methods:{init(){clearInterval(this.timmer),this.duration&&(this.current=this.duration,this.timmer=setInterval(()=>{this.current>0?(this.current-=1,this.$emit("onProcess",this.duration-this.current)):(clearInterval(this.timmer),this.$emit("onEnded"))},1e3))},formatTime(t){const e=parseInt(t/60,10),s=("0"+t%60).substring(("0"+t%60).length-2);return`${e}:${s}`}}},u=d,h=(s("0baa"),s("643b")),p=Object(h["a"])(u,c,l,!1,null,"6077acd6",null),m=p.exports,g=function(){var t=this,e=t._self._c;return t.question.prepare?e("CommonStartPage",{attrs:{question:t.question.prepare}}):"2"===t.question.key?e("Topic2",{attrs:{question:t.question}}):"3"===t.question.key||"p"===t.question.key?e("Topic3p",{attrs:{question:t.question}}):["4","a","9","c","e"].includes(t.question.key)?e("Topic4a9ce",{ref:"topic4a9ce",attrs:{topic:t.topic,question:t.question,pause:t.pause,"prepare-ended":t.prepareEnded},on:{onPrepareEnded:t.onPrepareEnded,load:t.onLoad,next:t.next}}):"7"===t.question.key?e("Topic7",{attrs:{question:t.question}}):"n"===t.question.key?e("Topicn",{attrs:{question:t.question},on:{next:t.next}}):"8"===t.question.key||"d"===t.question.key?e("Topic8d",{attrs:{question:t.question,"prepare-ended":t.prepareEnded,topic:t.topic}}):"6"===t.question.key?e("Topic6",{attrs:{question:t.question},on:{load:t.onLoad}}):"i"===t.question.key?e("Topici",{attrs:{pause:t.pause,question:t.question,topic:t.topic},on:{next:t.next,reset:t.reset}}):"l"===t.question.key?e("Topicl",{attrs:{question:t.question,topic:t.topic,pause:t.pause},on:{next:t.next,onPlay:t.onPlay,onEnded:t.onEnded}}):"5"===t.question.key?e("Topic5",{attrs:{question:t.question,topic:t.topic,pausefather:t.pause},on:{next:t.next,onPlay:t.onPlay,onEnded:t.onEnded}}):"b"===t.question.key?e("Topicb",{attrs:{question:t.question,topic:t.topic,pausefather:t.pause},on:{next:t.next,onPlay:t.onPlay,onEnded:t.onEnded}}):"q"===t.question.key?e("Topicq",{attrs:{question:t.question,topic:t.topic,pause:t.pause,"prepare-ended":t.prepareEnded},on:{next:t.next,onPlay:t.onPlay,onEnded:t.onEnded,onPrepareEnded:t.onPrepareEnded}}):t._e()},v=[],w=function(){var t=this,e=t._self._c;return e("div",{staticClass:"topic-2"},[e("div",{staticClass:"title"},[t._v("Type what you hear")]),e("div",{staticClass:"bottom"},[t.question.id?e("Player",{staticClass:"player",attrs:{id:t.question.id,md5:t.question.md5,"auto-play":"",disabled:0===t.left},on:{onPlay:t.onPlay}}):t._e(),e("div",{staticClass:"times"},[t._v("REPLAYS LEFT："+t._s(t.left))]),e("div",{staticClass:"right"},[e("el-input",{staticClass:"input",attrs:{type:"textarea",rows:5,placeholder:"Your response",spellcheck:!1,autocomplete:"off"},on:{input:t.onChange},model:{value:t.answer,callback:function(e){t.answer=e},expression:"answer"}})],1)],1)])},y=[],x=function(){var t=this,e=t._self._c;return e("div",{class:"player "+(t.disabled||t.recording?"disabled":""),style:{background:`linear-gradient(\n  to top,\n  rgb(60, 93, 135) 0%,\n  rgb(60, 93, 135) ${t.random}%,\n  rgb(34, 133, 208) ${t.random}%,\n  rgb(34, 133, 208) 100%\n)`},on:{click:t.onPlay}},[e("el-image",{staticClass:"volumeImg",attrs:{ondragstart:"return false;",oncontextmenu:"return false;",src:t.speakerWhiteImg}})],1)},_=[],C=s("d722"),b=s("ed08");const f=Object(C["Bb"])("exam/speaker_white.svg");var I={props:{id:Number,md5:String,disabled:Boolean,autoPlay:Boolean,recording:Boolean},data(){return{timmer:null,playing:!1,audio:null,random:0,speakerWhiteImg:f}},watch:{id(){this.audio&&(this.playing=!1,this.audio.pause(),this.random=0,clearInterval(this.timmer)),this.autoPlay&&!Object(b["n"])()&&this.onPlay()},recording(){this.audio&&this.playing&&(this.playing=!1,this.audio.pause(),this.random=0,clearInterval(this.timmer))}},mounted(){this.id&&this.autoPlay&&!Object(b["n"])()&&this.onPlay()},beforeDestroy(){this.audio&&(this.audio.pause(),this.random=0,clearInterval(this.timmer)),this.$store.commit("exam/upState",{playing:!1})},methods:{async onPlay(){if(this.playing||this.disabled||this.recording)return;this.audio=new Audio;const t=await Object(C["w"])({md5:this.md5,type:"mp3"});this.audio.src=t,Object(b["n"])()?this.audio.play():this.audio.addEventListener("canplaythrough",()=>{this.audio.play()}),this.audio.addEventListener("play",()=>{this.playing=!0,this.$store.commit("exam/upState",{playing:!0}),this.$emit("onPlay"),this.timmer=setInterval(()=>{this.random=50*(Math.random()+.5)},100)}),this.audio.addEventListener("ended",()=>{clearInterval(this.timmer),this.$emit("onEnd"),this.$store.commit("exam/upState",{playing:!1}),this.random=0,this.playing=!1})}}},k=I,T=(s("9bc0"),Object(h["a"])(k,x,_,!1,null,"541dfc56",null)),S=T.exports,q={components:{Player:S},props:{question:Object},data(){return{answer:"",left:3}},watch:{question:{handler(){this.left=3,this.$store.commit("exam/upState",{answer:void 0}),this.answer=void 0},deep:!0}},methods:{onPlay(){this.left-=1},onChange(t){this.$store.commit("exam/upState",{answer:t})}}},M=q,N=(s("0dc7"),Object(h["a"])(M,w,y,!1,null,"ef094188",null)),D=N.exports,P=function(){var t=this,e=t._self._c;return e("div",{class:"topic-3-p topic"+t.question.key},["3"===t.question.key?e("div",{staticClass:"title"},[t._v("Complete the text with the correct words")]):t._e(),"p"===t.question.key?e("div",{staticClass:"title"},[t._v("Complete the sentence with the correct word")]):t._e(),e("div",{staticClass:"content"},[e("div",{staticClass:"inner"},t._l(t.content,(function(s,i){return e("span",{key:i},[i%2===1?[e("div",{staticStyle:{display:"inline-block"}},[t._l((t.prefixs[(i-1)/2]||"").split(""),(function(t,s){return e("input",{key:"p-"+s,staticClass:"input front",attrs:{autocomplete:"new-password",disabled:""},domProps:{value:t}})})),t._l(s.split(""),(function(s,n){return e("input",{directives:[{name:"model",rawName:"v-model",value:t.inputs[i][n],expression:"inputs[i][j]"}],key:n,class:`input input-${i}-${n}`,attrs:{autocomplete:"new-password"},domProps:{value:t.inputs[i][n]},on:{input:[function(e){e.target.composing||t.$set(t.inputs[i],n,e.target.value)},function(e){return t.onChange(i,n)}]}})}))],2)]:[t._v(" "+t._s(s)+" ")]],2)})),0)])])},E=[],O=(s("cfff"),s("6058"),s("080f"),{props:{question:Object},data(){return{content:[],inputs:[],prefixs:[]}},computed:{extData(){const t=JSON.parse(this.question.extData||"{}");return t}},watch:{question:{handler(t){this.processQuestion(t)},deep:!0,immediate:!0}},created(){this.processQuestion(this.question),document.onkeydown=()=>{if(8===window.event.keyCode&&document.activeElement.className){const[,t]=document.activeElement.className.split(" ");if(t){const[,e,s]=t.split("-"),i=document.querySelector(`.topic-3-p .input.input-${e}-${s-1}`);if(this.inputs[e][s]="",i)i.focus();else if(this.content[e-2]){const t=this.content[e-2].length,s=document.querySelector(`.topic-3-p .input.input-${e-2}-${t-1}`);s&&s.focus()}}}}},methods:{processQuestion(t={}){const e=` ${t.answer||""} `.replace(/<\/?span>/g,"").replace(/<del>[^<]*<\/del>/g,""),s=e.split(/<ins>(\w+)<\/ins>/g);this.content=s;const i=[];if(this.content=s.map((t,e)=>{if(e%2===0){const e=t.lastIndexOf(" "),s=t.substring(e+1);return i.push(s),t.substring(0,e+1)}return t}),this.prefixs=i,!r.a.isEmpty(this.answerData)&&this.answerData.answer)this.inputs="string"===typeof this.answerData.answer?JSON.parse(this.answerData.answer):this.answerData.answer;else{const t=[];for(let e=0;e<s.length;e++)t[e]=[];this.inputs=t}},correctWord(t){const e=this.prefixs[(t-1)/2];return e?`${e}${this.content[t]}`:""},onChange(t,e){if(this.inputs[t][e]&&(this.inputs[t][e]=this.inputs[t][e].toLowerCase()),this.inputs[t][e].length>1&&(this.inputs[t][e]=this.inputs[t][e][this.inputs[t][e].length-1]),/^[a-z]$/.test(this.inputs[t][e])){const s=document.querySelector(`.topic-3-p .input.input-${t}-${e+1}`);if(s)s.focus();else{const e=document.querySelector(`.topic-3-p .input.input-${t+2}-0`);e&&e.focus()}}else this.inputs[t][e]="";const s=[];this.inputs.forEach(t=>{t.forEach(t=>{t&&s.push(t)})}),this.$store.commit("exam/upState",{answer:s.length?this.inputs:void 0})}}}),j=O,$=(s("37c7"),Object(h["a"])(j,P,E,!1,null,"6b4c6fd5",null)),A=$.exports,L=function(){var t=this,e=t._self._c;return e("div",{staticClass:"topic-4a9ce"},[e("div",{staticClass:"topic4a9ce-wrapper"},[e("div",{class:"type"+t.question.key},[e("div",{staticClass:"title"},[t._v(t._s(t.title))]),t.subtitle?e("div",{staticClass:"subtitle"},[t._v(t._s(t.subtitle))]):t._e(),"4"===t.question.key?e("div",{staticClass:"content"},[e("el-image",{staticClass:"reading-img",attrs:{ondragstart:"return false;",oncontextmenu:"return false;",src:t.readingImg}}),e("div",{staticClass:"question-title"},[t._v(t._s(t.question.title))])],1):t._e(),"9"===t.question.key?e("div",{staticClass:"content"},[e("div",{staticClass:"content9"},[e("Player",{staticClass:"player",attrs:{id:t.question.id,md5:t.question.md5,disabled:t.left<=0,recording:t.recording,"auto-play":""},on:{onPlay:t.onPlay}}),e("div",{staticClass:"times"},[t._v("REPLAYS LEFT: "+t._s(t.left))])],1)]):t._e(),"a"===t.question.key?e("div",{staticClass:"content"},[e("el-image",{staticClass:"question-img",attrs:{ondragstart:"return false;",oncontextmenu:"return false;",src:t.fileUrlGet({md5:t.question.md5,type:"jpg"})},on:{load:t.onLoad}})],1):t._e(),"e"===t.question.key||"c"===t.question.key?e("div",{staticClass:"content"},[e("div",{staticClass:"content-title"},[t._v(t._s(t.question.title))])]):t._e()])]),e("Recorder",{ref:"recorder",attrs:{"prepare-ended":t.prepareEnded,topic:t.topic,pause:t.pause,disabled:t.playing,question:t.question},on:{onPrepareEnded:t.onPrepareEnded,next:t.onNext}})],1)},B=[],z=s("f7f9"),U=s.n(z),Y=function(){var t=this,e=t._self._c;return e("div",{staticClass:"recorder"},[t.loading?e("div",{staticClass:"loadingBtn"},[t._m(0)]):[t.recording?e("div",{staticClass:"recording"},[e("div",{staticClass:"recordingLeft"},[e("div",{staticClass:"point"}),e("div",{staticClass:"text"},[t._v(t._s(t.$t("componentrecorder.recordingText")))])]),e("div",{staticClass:"duration"},[t._v(t._s(t.durationText))])]):t._e(),t.topic.prepare&&!t.prepareEnded?e("div",{class:"submit "+(t.disabled?"disabled":""),on:{click:t.onPrepareEnded}},[t._v(" RECORD NOW ")]):t.answer||t.recording?t.recording?e("div",{class:"submit "+(t.topic.min&&t.duration/1e3<t.topic.min?"disabled":""),on:{click:t.onStop}},[t._v(" "+t._s(t.btnText)+" ")]):t._e():e("div",{class:"submit "+(t.disabled?"disabled":""),on:{click:t.onStart}},[t._v(" RECORD NOW ")])],e("RecorderAuthModal",{attrs:{visible:t.authVisible},on:{onCancel:function(e){t.authVisible=!1}}})],2)},G=[function(){var t=this,e=t._self._c;return e("span",{staticClass:"loadingPoint"},[e("i"),e("i"),e("i")])}],R=s("a12f"),W=s.n(R),Z=s("0919"),Q=s("665d");W.a.TrafficImgUrl="";var H={components:{RecorderAuthModal:Z["a"]},props:{question:Object,answer:String,topic:Object,prepareEnded:Boolean,pause:Boolean,disabled:Boolean},data(){const t=Object(b["i"])("sampleRate"),e=new W.a({type:"wav",sampleRate:t?(Q["a"].find(e=>e.key===t)||Q["a"][0]).value:Q["a"][0].value,bitRate:16,duration:180});return{recorderManager:e,recording:!1,duration:0,authVisible:!1,startTime:null}},computed:{durationText(){if(!this.duration)return"00:00.00";const t=("0"+this.duration%1e3).slice(-3).substring(0,2),e=("0"+parseInt(this.duration/1e3,10)%60).slice(-2),s=("0"+parseInt(parseInt(this.duration/1e3,10)/60,10)).slice(-2);return`${s}:${e}.${t}`},btnText(){return this.topic.min&&this.duration/1e3<this.topic.min?`CONTINUE AFTER ${this.topic.min} SECONDS`:"CONTINUE"},...Object(a["mapState"])("exam",{loading(t){return t.loading}})},watch:{"question.id":{handler(){if(this.recording)return this.recording=!1,void this.$store.commit("exam/upState",{recording:!1});this.recording=!1,this.$store.commit("exam/upState",{recording:!1}),this.duration=0},immediate:!0},prepareEnded:{handler(t){t&&this.onStart(!0)}}},beforeDestroy(){this.recording&&(this.recording=!1),this.$store.commit("exam/upState",{recording:!1})},methods:{onStart(t){this.disabled&&!0!==t||(this.pause?this.$message.error(""+this.$t("topicInfo.testStop")):(this.recording=!0,this.$store.commit("exam/upState",{recording:!0}),this.recorderManager.open(async()=>{this.$emit("onStart"),this.recorderManager.start(),this.startTimmer()},(t,e)=>{this.recording=!1,this.$store.commit("exam/upState",{recording:!1}),this.duration=0,e?this.authVisible=!0:this.$message.error(""+this.$t("componentrecorder.nouse"))})))},onStop(){this.recording?this.topic.min&&this.duration/1e3<this.topic.min||(this.recording=!1):this.$emit("next")},async onSubmit(){this.recorderManager.stop(async t=>{this.$store.commit("exam/upState",{recording:!1}),this.duration=0;const e=new File([t],Date.now()+".wav",{type:"audio/wav"});this.recorderManager.close();const s=new FormData;s.append("file",e),await this.$store.dispatch("exam/uploadAndSubmit",s)})},onPrepareEnded(){this.$emit("onPrepareEnded")},startTimmer(){this.startTime=performance.now(),requestAnimationFrame(this.updateTimer.bind(this))},updateTimer(t){this.duration=20*Math.floor((t-this.startTime)/20);const e=r.a.min([this.topic.duration,180]);this.$emit("onRecording",this.duration),this.duration<1e3*e&&this.recording?requestAnimationFrame(this.updateTimer.bind(this)):(this.$emit("onStop"),this.onSubmit())}}},J=H,F=(s("627c"),Object(h["a"])(J,Y,G,!1,null,"72009932",null)),K=F.exports;const V=Object(C["Bb"])("exam/record-detail.png"),X=Object(C["Bb"])("exam/down.png"),tt=(Object(C["Cb"])("image/reading.svg"),Object(C["Cb"])("image/readingi18n.svg"));var et={components:{Player:S,Recorder:K},props:{question:Object,answer:String,topic:Object,prepareEnded:Boolean,pause:Boolean},data(){return{staticUrlGet:C["Cb"],fileUrlGet:C["w"],recordDetailImg:V,downImg:X,readingImg:tt,errDicts:[],page:1,pageSize:6,avatarUrl:C["e"],publish:{},left:3}},computed:{...Object(a["mapState"])("app",{user(t){return t.user},target:t=>t.target,correctNum(t){const{user:e}=t;return e.correctNum||0}}),...Object(a["mapState"])("question",{userQuestionPublish(t){return t.userQuestionPublish}}),...Object(a["mapState"])("exam",{recording(t){return t.recording},playing(t){return t.playing},loading(t){return t.loading}}),title(){return"4"===this.question.key?"Record yourself saying the statement below":"c"===this.question.key?this.prepareEnded?"Speak about the topic below":"Prepare to speak about the topic below":"9"===this.question.key?this.prepareEnded?"Speak about the topic":"Prepare to speak about the topic below":"a"===this.question.key?this.prepareEnded?"Speak about the image below":"Prepare to speak about the image below":"e"===this.question.key?this.prepareEnded?"Speak about the topic below":"Prepare to speak about the topic below":""},subtitle(){return["9","a","e"].includes(this.question.key)?this.prepareEnded?"You have 90 seconds to speak":"You will have  90 seconds to speak":"c"===this.question.key?this.prepareEnded?"You have 3 minutes to speak":"You will have 3 minutes to speak":""}},watch:{"question.key":{handler(t){t&&(this.left=3)}}},methods:{formatTime(t){return U()(t).format("YYYY-MM-DD HH:mm")},onPrepareEnded(){this.$emit("onPrepareEnded")},onLoad(){this.$emit("load")},onPlay(){this.left-=1},onNext(){this.$emit("next")},recorderStop(){this.$refs.recorder.onStop()}}},st=et,it=(s("08b2"),Object(h["a"])(st,L,B,!1,null,"04e297c3",null)),nt=it.exports,at=function(){var t=this,e=t._self._c;return e("div",{staticClass:"topic-7"},[e("div",{staticClass:"title"},[t._v("Select the real English words in this list.")]),e("div",{staticClass:"content"},t._l(t.words,(function(s,i){return e("div",{key:i,class:"word "+t.classGet(s),on:{click:function(e){return t.handleClick(s)}}},[t._v(" "+t._s(s)+" ")])})),0)])},ot=[],rt={props:{question:Object,answerData:Object},data(){return{answer:[]}},computed:{words(){try{return JSON.parse(this.question.title)}catch(t){return[]}},dicts(){const t="string"===typeof this.question.title?JSON.parse(this.question.title||"[]"):[],{dicts:e={}}=this.answerData,s=[];return r.a.each(t,t=>{e[t.toLocaleLowerCase()]&&s.push({title:t,...e[t]})}),s}},methods:{handleClick(t){r.a.isEmpty(this.answerData)&&(r.a.includes(this.answer,t)?this.answer=[...r.a.pull(this.answer,t)]:this.answer=[...this.answer,t],this.$store.commit("exam/upState",{answer:this.answer.length?this.answer:void 0}))},classGet(t){return this.answer.includes(t)?"select":""}}},ct=rt,lt=(s("fec4"),Object(h["a"])(ct,at,ot,!1,null,"6e16d559",null)),dt=lt.exports,ut=function(){var t=this,e=t._self._c;return t.words?e("div",{staticClass:"topic-7"},[e("div",{staticClass:"title"},[t._v("Is this a real English word?")]),e("div",{staticClass:"content"},t._l(t.words,(function(s,i){return e("div",{key:i},[t._v(" "+t._s(s)+" ")])})),0),[e("div",{staticClass:"yesOrNo_out"},[e("div",{class:"word "+(1===t.userClickYes?"click":""),on:{click:function(e){return t.handleClick("1")}}},[t.loading&&1===t.userClickYes?e("span",{staticClass:"loading"},[e("i"),e("i"),e("i")]):[e("img",{attrs:{src:t.CorrectIcon,alt:""}}),e("span",{staticClass:"text"},[t._v("Yes")])]],2),e("div",{class:"word "+(2===t.userClickYes?"click":""),on:{click:function(e){return t.handleClick("0")}}},[t.loading&&2===t.userClickYes?e("span",{staticClass:"loading"},[e("i"),e("i"),e("i")]):[e("img",{attrs:{src:t.ErrorIcon,alt:""}}),e("span",{staticClass:"text"},[t._v("No")])]],2)])]],2):t._e()},ht=[],pt="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iNDgiIGhlaWdodD0iNDgiIHZpZXdCb3g9IjAgMCA0OCA0OCIgZmlsbD0ibm9uZSI+DQo8cGF0aCBkPSJNNDIuODExNiAxMS4xNzc4QzQ0LjM5NjEgMTIuNzQ4MyA0NC4zOTYxIDE1LjI5NDUgNDIuODExNiAxNi44NjQ5TDIzLjYzMyAzNS44NzRDMjEuMzExNiAzOC4xNzQ5IDE3LjU0NzggMzguMTc0OSAxNS4yMjY0IDM1Ljg3NEw1LjE4ODM1IDI1LjkyNDhDMy42MDM4OCAyNC4zNTQzIDMuNjAzODggMjEuODA4MSA1LjE4ODM1IDIwLjIzNzdDNi43NzI4MSAxOC42NjcyIDkuMzQxNzQgMTguNjY3MiAxMC45MjYyIDIwLjIzNzdMMTkuNDI5NyAyOC42NjU5TDM3LjA3MzggMTEuMTc3OEMzOC42NTgzIDkuNjA3MzkgNDEuMjI3MiA5LjYwNzM5IDQyLjgxMTYgMTEuMTc3OFoiIGZpbGwtcnVsZT0iZXZlbm9kZCIgIGZpbGw9IiMzQzVEODYiID4NCjwvcGF0aD4NCjwvc3ZnPg0K",mt="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iNDgiIGhlaWdodD0iNDgiIHZpZXdCb3g9IjAgMCA0OCA0OCIgZmlsbD0ibm9uZSI+DQo8cGF0aCBkPSJNMTMuOTM5NSA4LjE5MDYzQzEyLjM1MiA2LjYwMzEyIDkuNzc4MTMgNi42MDMxMiA4LjE5MDYzIDguMTkwNjNDNi42MDMxMiA5Ljc3ODEzIDYuNjAzMTIgMTIuMzUyIDguMTkwNjMgMTMuOTM5NUwxOC4yNTExIDI0TDguMTkwNjMgMzQuMDYwNUM2LjYwMzEyIDM1LjY0OCA2LjYwMzEyIDM4LjIyMTkgOC4xOTA2MyAzOS44MDk0QzkuNzc4MTMgNDEuMzk2OSAxMi4zNTIgNDEuMzk2OSAxMy45Mzk1IDM5LjgwOTRMMjQgMjkuNzQ4OUwzNC4wNjA1IDM5LjgwOTRDMzUuNjQ4IDQxLjM5NjkgMzguMjIxOSA0MS4zOTY5IDM5LjgwOTQgMzkuODA5NEM0MS4zOTY5IDM4LjIyMTkgNDEuMzk2OSAzNS42NDggMzkuODA5NCAzNC4wNjA1TDI5Ljc0ODkgMjRMMzkuODA5NCAxMy45Mzk1QzQxLjM5NjkgMTIuMzUyIDQxLjM5NjkgOS43NzgxMyAzOS44MDk0IDguMTkwNjNDMzguMjIxOSA2LjYwMzEyIDM1LjY0OCA2LjYwMzEyIDM0LjA2MDUgOC4xOTA2M0wyNCAxOC4yNTExTDEzLjkzOTUgOC4xOTA2M1oiICAgZmlsbD0iIzNDNUQ4NiIgPg0KPC9wYXRoPg0KPC9zdmc+DQo=",gt={props:{question:Object,answerData:Object},data(){return{CorrectIcon:pt,ErrorIcon:mt,answer:[],userClickYes:0}},computed:{words(){try{return[this.question.title]}catch(t){return[]}},...Object(a["mapState"])({loading:t=>{const{exam:{loading:e}}=t;return e}})},watch:{answerData:{handler(t){r.a.isEmpty(t)?(this.answer=[],this.userClickYes=0):this.answer=t.answer||[]},deep:!0,immediate:!0},words:{handler(){this.userClickYes=0},deep:!0,immediate:!0}},methods:{handleClick(t){this.loading||0!==this.userClickYes||r.a.isEmpty(this.answerData)&&(this.userClickYes="1"===t?1:2,this.answer=t,this.$store.commit("exam/upState",{answer:this.answer}),this.$emit("next"))}}},vt=gt,wt=(s("1c79"),Object(h["a"])(vt,ut,ht,!1,null,"2d1722bf",null)),yt=wt.exports,xt=function(){var t=this,e=t._self._c;return e("div",{class:"topic-8-d type"+t.question.key},[e("div",{staticClass:"title"},[t._v(t._s(t.title)+" ")]),"d"!==t.question.key||t.prepareEnded?t._e():e("div",{staticClass:"subtitle"},[e("div",{staticClass:"center"},[t._v("You will have 5 minutes to write")])]),e("div",{staticClass:"content"},[!t.prepareEnded&&t.topic.prepare?e("div",{staticClass:"top"},[e("div",{staticClass:"center"},[t._v(t._s(t.question.title))])]):e("div",{staticClass:"top"},[e("div",{staticClass:"left"},[t._v(t._s(t.question.title))]),e("div",{staticClass:"right"},[e("div",{staticClass:"answer-input"},[e("el-input",{staticClass:"input",attrs:{type:"textarea",spellcheck:!1,autocomplete:"off",rows:6,placeholder:"Your response"},on:{input:t.onChange},model:{value:t.answer,callback:function(e){t.answer=e},expression:"answer"}}),"8"===t.question.key?e("div",{staticClass:"word-number"},[t._v("Words："+t._s(t.length))]):t._e()],1)])])])])},_t=[],Ct={props:{question:Object,topic:Object,prepareEnded:Boolean},data(){return{answer:""}},computed:{length(){let t=0;return t=r.a.trim(this.answer)?r.a.trim(this.answer)&&!r.a.trim(this.answer).match(/\s+/g)?1:r.a.trim(this.answer).match(/\s+/g).length+1:0,t},title(){return"8"===this.question.key?"Answer the question with at least 50 words":"d"!==this.question.key||this.prepareEnded?"d"===this.question.key?"Write about the topic below for 5 minutes.":"":"Prepare to write about the topic below"}},watch:{question:{handler(){this.answer=""},deep:!0}},methods:{onChange(t){this.$store.commit("exam/upState",{answer:t})},formatTime(t){return U()(t).format("YYYY-MM-DD HH:mm")}}},bt=Ct,ft=(s("49db"),Object(h["a"])(bt,xt,_t,!1,null,"5b42a3a1",null)),It=ft.exports,kt=function(){var t=this,e=t._self._c;return e("div",{staticClass:"topic-6"},[e("div",{staticClass:"title"},[t._v("Write a description of the image below for 1 minute.")]),e("div",{staticClass:"content"},[e("div",{staticClass:"top"},[e("el-image",{staticClass:"left",attrs:{ondragstart:"return false;",oncontextmenu:"return false;",src:t.fileUrlGet({md5:t.question.md5,type:"jpg"})},on:{load:t.onLoad}}),e("div",{staticClass:"right"},[e("el-input",{staticClass:"input",attrs:{type:"textarea",rows:6,placeholder:"Your response",spellcheck:!1,autocomplete:"off","show-word-limit":""},on:{input:t.onChange},model:{value:t.answer,callback:function(e){t.answer=e},expression:"answer"}})],1)],1)])])},Tt=[],St={props:{question:Object},data(){return{answer:"",fileUrlGet:C["w"]}},computed:{length(){let t=0;return t=r.a.trim(this.answer)?r.a.trim(this.answer)&&!r.a.trim(this.answer).match(/\s+/g)?1:r.a.trim(this.answer).match(/\s+/g).length+1:0,t}},watch:{question:{handler(){this.answer=void 0},deep:!0}},methods:{onChange(t){this.$store.commit("exam/upState",{answer:t})},onLoad(){this.$emit("load")}}},qt=St,Mt=(s("e420"),Object(h["a"])(qt,kt,Tt,!1,null,"2daacbbe",null)),Nt=Mt.exports,Dt=function(){var t=this,e=t._self._c;return e("div",{staticClass:"topic-i-exam"},[e("div",{staticClass:"countDonwl"},[e("count-down",{attrs:{id:`${t.question.id}${t.countDownKey}`,duration:t.duration,pause:t.pause,process:100*(t.question.order+1)/59,desc:`for ${6-t.hdydIndex} questions`},on:{onEnded:t.onCountDownEnded}})],1),e("div",{staticClass:"topic-i-wrapper"},[-1===t.hdydIndex?e("div",{staticClass:"startOrEnd"},[e("div",{staticClass:"title"},[t._v("Interactive reading")]),e("el-image",{attrs:{src:t.topicIStartImg}}),e("div",{staticClass:"desc"},[t._v("You will have 7 minutes to answer questions about a reading passage.")])],1):t._e(),[2,3].includes(t.hdydIndex)&&t.isLg?e("div",[e("div",{staticClass:"answerSelectTitle"},[t._v(" Tap the start and end of the text to highlight the answer to the question below. ")]),e("div",{staticClass:"answerQuestionTitle"},[t._v(t._s(t.ansOps))]),e("div",{staticClass:"answerContent"},[e("div",{class:"answerContentInfo "+(t.showAnswer?t.answer[t.hdydIndex]===t.correctAnswer?"correct":"error":"")},[t._v(" "+t._s(t.answer[t.hdydIndex])+" ")]),t.showAnswer&&t.answer[t.hdydIndex]!==t.correctAnswer?e("div",{staticClass:"answerContentInfo correct"},[t._v(" "+t._s(t.correctAnswer)+" ")]):t._e()])]):t._e(),[0,1,4,5].includes(t.hdydIndex)&&t.isLg?e("div",{staticClass:"answerQuestionTitle firstQuestion"},[t._v(" "+t._s(t.answerTitle)+" ")]):t._e(),[4,5].includes(t.hdydIndex)&&t.isLg?[e("el-radio-group",{attrs:{size:"large"},model:{value:t.answer[t.hdydIndex],callback:function(e){t.$set(t.answer,t.hdydIndex,e)},expression:"answer[hdydIndex]"}},t._l(t.ansOps,(function(s,i){return e("div",{key:i},[e("el-radio",{class:""+(t.showAnswer?t.correctAnswer===i?"correct":t.answer[t.hdydIndex]===i?"error":"":""),attrs:{label:i,border:"",disabled:t.showAnswer}},[t._v(t._s(s))])],1)})),0)]:6===t.hdydIndex?e("div",{staticClass:"startOrEnd"},[e("div",{staticClass:"title"},[t._v("Interactive reading")]),e("el-image",{attrs:{src:t.topicIStartImg}}),e("div",{staticClass:"desc"},[t._v("This section is now complete.")])],1):t._e(),[-1,6].includes(t.hdydIndex)?t._e():e("div",{staticClass:"content"},[e("div",{staticClass:"question"},[e("div",{staticClass:"questionTitle"},[t._v("PASSAGE")]),e("div",{key:t.hdydIndex,staticClass:"questionContent"},[[0,1].includes(t.hdydIndex)?t._l(t.title,(function(s,i){return e("span",{key:i},[e("span",{key:i},[t._v(t._s(s))]),i!==t.title.length-1&&0===t.hdydIndex?e("el-select",{class:`space-0 ${t.ansOps[i][t.answer[t.hdydIndex][i]]?"active":""} ${t.showAnswer?t.correctAnswer[i]===t.answer[t.hdydIndex][i]?"correct":"error":""}`,attrs:{placeholder:t.isLg?"Select a word":"","popper-append-to-body":"",disabled:!t.isLg},model:{value:t.answer[t.hdydIndex][i],callback:function(e){t.$set(t.answer[t.hdydIndex],i,e)},expression:"answer[hdydIndex][i]"}},[e("span",{staticClass:"num",attrs:{slot:"prefix"},slot:"prefix"},[t._v(t._s(i+1))]),t._l(t.ansOps[i],(function(t,s){return e("el-option",{key:t,staticClass:"topic-i-option",attrs:{label:t,value:s}})}))],2):i!==t.title.length-1&&1===t.hdydIndex?e("div",[e("Select",{attrs:{options:t.ansOps,correct:t.correctAnswer,"show-answer":t.showAnswer,exam:""},on:{input:t.selectChange},model:{value:t.answer[t.hdydIndex],callback:function(e){t.$set(t.answer,t.hdydIndex,e)},expression:"answer[hdydIndex]"}})],1):t._e()],1)})):[2,3].includes(t.hdydIndex)&&(t.isLg||t.isMobileDevice)?e("span",{staticStyle:{display:"flex","flex-wrap":"wrap"}},t._l(t.title.split(" "),(function(s,i){return e("span",{key:i,class:"selectText "+(t.isExist(t.selectIndex[0])&&t.isExist(t.selectIndex[1])&&i>=t.selectIndex[0]&&i<=t.selectIndex[1]?"middle":""),staticStyle:{padding:"0 4px"},on:{click:function(e){return t.onSelectStartOrEnd(i)}}},[t.selectIndex[0]===i?e("span",{staticClass:"start"},[t._v("|")]):t._e(),t._v(t._s(s)),t.selectIndex[1]===i?e("span",{staticClass:"end"},[t._v("|")]):t._e()])})),0):[2,3,4,5].includes(t.hdydIndex)?[e("span",{class:"questionContent-"+t.hdydIndex,domProps:{innerHTML:t._s(t.title)},on:{click:t.onTextSelect,copy:t.onTextCopy}})]:t._e()],2)]),e("div",{staticClass:"answer"},[e("div",{staticClass:"answerTitle"},[t._v(t._s(t.answerTitle))]),0===t.hdydIndex?e("div",t._l(t.title,(function(s,i){return e("div",{key:i,staticClass:"select"},[i!==t.title.length-1?[t.showAnswer?t._e():e("el-select",{class:"el-select",attrs:{placeholder:"Select a word",size:"large"},on:{change:t.selectChange},model:{value:t.answer[t.hdydIndex][i],callback:function(e){t.$set(t.answer[t.hdydIndex],i,e)},expression:"answer[hdydIndex][i]"}},t._l(t.ansOps[i],(function(t,s){return e("el-option",{key:`${i}-${s}`,staticClass:"topic-i-option addd",attrs:{label:t,value:s}})})),1),t.showAnswer?e("div",{staticClass:"showAnswer-0"},[e("div",{class:"num "+(t.answer[t.hdydIndex][i]||0===t.answer[t.hdydIndex][i]?"selected":"")},[t._v(" "+t._s(i+1)+" ")]),e("div",{class:"myAnswer-0 "+(t.correctAnswer[i]===t.answer[t.hdydIndex][i]?"correct":"error")},[t._v(" "+t._s(t.ansOps[i][t.answer[t.hdydIndex][i]])+" ")]),e("div",{staticClass:"correctAnswer-0"},[t._v(" "+t._s(t.ansOps[i][t.correctAnswer[i]])+" ")])]):e("div",{class:"num "+(t.answer[t.hdydIndex][i]||0===t.answer[t.hdydIndex][i]?"selected":"")},[t._v(" "+t._s(i+1)+" ")])]:t._e()],2)})),0):[1,4,5].includes(t.hdydIndex)?e("div",[e("el-radio-group",{attrs:{size:"large"},model:{value:t.answer[t.hdydIndex],callback:function(e){t.$set(t.answer,t.hdydIndex,e)},expression:"answer[hdydIndex]"}},t._l(t.ansOps,(function(s,i){return e("div",{key:i},[e("el-radio",{class:""+(t.showAnswer?t.correctAnswer===i?"correct":t.answer[t.hdydIndex]===i?"error":"":""),attrs:{label:i,border:"",disabled:t.showAnswer}},[t._v(t._s(s))])],1)})),0)],1):[2,3].includes(t.hdydIndex)?e("div",[e("div",{staticClass:"answerQuestionTitle"},[t._v(t._s(t.ansOps))]),e("div",{staticClass:"answerContent"},[t.answer[t.hdydIndex]?t._e():e("div",{staticClass:"answerContentTitle"},[t._v("Click and drag to highlight text")]),e("div",{class:"answerContentInfo "+(t.showAnswer?t.answer[t.hdydIndex]===t.correctAnswer?"correct":"error":"")},[t._v(" "+t._s(t.answer[t.hdydIndex])+" ")]),t.showAnswer&&t.answer[t.hdydIndex]!==t.correctAnswer?e("div",{staticClass:"answerContentInfo correct"},[t._v(" "+t._s(t.correctAnswer)+" ")]):t._e()])]):t._e()])])],2),e("div",{staticClass:"footer"},[e("div"),t.loading?e("div",{staticClass:"loadingBtn"},[t._m(0)]):e("div",{class:"btn start "+(t.nextDisabled?"disabled":""),on:{click:t.onNext}},[t._v("CONTINUE")])])])},Pt=[function(){var t=this,e=t._self._c;return e("span",{staticClass:"loadingPoint"},[e("i"),e("i"),e("i")])}],Et=s("42ff");const Ot=Object(C["Bb"])("exam/topic-i-start.svg"),jt=Object(C["Bb"])("exam/topic-i-end.svg");var $t={components:{CountDown:m,Select:Et["a"]},props:{question:Object,pause:Boolean,topic:Object},data(){return{hdydIndex:0,answer:[[]],showAnswer:!1,topicIStartImg:Ot,topicIEndImg:jt,selectIndex:[]}},computed:{...Object(a["mapState"])({loading:t=>{const{exam:{loading:e}}=t;return e}}),title(){if(!this.question.title)return[];const t=JSON.parse(this.question.title),e=t[this.hdydIndex];switch(this.hdydIndex){case 0:return e.split(/\(\d{1,2}\)/g);case 1:return e.split("(******)");case 2:case 3:if(this.showAnswer){let t="";return-1!==this.answer[this.hdydIndex].indexOf(this.correctAnswer)&&this.answer[this.hdydIndex]!==this.correctAnswer?(t=e.replace(this.answer[this.hdydIndex],`<span style="color: #F66442">${this.answer[this.hdydIndex]}</span>`),t=t.replace(this.correctAnswer,`<span style="color: #6DD400">${this.correctAnswer}</span>`)):(t=e.replace(this.correctAnswer,`<span style="color: #6DD400">${this.correctAnswer}</span>`),-1===this.correctAnswer.indexOf(this.answer[this.hdydIndex])&&(t=t.replace(this.answer[this.hdydIndex],`<span style="color: #F66442">${this.answer[this.hdydIndex]}</span>`))),t}return e;default:return e}},isMobileDevice(){return/(iPhone|iPad|iPod|iOS|Android)/i.test(navigator.userAgent)},ansOps(){if(!this.question.answer)return"";const t=JSON.parse(this.question.answer);return t[this.hdydIndex][0]},correctAnswer(){if(!this.question.answer)return"";const t=JSON.parse(this.question.answer);return"string"===typeof t[this.hdydIndex][1]?r.a.trim(t[this.hdydIndex][1]):t[this.hdydIndex][1]},answerTitle(){switch(this.hdydIndex){case 0:return"Select the best option for each missing word";case 1:return"Select the best sentence to complete the passage";case 2:case 3:return this.isMobileDevice?" Tap the start and end of the text to highlight the answer to the question below.":"Highlight text in the passage to answer the question below";case 4:return"Select the idea that is expressed in the passage";case 5:return"Select the best title for the passage";default:return""}},nextDisabled(){switch(this.hdydIndex){case-1:case 6:return!1;case 0:return this.title.length!==this.answer[this.hdydIndex].length+1;case 1:case 4:case 5:return!this.answer[this.hdydIndex]&&0!==this.answer[this.hdydIndex];case 2:case 3:return!this.answer[this.hdydIndex];default:return!0}},extData(){const t=JSON.parse(this.question.extData||"{}");return t},duration(){return-1===this.hdydIndex||6===this.hdydIndex?30:this.topic.duration},countDownKey(){return-1===this.hdydIndex?"1":6===this.hdydIndex?"2":"3"},isLg(){return this.$store.state.app.offsetWidth<928}},watch:{"question.id":{handler(t){t&&(this.hdydIndex=0,this.answer=[[]],this.showAnswer=!1,this.selectIndex=[])},immediate:!0,deep:!0}},methods:{onSelectStartOrEnd(t){this.isExist(this.selectIndex[0])?this.isExist(this.selectIndex[1])?this.selectIndex=[t]:t>this.selectIndex[0]?(this.$set(this.selectIndex,1,t),this.$set(this.answer,this.hdydIndex,this.title.split(" ").slice(this.selectIndex[0],this.selectIndex[1]+1).join(" ")),this.$store.commit("exam/upState",{answer:this.answer})):this.$set(this.selectIndex,0,t):this.$set(this.selectIndex,0,t)},isExist(t){return t||0===t},async onNext(){if(!this.nextDisabled)if(this.pause)this.$message.error(""+this.$t("topicInfo.testStop"));else{if(5===this.hdydIndex)return await this.$store.commit("exam/upState",{answer:this.answer}),void this.$emit("next");this.hdydIndex+=1,this.showAnswer=!1,this.selectIndex=[]}},selectChange(){this.$store.commit("exam/upState",{answer:this.answer})},onTextSelect(){if(this.showAnswer)return;const t=window.getSelection?window.getSelection():document.selection.createRange().text,e=t.toString();this.$set(this.answer,this.hdydIndex,e),this.$store.commit("exam/upState",{answer:this.answer})},onTextCopy(t){const e=document.getSelection(),s=e.toString();this.$set(this.answer,this.hdydIndex,s),this.$store.commit("exam/upState",{answer:this.answer}),t.preventDefault()},onCountDownEnded(){-1===this.hdydIndex?this.hdydIndex=0:(this.$store.commit("exam/upState",{timeTips:!0}),setTimeout(()=>{this.$store.commit("exam/upState",{timeTips:!1})},1e3),this.$emit("next"))}}},At=$t,Lt=(s("c195"),s("d9c5"),Object(h["a"])(At,Dt,Pt,!1,null,null,null)),Bt=Lt.exports,zt=function(){var t=this,e=t._self._c;return e("div",{staticClass:"topic-l"},[e("div",{staticClass:"countDonwl"},[e("count-down",{attrs:{id:""+((t.hdtlIndex-2)/2===t.titles.length?t.question.id+"2":t.question.id),duration:(t.hdtlIndex-2)/2===t.titles.length?t.topic.duration2:t.topic.duration,pause:t.playing||t.pause,process:100*(t.question.order+1)/59,desc:(t.hdtlIndex-2)/2===t.titles.length?"to write":`for the next ${t.titles.length-(0===t.hdtlIndex?0:Math.floor((t.hdtlIndex-1)/2))} questions`},on:{onEnded:t.onCountDownEnded}})],1),e("div",{staticClass:"content scroll"},[t.hdtlIndex/2!==t.titles.length+1?[e("div",{staticClass:"right"},[e("div",{staticClass:"title"},[t._v(" "+t._s(t.questionTitles[0])+" ")]),e("div",{staticClass:"subTitle"},[t._v(" "+t._s(t.questionTitles[1])+" ")]),t.titles.length&&t.hdtlIndex>0&&(t.hdtlIndex-1)/2<=t.titles.length?[t._l(Math.floor((t.hdtlIndex-1)/2),(function(s){return[[t.titles[s-1]?e("div",{key:s+"-1",staticClass:"answerTitle"},[e("img",{staticClass:"logoImg",attrs:{src:t.questionlImg,alt:""}}),e("div",{staticClass:"text"},[t._v(t._s(t.titles[s-1]))])]):t._e(),[e("div",{key:s+"-2",staticClass:"answerItem"},[t.itemParamsGet(s-1).isCorrect?e("div",{staticClass:"correct"},[e("div",{staticClass:"text1"},[t._v(t._s(t.itemParamsGet(s-1).correctText))]),e("img",{staticClass:"correctImg",attrs:{src:t.staticUrlGet("image/test-active.png"),alt:""}})]):t.itemParamsGet(s-1).answerText?e("div",{staticClass:"error"},[e("div",{staticClass:"text1 text2"},[t._v(" "+t._s(t.itemParamsGet(s-1).answerText)+" ")]),e("div",{staticClass:"title"},[t._v(" Correct Answer ")]),e("div",{staticClass:"text1"},[t._v(" "+t._s(t.itemParamsGet(s-1).correctText)+" ")]),e("img",{staticClass:"correctImg",attrs:{src:t.staticUrlGet("image/error.png"),alt:""}})]):t._e()])]]]})),e("div",{staticClass:"audio"},[(t.hdtlIndex-1)/2<t.titles.length&&t.titles[Math.floor((t.hdtlIndex-1)/2)]?e("Audiol",{attrs:{disabled:t.hdtlIndex%2===0,src:t.prusmp3TopicUrlGet(t.question,Math.floor((t.hdtlIndex-1)/2)),img:t.questionlImg},on:{onPlay:t.onPlay,onEnded:t.onEnded}}):t._e()],1)]:t._e(),2!==t.hdtlIndex||t.titles[0]?t._e():e("div",{staticClass:"questionTitle"},[e("div",[t._v(t._s(`Question${Math.floor((t.hdtlIndex-1)/2)+1} of ${t.titles.length}`))]),e("div",[t._v(" Pick the best option to start the conversation. ")])]),t.hdtlIndex>1&&t.hdtlIndex%2===0&&t.hdtlIndex/2<t.titles.length+1?e("div",{staticClass:"options"},[2!==t.hdtlIndex||t.titles[0]?e("div",{staticClass:"questionTitle"},[e("div",[t._v(t._s(`Question${Math.floor((t.hdtlIndex-1)/2)+1} of ${t.titles.length}`))]),e("div",[t._v(" Select the best response. ")])]):t._e(),t._l(t.answers[Math.floor((t.hdtlIndex-2)/2)][0],(function(s,i){return e("div",{key:i,class:"option "+(t.answer[Math.floor((t.hdtlIndex-2)/2)]===i?"active":""),on:{click:function(e){return t.onChange(i)}}},[e("img",{staticClass:"chooseImg",attrs:{src:t.answer[Math.floor((t.hdtlIndex-2)/2)]===i?t.staticUrlGet("image/choose.svg"):t.staticUrlGet("image/unchoose.png"),alt:""}}),e("div",{staticClass:"text"},[t._v(" "+t._s(s)+" ")])])}))],2):t._e(),(t.hdtlIndex-1)/2===t.titles.length?e("div",{staticClass:"complete"},[e("img",{staticClass:"completeImg",attrs:{src:t.staticUrlGet("image/complete.png")}}),e("div",{staticClass:"completeText"},[t._v("The task is complete")])]):t._e(),t.loading?e("div",{staticClass:"loadingBtn"},[t._m(0)]):t._e(),[t.hdtlIndex%2===0||(t.hdtlIndex-1)/2===t.titles.length?e("div",{class:"btn start "+(t.disable?"disabled":""),on:{click:t.onNext}},[t._v(" "+t._s(0===t.hdtlIndex?"START":"NEXT")+" ")]):t._e()]],2)]:[e("div",{staticClass:"finally"},[e("div",{staticClass:"lastest"},[e("div",{staticClass:"questionTitle"},[t._v(" Write a summary of the conversation you just had ")]),e("el-input",{staticClass:"input",attrs:{type:"textarea",spellcheck:!1,autocomplete:"off",rows:10,placeholder:"Your response","show-word-limit":""},on:{input:t.onChange},model:{value:t.answer[t.titles.length],callback:function(e){t.$set(t.answer,t.titles.length,e)},expression:"answer[titles.length]"}})],1),e("div",{staticClass:"footer"},[e("div"),t.loading?e("div",{staticClass:"loadingBtn"},[t._m(1)]):e("div",{class:"btn start "+(t.disable?"disabled":""),on:{click:t.onNext}},[t._v("CONTINUE")])])])]],2)])},Ut=[function(){var t=this,e=t._self._c;return e("span",{staticClass:"loadingPoint"},[e("i"),e("i"),e("i")])},function(){var t=this,e=t._self._c;return e("span",{staticClass:"loadingPoint"},[e("i"),e("i"),e("i")])}],Yt=function(){var t=this,e=t._self._c;return e("div",{staticClass:"audiolComponent"},[e("img",{staticClass:"logoImg",attrs:{src:t.img,alt:""}}),e("div",{staticClass:"right"},[e("div",{staticClass:"text"},[t._v("Listen closely! You can only play the audio clips once")]),e("div",{staticClass:"audio"},[e("el-image",{class:"playImg "+(t.disabled?"disabled":""),attrs:{ondragstart:"return false;",oncontextmenu:"return false;",src:t.playImg},on:{click:t.handleClick}}),e("el-slider",{staticClass:"slider",attrs:{"show-tooltip":!1,disabled:""},model:{value:t.percent,callback:function(e){t.percent=e},expression:"percent"}})],1)])])},Gt=[];const Rt=Object(C["Cb"])("image/play-l.svg"),Wt=Object(C["Cb"])("image/playing-l-1.png"),Zt=Object(C["Cb"])("image/playing-l-2.png"),Qt=Object(C["Cb"])("image/playing-l-3.png"),Ht=[Wt,Zt,Qt];var Jt={props:{src:String,disabled:Boolean,img:String},data(){return{playImg:Rt,duration:0,currentTime:0,percent:0,currentPlaying:!1,audio:null,imgTimmer:null}},watch:{src(){this.audio&&(this.audio.pause(),this.currentPlaying=!1,this.percent=0)}},destroyed(){this.audio&&(this.audio.pause(),this.currentPlaying=!1,this.percent=0)},methods:{handleClick(){this.currentPlaying||this.onPlay()},async onPlay(){if(this.currentPlaying||this.disabled)return;this.audio||(this.audio=new Audio,this.audio.src=this.src,this.audio.onended=()=>{this.percent=0,this.audio=null,this.currentPlaying=!1,this.playImg=Rt,clearInterval(this.imgTimmer),this.$emit("onEnded")}),this.audio.ontimeupdate=()=>{this.percent=100*this.audio.currentTime/this.audio.duration},this.audio.play(),this.$emit("onPlay");let t=0;if(this.playImg=Ht[t],this.imgTimmer=setInterval(()=>{t++,t>2&&(t=0),this.playImg=Ht[t]},500),this.currentPlaying=!0,this.audio.duration)this.audio.currentTime=this.audio.duration*this.percent/100;else{const t=setInterval(()=>{this.audio.duration&&(this.audio.currentTime=this.audio.duration*this.percent/100,clearInterval(t))},100)}},current(){if(!this.audio||!this.audio.currentTime)return"00:00";const t=parseInt(this.audio.currentTime,10),e=("0"+t%60).slice(-2),s=("0"+parseInt(t/60,10)).slice(-2);return`${s}:${e}`}}},Ft=Jt,Kt=(s("1dfc"),s("6719"),Object(h["a"])(Ft,Yt,Gt,!1,null,"466c9696",null)),Vt=Kt.exports;const Xt=Object(C["Bb"])("exam/teacher_open_mouse.png"),te=Object(C["Bb"])("exam/teacher_close_mouse.png "),ee=Object(C["Bb"])("exam/student_open_mouse.png"),se=Object(C["Bb"])("exam/student_close_mouse.png");var ie={components:{Audiol:Vt,CountDown:m},props:{question:Object,topic:Object,pause:Boolean},data(){return{hdtlIndex:0,staticUrlGet:C["Cb"],prusmp3TopicUrlGet:C["kb"],answer:[],playing:!1,questionlImg:"",questionlGif:"",openmouse:"",closemouse:"",timer:null}},computed:{...Object(a["mapState"])({loading:t=>{const{exam:{loading:e}}=t;return e}}),titles(){return this.question.title?JSON.parse(this.question.title)[1]:[]},questionTitles(){return this.question.title?JSON.parse(this.question.title)[0]:[]},answers(){return this.question.answer?JSON.parse(this.question.answer):[]},extData(){const t=JSON.parse(this.question.extData||"{}");return t},translates(){const{translates:t}=this.extData;let e="";return t&&r.a.each(t[0],(s,i)=>{const n=t[1][i];s&&(e+=`A: ${s}\n`),n&&(e+=`B: ${n}\n`)}),e},disable(){return this.hdtlIndex>0&&this.hdtlIndex%2===1&&this.hdtlIndex-1!==2*this.titles.length||this.hdtlIndex>1&&(!this.answer||this.hdtlIndex%2===0&&!this.answer[(this.hdtlIndex-2)/2]&&0!==this.answer[(this.hdtlIndex-2)/2])}},watch:{"question.id":{handler(t){t&&(this.hdtlIndex=0,this.answer=[],this.changeSpeakImg())},immediate:!0,deep:!0}},mounted(){this.preloadImages()},methods:{changeSpeakImg(){const t=JSON.parse(this.question.extData||"{}"),{role:e="1"}=t;"1"===e?(this.questionlImg=se,this.questionlGif=se,this.openmouse=ee,this.closemouse=se):(this.questionlImg=te,this.questionlGif=te,this.openmouse=Xt,this.closemouse=te)},onNext(){if(!this.disable)if(this.pause)this.$message.error(""+this.$t("topicInfo.testStop"));else if(this.hdtlIndex-2!==2*this.titles.length){this.hdtlIndex=this.titles[this.hdtlIndex/2]||0!==this.hdtlIndex?this.hdtlIndex+1:this.hdtlIndex+2;try{setTimeout(()=>{document.querySelector(".scroll").scrollTop+=2e3},200)}catch(t){}}else this.$emit("next")},onCountDownEnded(){this.hdtlIndex-2!==2*this.titles.length?this.hdtlIndex=2*this.titles.length+2:(this.$store.commit("exam/upState",{timeTips:!0}),setTimeout(()=>{this.$store.commit("exam/upState",{timeTips:!1})},1e3),this.$emit("next"))},onChange(t){this.answer[(this.hdtlIndex-2)/2]=t,this.answer=[...this.answer],this.$store.commit("exam/upState",{answer:this.answer})},itemParamsGet(t){try{const{answers:e,answer:s}=this,i=e[t][1]===s[t],n=e[t][0][e[t][1]],a=e[t][0][s[t]];return{isCorrect:i,correctText:n,answerText:a}}catch(e){return{}}},onPlay(){this.playing=!0,this.onPlayImg()},onEnded(){this.playing=!1,this.onEndedImg(),this.hdtlIndex+=1;try{setTimeout(()=>{document.querySelector(".scroll").scrollTop+=2e3},200)}catch(t){}},onPlayImg(){this.timer=setInterval(()=>{this.questionlGif===this.openmouse?this.questionlGif=this.closemouse:this.questionlGif=this.openmouse},400)},onEndedImg(){clearInterval(this.timer),this.questionlGif=this.closemouse},preloadImages(){const t=new Image,e=new Image;t.src=this.openmouse,e.src=this.closemouse}}},ne=ie,ae=(s("5de1"),Object(h["a"])(ne,zt,Ut,!1,null,"bcc1a986",null)),oe=ae.exports,re=function(){var t=this,e=t._self._c;return e("div",{staticClass:"topic-q"},[e("div",{staticClass:"countDonwl"},[t.prepareEnded?e("count-down",{attrs:{id:0===t.pageUiShow||1===t.pageUiShow?String(t.question.id+2):String(t.question.id),duration:0===t.pageUiShow||1===t.pageUiShow?t.topic.duration:t.topic.duration2,process:100*(t.question.order+1)/59,pause:t.pause,desc:"to write"},on:{onEnded:t.onCountDownEnded,onProcess:t.onProcess}}):e("count-down",{attrs:{duration:t.topic.prepare,process:100*(t.question.order+1)/59,pause:t.pause,desc:"to prepare"},on:{onEnded:t.onCountDownEnded}})],1),e("div",{staticClass:"content"},[0===t.pageUiShow?[e("div",{staticClass:"right"},[e("div",{staticClass:"rightContent"},[t._m(0),e("div",{staticClass:"subTitle",domProps:{innerHTML:t._s(t.questionTitles[0].replace(/\n/g,"<br/>"))}}),e("div",{attrs:{id:"scrollBottom"}})])])]:[e("div",{staticClass:"qustion_out"},[e("div",{staticClass:"q1_title"},[e("div",{class:1===t.pageUiShow?"question_tips question_tips_active":"question_tips"},[1===t.pageUiShow?e("span",[t._v("1.")]):e("span",{staticClass:"question_tips_active"},[e("i",{staticClass:"el-icon-success"})]),t._v(" Write about the topic below for 5 minutes. ")]),e("div",{staticClass:"title1",domProps:{innerHTML:t._s(t.questionTitles[0].replace(/\n/g,"<br/>"))}})]),e("div",{staticClass:"q1_input"},[e("el-input",{staticClass:"input",attrs:{disabled:t.pageUiShow>1,type:"textarea",rows:10,placeholder:"Your response"},on:{input:t.onChange1},model:{value:t.answer[0],callback:function(e){t.$set(t.answer,0,e)},expression:"answer[0]"}})],1),e("div",{staticClass:"q2_title"},[e("div",{class:2===t.pageUiShow?"question_tips question_tips_active":"question_tips"},[t.pageUiShow<3?e("span",[t._v("2.")]):e("span",{staticClass:"question_tips_active"},[e("i",{staticClass:"el-icon-success"})]),t._v(" Write a follow-up response for 3 minutes. ")]),2===t.pageUiShow||3===t.pageUiShow?e("div",{staticClass:"title1",domProps:{innerHTML:t._s(t.questionTitles[1].replace(/\n/g,"<br/>"))}}):t._e()]),e("div",{directives:[{name:"loading",rawName:"v-loading",value:t.question2Loading,expression:"question2Loading"}],staticClass:"q2_input"},[2===t.pageUiShow||3===t.pageUiShow?e("el-input",{staticClass:"input",attrs:{disabled:t.pageUiShow>2||1===t.pageUiShow,type:"textarea",rows:10,placeholder:"Your response"},on:{input:t.onChange2},model:{value:t.answer[1],callback:function(e){t.$set(t.answer,1,e)},expression:"answer[1]"}}):t._e()],1)])]],2),e("div",{staticClass:"btnGroup"},[t.loading?e("div",{staticClass:"loadingBtn"},[t._m(1)]):[0===t.pageUiShow?e("el-button",{class:"btn",on:{click:t.onNext}},[t._v(" CONTINUE ")]):t._e(),1===t.pageUiShow?e("el-button",{class:"btn "+(t.enable1?"":"disabled"),on:{click:function(e){t.enable1&&t.onNext({})}}},[t._v(" CONTINUE ")]):2===t.pageUiShow?e("el-button",{class:"btn "+(t.enable2?"":"disabled"),on:{click:function(e){t.enable2&&t.onSubmit({})}}},[t._v(" CONTINUE ")]):t._e()]],2)])},ce=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"title"},[e("div",{staticClass:"title1"},[t._v("Prepare to write about the topic below.")]),e("div",{staticClass:"title2"},[t._v("You will write for 5 minutes, and then write a follow-up response for 3 minutes")])])},function(){var t=this,e=t._self._c;return e("span",{staticClass:"loadingPoint"},[e("i"),e("i"),e("i")])}],le={components:{CountDown:m},props:{question:Object,topic:Object,prepareEnded:Boolean,pause:Boolean},data(){return{pageUiShow:0,answer:[],duration:0,timer:null,question2Loading:!1}},computed:{...Object(a["mapState"])({loading:t=>{const{exam:{loading:e}}=t;return e}}),questionTitles(){return this.question.title?JSON.parse(this.question.title):""},enable1(){return Boolean(this.answer[0])},enable2(){return Boolean(this.answer[1])}},watch:{"question.id":{handler(t,e){t&&t!==e&&(this.pageUiShow=0,this.answer=[])},immediate:!0,deep:!0}},methods:{onProcess(t){this.duration=t},onCountDownEnded(){this.onNext({timeUp:!0})},async onNext(t){const{timeUp:e=!1}=t;if(0===this.pageUiShow&&this.$emit("onPrepareEnded"),1===this.pageUiShow){if(!this.answer[0]&&!e)return void this.$message.error("Please complete the first question first");setTimeout(()=>{const t=document.querySelector(".q2_input");t&&t.scrollIntoView({behavior:"smooth"})},0)}this.pageUiShow+=1,this.duration=0,3===this.pageUiShow&&this.onSubmit(t)},onChange1(t){this.answer[0]=t},onChange2(t){this.answer[1]=t},async onSubmit(t){const{timeUp:e=!1}=t;if(!this.answer[1]&&!e)return this.$message.error("Please fill in the answer for the second question");e&&(this.$store.commit("exam/upState",{timeTips:!0}),setTimeout(()=>{this.$store.commit("exam/upState",{timeTips:!1})},1e3)),await this.$store.commit("exam/upState",{answer:this.answer}),this.pageUiShow=3,await this.$emit("next")}}},de=le,ue=(s("db65"),s("d3f9"),Object(h["a"])(de,re,ce,!1,null,"db3b5370",null)),he=ue.exports,pe=function(){var t,e,s=this,i=s._self._c;return i("div",{staticClass:"topic-5-test-exam"},[i("div",{staticClass:"countDonwl"},[s.hdtlIndex<s.allTask.length+1?[i("count-down",{key:""+s.question.id,attrs:{id:""+s.question.id,duration:s.topic.duration,pause:s.pausefather||s.pause2,process:100*(s.question.order+1)/59,questionremain:s.questionremain},on:{onEnded:function(t){return s.onCountDownEnded(1)}}})]:[i("count-down",{key:s.question.id+"+a",attrs:{id:s.question.id+"+a",duration:s.topic.duration2,pause:s.pausefather||s.pause2,process:100*(s.question.order+1)/59,desc:"to write"},on:{onEnded:function(t){return s.onCountDownEnded(2)}}})]],2),i("div",{staticClass:"content"},[s.hdtlIndex<s.allTask.length+1?[i("div",{class:"right topiclRight "},[i("div",{staticClass:"rightContent"},[i("div",{staticClass:"max_width_content"},[i("div",{staticClass:"first_audio_out"},[i("div",{staticClass:"first_audio_font"},[s._v("Listen to the scenario and then answer questions")]),null!==(t=s.allTask[0])&&void 0!==t&&t.audio_played?i("Audio5",{key:s.question.id+"aa",ref:"audiol",attrs:{src:s.prusmp3Topic5UrlGet(s.firstAudio),img:s.questionlImg,"can-stop":!0}}):i("Audio5",{key:s.question.id+"a",ref:"audiol",attrs:{disabled:null===(e=s.allTask[0])||void 0===e?void 0:e.audio_played,src:s.prusmp3Topic5UrlGet(s.firstAudio),img:s.questionlImg},on:{onPlay:s.onPlay,onEnded:s.onEnded}})],1),s._l(s.allTask,(function(t,e){var n,a,o,r,c,l;return i("div",{key:t.task_id},[s.hdtlIndex>=e?["aic-comprehension"===t.type&&t.audio_played?i("div",{staticClass:"aic_comprehension_out",attrs:{id:"scrollhere"+e}},s._l(t.items,(function(t,e){return i("div",{key:"aic-comprehension-"+e,staticClass:"one_aic_comprehension_test"},[i("div",{staticClass:"one_aic_comprehension_test_question"},[s._v(s._s(t.question))]),i("div",{class:s.hdtlIndex>0?"one_aic_comprehension_test_answer one_aic_comprehension_test_answer_disable":"one_aic_comprehension_test_answer"},[t.answer_template?s._l(s.getTemplateParts(t.answer_template),(function(e,n){return i("span",{key:n},[e.isInput?[i("el-input",{staticClass:"innput_heng",staticStyle:{margin:"0 0px"},attrs:{disabled:s.hdtlIndex>0,placeholder:""},model:{value:t.myanswer,callback:function(e){s.$set(t,"myanswer",e)},expression:"itemin.myanswer"}},[i("template",{slot:"prefix"},[i("span",{staticClass:"el-input__prefix"},[s._v(" "+s._s(t.myanswer)+" ")])])],2)]:i("span",[s._v(s._s(e.text))])],2)})):s._e()],2)])})),0):s._e(),1===e?i("div",{staticClass:"aic_select_start_title"},[s._v(" Participate in a conversation about this scenario ")]):s._e(),"aic-select-start"===t.type?i("div",{staticClass:"aic_select_start_out",attrs:{id:"scrollhere"+e}},[s.hdtlIndex<=e?i("div",{staticClass:"aic_select_start_title_pick"},[s._v(" Pick the best option to start the conversation ")]):s._e(),s.hdtlIndex<=e?i("div",{staticClass:"aic_select_start_item_out"},s._l(t.choices,(function(e,n){return i("div",{key:"itemChoices"+n,class:t.myanswer===n?" aic_select_start_item aic_select_start_item_active":"aic_select_start_item",on:{click:function(e){return s.setChoicesMyAnswer(n,t)}}},[i("div",{staticClass:"circle"}),i("div",{staticClass:"font"},[s._v(" "+s._s(e.text)+" ")])])})),0):i("div",{staticClass:"show_user_answer"},[t.answer===(null===t||void 0===t?void 0:t.myanswer)?[i("div",{staticClass:"user_get_right_answer_out"},[s._m(0,!0),i("div",{staticClass:"right_font"},[s._v(s._s(null===(n=t.choices[t.answer])||void 0===n?void 0:n.text))])])]:[i("div",{staticClass:"user_get_right_answer_out user_get_wrong_answer_out"},[i("div",{staticClass:"wrong_answer_top"},[s._m(1,!0),i("div",{staticClass:"right_font"},[s._v(s._s(null===(a=t.choices[t.myanswer])||void 0===a?void 0:a.text))])]),i("div",{staticClass:"question_right_answer"},[i("div",{staticClass:"best_font"},[s._v("Best Answer:")]),i("div",{staticClass:"right_font"},[s._v(s._s(null===(o=t.choices[t.answer])||void 0===o?void 0:o.text))])])])]],2)]):s._e(),"aic-select-response"===t.type?i("div",{staticClass:"aic_select_response_out"},[s.hdtlIndex<=e?[i("div",{staticClass:"aic_select_response_title"},[s._v("Listen closely! Audio clips only play once.")]),i("div",{staticClass:"aic_select_response_audio_out"},[i("Audio5",{key:s.question.id+"b"+e,attrs:{disabled:t.audio_played,src:s.prusmp3Topic5UrlGet(t.prompt),img:s.questionlImg,showlogo:""},on:{onPlay:s.onPlay,onEnded:s.onEnded}})],1),t.audio_played?i("div",[i("div",{staticClass:"aic_select_response_item_title",attrs:{id:"scrollhere"+e}},[s._v(" Select the best response. ")]),i("div",{staticClass:"aic_select_start_item_out",attrs:{id:"scrollhere"+e}},s._l(t.choices,(function(e,n){return i("div",{key:"itemChoices"+n,class:t.myanswer===n?" aic_select_start_item aic_select_start_item_active":"aic_select_start_item",on:{click:function(e){return s.setChoicesMyAnswer(n,t)}}},[i("div",{staticClass:"circle"}),i("div",{staticClass:"font"},[s._v(" "+s._s(e.text)+" ")])])})),0)]):s._e()]:i("div",{staticClass:"show_user_answer"},[i("div",{staticClass:"test_audio_out"},[i("div",{staticClass:"left_logo_icon"},[i("el-image",{attrs:{src:s.teacher_icon}})],1),i("div",{staticClass:"test_audio_text"},[s._v(s._s(t.prompt))])]),t.answer===t.myanswer?[i("div",{staticClass:"user_get_right_answer_out"},[s._m(2,!0),i("div",{staticClass:"right_font"},[s._v(s._s(null===(r=t.choices[t.answer])||void 0===r?void 0:r.text))])])]:[i("div",{staticClass:"user_get_right_answer_out user_get_wrong_answer_out"},[i("div",{staticClass:"wrong_answer_top"},[s._m(3,!0),i("div",{staticClass:"right_font"},[s._v(s._s(null===(c=t.choices[t.myanswer])||void 0===c?void 0:c.text))])]),i("div",{staticClass:"question_right_answer"},[i("div",{staticClass:"best_font"},[s._v("Best Answer:")]),i("div",{staticClass:"right_font"},[s._v(s._s(null===(l=t.choices[t.answer])||void 0===l?void 0:l.text))])])])]],2)],2):s._e()]:s._e()],2)})),s.hdtlIndex===s.allTask.length&&s.allTask.length?i("div",{staticClass:"talk_done_tips"},[s._v(" The conversation is complete ")]):s._e()],2),i("div",{attrs:{id:"scrollBottom"}})])])]:[s.allTask.length?i("div",{staticClass:"lastest right"},[i("div",{staticClass:"rightContent lastestContent"},[i("div",{staticClass:"questionTitle"},[s._v("Write a summary of the conversation you just had")]),i("div",{staticClass:"center_d"},[i("el-input",{staticClass:"input",attrs:{type:"textarea",spellcheck:!1,autocomplete:"off",rows:10,placeholder:"Your response","show-word-limit":""},model:{value:s.Summarize,callback:function(t){s.Summarize=t},expression:"Summarize"}})],1)])]):s._e()]],2),i("div",{staticClass:"btnGroup"},[i("div"),i("div",{staticStyle:{display:"flex",gap:"12px"}},[[s.loading?i("div",{staticClass:"loadingBtn"},[s._m(4)]):s.hdtlIndex<s.allTask.length+1?i("el-button",{class:"btn "+(s.disable?"disable":""),on:{click:s.onNext}},[s._v(" CONTINUE ")]):i("el-button",{class:"btn "+(s.disable?"disable":""),on:{click:s.onSubmit}},[s._v(" CONTINUE ")])]],2)])])},me=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"left_icon"},[e("i",{staticClass:"el-icon-check"})])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"left_icon"},[e("i",{staticClass:"el-icon-close"})])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"left_icon"},[e("i",{staticClass:"el-icon-check"})])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"left_icon"},[e("i",{staticClass:"el-icon-close"})])},function(){var t=this,e=t._self._c;return e("span",{staticClass:"loadingPoint"},[e("i"),e("i"),e("i")])}],ge=(s("d353"),s("0c65"),s("8bbf")),ve=s.n(ge),we=function(){var t=this,e=t._self._c;return e("div",{staticClass:"audiolComponent"},[t.showlogo?e("div",{staticClass:"logoImg"},[e("el-image",{attrs:{src:t.teacher_icon}})],1):t._e(),e("div",{staticClass:"right"},[t.canStop?e("div",{staticClass:"audio",on:{click:t.handleClick}},[t.iconright?t._e():e("el-image",{class:"playImg "+(t.disabled?"disabled":""),attrs:{ondragstart:"return false;",oncontextmenu:"return false;",src:t.currentPlaying?t.lab_stop_icon:t.lab_icon}}),e("AudioWaveUi",{attrs:{percent:t.percent,disabled:t.disabled,loading:!!t.autoplay&&t.loading}}),t.iconright?e("el-image",{class:"playImg "+(t.disabled?"disabled":""),attrs:{ondragstart:"return false;",oncontextmenu:"return false;",src:t.currentPlaying?t.lab_stop_icon:t.lab_icon}}):t._e()],1):e("div",{staticClass:"audio",on:{click:t.handleClick}},[t.iconright?t._e():e("el-image",{class:"playImg "+(t.disabled?"disabled":""),attrs:{ondragstart:"return false;",oncontextmenu:"return false;",src:t.lab_icon}}),e("AudioWaveUi",{attrs:{percent:t.percent,disabled:t.disabled,loading:!!t.autoplay&&t.loading}}),t.iconright?e("el-image",{class:"playImg "+(t.disabled?"disabled":""),attrs:{ondragstart:"return false;",oncontextmenu:"return false;",src:t.lab_icon}}):t._e()],1)])])},ye=[],xe=function(){var t=this,e=t._self._c;return e("div",{staticClass:"wave-progress"},[t._l(t.waveHeights,(function(s,i){return e("div",{key:i,class:"wave-bar "+(t.disabled?"wave_bar_disabled":""),style:{height:s+"%",background:i/t.waveHeights.length<(t.disabled?100:t.percent)/100?"#3c5d86":"#e5e5e5"}})})),t.loading?e("div",{staticClass:"loading"},[e("div",{staticClass:"circle1"}),e("div",{staticClass:"circle2"}),e("div",{staticClass:"circle3"}),e("div",{staticClass:"circle1"}),e("div",{staticClass:"circle2"}),e("div",{staticClass:"circle3"})]):t._e()],2)},_e=[],Ce={props:{percent:{type:Number,default:0},startLoop:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},loading:{type:Boolean,default:!1}},data(){return{waveHeights:[40,100,20,100,80,100,30,20,80,20,40,100,20,100,80,100,30,20,80,20,40,100,20,100,80,100,30,20,80,20,40,100,20,100,80,100,30,20,80,20]}},watch:{percent(){this.animateWaveHeights()},startLoop(t){t&&(this.percent=100,this.startContinuousAnimation())}},methods:{startContinuousAnimation(){const t=()=>{this.startLoop&&(this.animateWaveHeights(),requestAnimationFrame(t))};t()},animateWaveHeights(){}}},be=Ce,fe=(s("0914"),Object(h["a"])(be,xe,_e,!1,null,"7ee6d2bb",null)),Ie=fe.exports,ke=s("e7ad"),Te="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI0MCIgaGVpZ2h0PSI0MCIgdmlld0JveD0iMCAwIDQwIDQwIj48ZGVmcz48c3R5bGU+LmF7ZmlsbDojM2M1ZDg3O30uYntmaWxsOm5vbmU7c3Ryb2tlOiNmZmY7c3Ryb2tlLWxpbmVjYXA6cm91bmQ7c3Ryb2tlLWxpbmVqb2luOnJvdW5kO3N0cm9rZS13aWR0aDoycHg7fS5je2ZpbGw6I2ZmZjt9PC9zdHlsZT48L2RlZnM+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTYwMSAtNjMwKSI+PHJlY3QgY2xhc3M9ImEiIHdpZHRoPSI0MCIgaGVpZ2h0PSI0MCIgcng9IjIwIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg2MDEgNjMwKSIvPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDYxMi4yNSA2MzguNzUpIj48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxNi43NSA0LjI1KSI+PHBhdGggY2xhc3M9ImIiIGQ9Ik0zMiwxMlYyNiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTMyIC0xMikiLz48L2c+PHBhdGggY2xhc3M9ImMiIGQ9Ik05LjU4NiwxLjQxNGEyLDIsMCwwLDEsMi44MjgsMGw2LjE3Miw2LjE3MkEyLDIsMCwwLDEsMTcuMTcyLDExSDQuODI4QTIsMiwwLDAsMSwzLjQxNCw3LjU4NloiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDExLjI1IDApIHJvdGF0ZSg5MCkiLz48L2c+PC9nPjwvc3ZnPg==",Se="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI0MCIgaGVpZ2h0PSI0MCIgdmlld0JveD0iMCAwIDQwIDQwIj48ZGVmcz48c3R5bGU+LmF7ZmlsbDojM2M1ZDg3O30uYntmaWxsOiNmZmY7ZmlsbC1ydWxlOmV2ZW5vZGQ7fTwvc3R5bGU+PC9kZWZzPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKC02MDEgLTYzMCkiPjxyZWN0IGNsYXNzPSJhIiB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHJ4PSIyMCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNjAxIDYzMCkiLz48cGF0aCBjbGFzcz0iYiIgZD0iTTIxLjQzOCwzMC44OTJIMjAuMjVBMi4yNjUsMi4yNjUsMCwwLDEsMTgsMjguNjExVjI1Ljg3MmEyLjI2NSwyLjI2NSwwLDAsMSwyLjI1LTIuMjhoMS4wODdsNC40NDYtMy4yNTFhLjcwNi43MDYsMCwwLDEsMS4xMi41ODFWMzMuNDg3YS43MDYuNzA2LDAsMCwxLTEuMTIuNTgxWm03LjcyNC02LjczNmEuNzQ1Ljc0NSwwLDAsMSwxLjAwOS0uMzMxLDMuNzA3LDMuNzA3LDAsMCwxLS4wMDksNi41NTEuNzQ1Ljc0NSwwLDAsMS0xLjAwOC0uMzM0Ljc2NS43NjUsMCwwLDEsLjMyOS0xLjAyMiwyLjE3OCwyLjE3OCwwLDAsMCwuMDA1LTMuODQxLjc2NS43NjUsMCwwLDEtLjMyNi0xLjAyM1ptMi44NDMtMy43MTZBLjc0NS43NDUsMCwwLDAsMzEsMjAuNzdhLjc2NS43NjUsMCwwLDAsLjMyNiwxLjAyM0E2LjAxMiw2LjAxMiwwLDAsMSwzMS4zMDcsMzIuNGEuNzY1Ljc2NSwwLDAsMC0uMzI5LDEuMDIyLjc0NS43NDUsMCwwLDAsMS4wMDguMzM0LDcuNTQyLDcuNTQyLDAsMCwwLC4wMTktMTMuMzIyWiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNTk0IDYyMi43OTYpIi8+PC9nPjwvc3ZnPg==";const qe=Object(C["Cb"])("image/play-l.png"),Me=Object(C["Cb"])("image/playing-l-1.png"),Ne=Object(C["Cb"])("image/playing-l-2.png"),De=Object(C["Cb"])("image/playing-l-3.png"),Pe=Object(C["Bb"])("image/pause.svg"),Ee=Object(C["Bb"])("image/play.png"),Oe=[Me,Ne,De];var je={name:"Audio5",components:{AudioWaveUi:Ie},props:{src:String,disabled:Boolean,img:String,showlogo:Boolean,iconright:Boolean,canStop:Boolean,autoplay:Boolean},data(){return{pauseImg:Pe,lab_icon:Se,lab_stop_icon:Te,teacher_icon:ke["a"],playImg:qe,playImg123:Ee,duration:0,currentTime:0,percent:0,currentPlaying:!1,audio:null,imgTimmer:null,loading:!0}},watch:{src(){this.audio&&(this.audio.pause(),this.currentPlaying=!1,this.percent=0)}},beforeDestroy(){this.audio&&(this.audio.pause(),this.currentPlaying=!1,this.percent=0),sessionStorage.removeItem("currentPlaying")},methods:{handleClick(){if(this.canStop)if(this.currentPlaying=!this.currentPlaying,this.currentPlaying){const t=sessionStorage.getItem("currentPlaying");if(t)return void this.$message.warning("Only one audio can be played at a time.");this.onPlay()}else this.audio.pause();else this.currentPlaying||this.onPlay()},async onPlay(){if(this.playing&&!this.currentPlaying||this.disabled)return;this.audio||(this.audio=new Audio,this.audio.src=this.src,this.audio.oncanplaythrough=()=>{this.loading=!1},this.audio.onerror=()=>{this.loading=!1},this.audio.onended=()=>{this.percent=0,this.audio=null,this.currentPlaying=!1,this.playImg=qe,clearInterval(this.imgTimmer),this.$emit("onEnded"),sessionStorage.removeItem("currentPlaying")}),this.audio.addEventListener("play",()=>{sessionStorage.setItem("currentPlaying",!0)}),this.audio.addEventListener("pause",()=>{sessionStorage.removeItem("currentPlaying")}),this.audio.ontimeupdate=()=>{this.percent=100*this.audio.currentTime/this.audio.duration},this.audio.play(),this.$emit("onPlay");let t=0;if(this.playImg=Oe[t],this.imgTimmer=setInterval(()=>{t++,t>2&&(t=0),this.playImg=Oe[t]},500),this.currentPlaying=!0,this.audio.duration)this.audio.currentTime=this.audio.duration*this.percent/100;else{const t=setInterval(()=>{this.audio.duration&&(this.audio.currentTime=this.audio.duration*this.percent/100,clearInterval(t))},100)}},current(){if(!this.audio||!this.audio.currentTime)return"00:00";const t=parseInt(this.audio.currentTime,10),e=("0"+t%60).slice(-2),s=("0"+parseInt(t/60,10)).slice(-2);return`${s}:${e}`}}},$e=je,Ae=(s("fd0f"),s("474b"),Object(h["a"])($e,we,ye,!1,null,"af14c406",null)),Le=Ae.exports,Be=function(){var t=this,e=t._self._c;return e("div",{key:t.id,staticClass:"count-down"},[e("div",{staticClass:"sec"},[[e("svg",{attrs:{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[e("path",{staticStyle:{fill:"color(display-p3 0.898 0.898 0.898)","fill-opacity":"1",stroke:"color(display-p3 0.2941 0.2941 0.2941)","stroke-opacity":"1"},attrs:{d:"M21.019 12.4229C21.019 17.3989 17.0629 21.3956 12.2282 21.3956C7.39344 21.3956 3.43733 17.3989 3.43733 12.4229C3.43733 7.44697 7.39344 3.45027 12.2282 3.45027C17.0629 3.45027 21.019 7.44697 21.019 12.4229Z",fill:"#E5E5E5",stroke:"#4B4B4B","stroke-width":"2.40053"}}),e("path",{staticStyle:{fill:"color(display-p3 0.2941 0.2941 0.2941)","fill-opacity":"1",stroke:"color(display-p3 0.2941 0.2941 0.2941)","stroke-opacity":"1"},attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M12.3032 14.2331C11.2737 14.2331 10.4391 13.3948 10.4391 12.3607C10.4391 11.3266 11.2737 10.4883 12.3032 10.4883C13.3327 10.4883 14.1672 11.3266 14.1672 12.3607C14.1672 13.3948 13.3327 14.2331 12.3032 14.2331Z",fill:"#4B4B4B",stroke:"#4B4B4B","stroke-width":"0.419416"}}),e("path",{staticStyle:{fill:"color(display-p3 0.2941 0.2941 0.2941)","fill-opacity":"1",stroke:"color(display-p3 0.2941 0.2941 0.2941)","stroke-opacity":"1"},attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M15.6003 8.32966C15.8623 8.07001 16.2847 8.07001 16.5467 8.32966C16.8122 8.5927 16.8122 9.02175 16.5467 9.28479L13.4449 12.3582C13.1829 12.6179 12.7605 12.6179 12.4985 12.3582C12.233 12.0952 12.233 11.6662 12.4985 11.4031L15.6003 8.32966Z",fill:"#4B4B4B",stroke:"#4B4B4B","stroke-width":"0.419416"}})]),e("div",{staticClass:"sec_left"},[t._v(t._s(t.formatTime(t.duration-t.current)))]),t.desc?e("span",{staticClass:"desc"},[t._v(t._s(t.desc))]):t._e(),t.questionremain?e("div",{staticClass:"desc"},[t._v("for "+t._s(1===t.questionremain?"this":t.questionremain)+" questions")]):t._e()]],2)])},ze=[],Ue=s("c8d7"),Ye={name:"CountDown5",props:{duration:Number,id:String,pause:Boolean,prepare:Number,topicKey:String,pageUiShow:Number,hdydIndex:Number,desc:String,questionremain:Number},data(){return{resetIcon:Ue["a"],innerWidth:"0%",timmer:null,current:0,timmer2:null,current2:0,isI18n:!0}},computed:{bottomRecorderStart(){return this.$store.state.question.bottomRecorderStart}},watch:{id(){this.isNeedPrepare()?"q"===this.topicKey&&2===this.pageUiShow?this.init():this.loadPrepareTime():this.init()},pause(t){clearInterval(this.timmer),t||(this.timmer=setInterval(()=>{this.current<this.duration?(this.current+=1,this.innerWidth=100*this.current/this.duration+"%"):(clearInterval(this.timmer),this.$emit("onEnded"),this.$store.commit("question/upState",{timeEnd:!0}),setTimeout(()=>{this.$store.commit("question/upState",{timeEnd:!1})},1500))},1e3))},bottomRecorderStart(t){t&&this.isNeedPrepare()&&(this.current2=this.prepare,clearInterval(this.timmer2),this.timmer||this.init())}},created(){console.log(this.hdydIndex),this.$store.commit("question/upState",{bottomRecorderStart:!1}),this.isNeedPrepare()?this.loadPrepareTime():this.init()},beforeDestroy(){clearInterval(this.timmer),clearInterval(this.timmer2),this.current2=0,this.current=0},methods:{isNeedPrepare(){return"9"===this.topicKey||"a"===this.topicKey||"e"===this.topicKey||"c"===this.topicKey||"d"===this.topicKey||"q"===this.topicKey||"b"===this.topicKey},reset(){this.innerWidth="0%",this.isNeedPrepare()?(this.loadPrepareTime(),clearInterval(this.timmer),this.current=0):this.init()},loadPrepareTime(){clearInterval(this.timmer2),this.current2=0,this.timmer2=setInterval(()=>{this.current2<this.prepare?this.current2+=1:(clearInterval(this.timmer2),this.init())},1e3)},init(){clearInterval(this.timmer),this.current=0,this.timmer=setInterval(()=>{this.current<this.duration?(this.current+=1,this.innerWidth=100*this.current/this.duration+"%"):(clearInterval(this.timmer),this.$emit("onEnded"),this.$store.commit("question/upState",{timeEnd:!0}),setTimeout(()=>{this.$store.commit("question/upState",{timeEnd:!1})},1500))},1e3)},formatTime(t){const e=(""+parseInt(t/60,10)).slice(-2),s=("0"+t%60).slice(-2);return`${e}:${s}`}}},Ge=Ye,Re=(s("074b"),Object(h["a"])(Ge,Be,ze,!1,null,"d5ce5822",null)),We=Re.exports;const Ze=Object(C["Bb"])("exam/arrow_up.svg"),Qe=Object(C["Bb"])("exam/arrow_down.svg"),He=Object(C["Bb"])("image/next.svg"),Je=Object(C["Bb"])("image/prev.svg");var Fe={components:{Audio5:Le,CountDown:We},props:{question:Object,topic:Object,displayOrder:Number,total:Number,pausefather:Boolean},data(){return{teacher_icon:ke["a"],arrow_up:Ze,arrow_down:Qe,hdtlIndex:0,staticUrlGet:C["Cb"],prusmp3Topic5UrlGet:C["jb"],answer:[],pause2:!1,questionlImg:"",nextImg:He,prevImg:Je,showWitchItem:-1,allTask:[],firstAudio:"",firstAudioIsPlayStatus:0,allSubItems:[],Summarize:""}},computed:{isMobile(){return this.$store.state.app.isMobile},loading(){return this.$store.state.exam.loading},disable(){const t=this.allTask[this.hdtlIndex]||{myanswer:void 0};return this.pause2||0===this.hdtlIndex&&!t.audio_played||0===this.hdtlIndex&&2===this.firstAudioIsPlayStatus&&!t.items.every(t=>Boolean(t.myanswer))||("aic-select-response"===t.type||"aic-select-start"===t.type)&&void 0===t.myanswer||this.hdtlIndex===this.allTask.length+1&&!this.Summarize},questionremain(){return 0===this.hdtlIndex?this.allSubItems.length-this.hdtlIndex:this.allSubItems.length-this.allSubItems.filter(t=>"aic-comprehension"===t.type).length-this.hdtlIndex+1}},watch:{"question.id":{handler(t,e){if(t&&t!==e){this.hdtlIndex=0,this.firstAudioIsPlayStatus=0,this.pause2=!1,this.answer=[],this.Summarize="";const{scenario:t,tasks:e}=JSON.parse(this.question.title);this.firstAudio=t,this.allTask=e,this.allSubItems=[],this.allTask.forEach(t=>{"aic-comprehension"===t.type?this.allSubItems.push(...t.items):("aic-select-start"===t.type||"aic-select-response"===t.type)&&this.allSubItems.push(t)})}},immediate:!0,deep:!0}},methods:{setChoicesMyAnswer(t,e){ve.a.set(e,"myanswer",t)},changeshowWitchItem(t){this.showWitchItem===t?this.showWitchItem=-1:this.showWitchItem=t},onNext(){if(!this.disable)if(void 0!==this.allTask[this.hdtlIndex])if(0!==this.hdtlIndex)if("aic-select-response"!==this.allTask[this.hdtlIndex].type&&"aic-select-start"!==this.allTask[this.hdtlIndex].type)this.hdtlIndex+=1,this.scrollToBottom();else{const{myanswer:t=""}=this.allTask[this.hdtlIndex];""!==t?(this.hdtlIndex+=1,this.scrollToBottom()):this.$message.error("Answer cannot be empty")}else{if(0===this.firstAudioIsPlayStatus&&this.$refs.audiol){const{audiol:t}=this.$refs;t.onPlay(),this.firstAudioIsPlayStatus=1}if(2===this.firstAudioIsPlayStatus){const{items:t}=this.allTask[this.hdtlIndex],e=t.every(t=>Boolean(t.myanswer));e?(this.hdtlIndex+=1,this.scrollToBottom()):this.$message.error("Answer cannot be empty")}}else this.hdtlIndex+=1},scrollToBottom(){this.$nextTick(()=>{const t=document.querySelector("#scrollhere"+this.hdtlIndex);if(t)t.scrollIntoView({behavior:"smooth"});else try{setTimeout(()=>{const t=document.querySelector(".rightContent");t&&(t.scrollTop+=2e3)},200)}catch(e){}})},onPlay(){this.pause2=!0,this.firstAudioIsPlayStatus=1},onEnded(){try{this.pause2=!1,1===this.firstAudioIsPlayStatus&&(this.firstAudioIsPlayStatus=2),"aic-comprehension"===this.allTask[this.hdtlIndex].type||"aic-select-response"===this.allTask[this.hdtlIndex].type?this.$set(this.allTask[this.hdtlIndex],"audio_played",!0):this.hdtlIndex+=1,this.scrollToBottom()}catch(t){return t}},onCountDownEnded(t){this.$store.commit("exam/upState",{timeTips:!0}),setTimeout(()=>{this.$store.commit("exam/upState",{timeTips:!1})},1e3),1===t?this.hdtlIndex=this.allTask.length+1:this.onSubmit()},async onSubmit(){const t=[];this.allTask.forEach(e=>{"aic-comprehension"===e.type?t.push(e.items.map(t=>t.myanswer)):("aic-select-start"===e.type||"aic-select-response"===e.type)&&t.push(e.myanswer)}),t.push(this.Summarize),await this.$store.commit("exam/upState",{answer:t}),this.$emit("next"),this.allTask[0].audio_played=!1},getTemplateParts(t){if(!t)return[];const e=t.split("{}"),s=[];return e[0]&&s.push({text:e[0],isInput:!1}),e.length>1&&s.push({isInput:!0}),e[1]&&s.push({text:e[1],isInput:!1}),s}}},Ke=Fe,Ve=(s("9efc"),s("2030"),Object(h["a"])(Ke,pe,me,!1,null,"4577fbbd",null)),Xe=Ve.exports,ts=function(){var t=this,e=t._self._c;return t.allTask.length?e("div",{staticClass:"topic-b-test"},[e("div",{staticClass:"countDonwl"},[t.isShowPrepDom?e("count-down",{key:""+t.question.id,attrs:{id:`${t.question.id}${t.hdkyIndex}`,desc:"to prepare",duration:t.topic.prepare,"topic-key":t.topic.key,pause:t.pausefather||t.pause2},on:{onEnded:t.onPrepEnded}}):e("count-down",{key:t.question.id+"ddd",attrs:{id:`${t.question.id}${t.hdkyIndex}`,desc:"to speak",duration:t.topic.duration,"topic-key":t.topic.key,pause:t.pausefather||t.pause2},on:{onEnded:t.onCountDownEnded}})],1),e("div",{staticClass:"content"},[e("div",{class:"right topiclRight"},[e("div",{staticClass:"rightContent"},[e("div",{staticClass:"max_width_content"},[t.isShowPrepDom?e("div",{staticClass:"prep_dom"},[e("div",{staticClass:"prep_font1"},[t._v("Prepare to have a conversation")]),e("div",{staticClass:"prep_font2"},[t._v(" You will listen to "+t._s(t.allTask.length)+" questions and have 35 seconds to answer each. ")]),e("div",{staticClass:"prep_img"},[e("el-image",{attrs:{src:t.readingImg}})],1)]):t._e(),t.isShowPrepDom?t._e():e("div",t._l(t.allTask,(function(s,i){return e("div",{key:"onetest"+i,staticClass:"onetest_dom"},[t.hdkyIndex===i?[e("div",{class:"question_dom question_dom_center"},[e("div",{staticClass:"question_title"},[t._v(" "+t._s(s.audio_played?"Record your answer":"Listen to the question")+" ")]),e("Audio5",{key:t.question.id+"a"+i,ref:"audio5",refInFor:!0,attrs:{disabled:s.audio_played,src:t.prusmp3Topic5UrlGet(s.auto_text),autoplay:"b"===t.question.key},on:{onPlay:t.onPlay,onEnded:t.onEnded}})],1)]:t._e()],2)})),0)]),e("div",{attrs:{id:"scrollBottom"}})])])]),t.exam?t._e():e("div",{staticClass:"btnGroup"},[t.recording?[t.recording?e("div",{staticClass:"recording"},[e("div",{staticClass:"point"}),e("div",{staticClass:"text"},[t._v(" Recording... ")]),e("div",{staticClass:"duration"},[t._v(t._s(t.durationText))])]):t._e()]:[e("div")],e("div",{staticStyle:{display:"flex",gap:"12px"}},[[t.loading?e("div",{staticClass:"loadingBtn"},[t._m(0)]):t.hdkyIndex<t.allTask.length+1?e("el-button",{class:"btn "+(t.disable?"disable":""),on:{click:t.onNext}},[t._v(" "+t._s(0===t.hdkyIndex&&t.isShowPrepDom||t.recording?"CONTINUE":"RECORD NOW")+" ")]):t._e()]],2)],2)]):t._e()},es=[function(){var t=this,e=t._self._c;return e("span",{staticClass:"loadingPoint"},[e("i"),e("i"),e("i")])}],ss=s("51d5");const is=Object(C["Bb"])("exam/arrow_up.svg"),ns=Object(C["Bb"])("exam/arrow_down.svg"),as=Object(C["Bb"])("image/next.svg"),os=Object(C["Bb"])("image/prev.svg"),rs=(Object(C["Cb"])("image/reading.svg"),Object(C["Cb"])("image/readingi18n.svg"));var cs={components:{Audio5:Le,CountDown:We},props:{question:Object,topic:Object,exam:Boolean,displayOrder:Number,total:Number,pausefather:Boolean},data(){const t=Object(b["i"])("sampleRate"),e=new W.a({type:"wav",sampleRate:t?(Q["a"].find(e=>e.key===t)||Q["a"][0]).value:Q["a"][0].value,bitRate:16});return{lab_icon:ss["a"],readingImg:rs,fileUrlGet:C["w"],arrow_up:is,arrow_down:ns,hdkyIndex:0,staticUrlGet:C["Cb"],prusmp3Topic5UrlGet:C["jb"],pause2:!1,nextImg:as,prevImg:os,showWitchItem:-1,allTask:[],firstAudioIsPlayStatus:0,isShowPrepDom:!0,recorderManager:e,recording:!1,duration:0,timmer:null,uploadLoading:!1}},computed:{...Object(a["mapState"])("app",{user(t){const{user:e}=t;return e}}),isMobile(){return this.$store.state.app.isMobile},loading(){return this.$store.state.exam.loading||this.uploadLoading},titles(){return this.question.title?JSON.parse(this.question.title)[1]:[]},disable(){var t;return this.pause2||(0===this.hdkyIndex&&!this.isShowPrepDom||0!==this.hdkyIndex)&&!(null!==(t=this.allTask[this.hdkyIndex])&&void 0!==t&&t.audio_played)},durationText(){if(!this.duration)return"00:00.00";const t=("0"+this.duration%1e3).slice(-3).substring(0,2),e=("0"+parseInt(this.duration/1e3,10)%60).slice(-2),s=("0"+parseInt(parseInt(this.duration/1e3,10)/60,10)).slice(-2);return`${s}:${e}.${t}`}},watch:{"question.id":{handler(t,e){t&&t!==e&&("b"===this.question.key&&(this.allTask=JSON.parse(this.question.title)),clearInterval(this.timmer))},immediate:!0,deep:!0}},beforeDestroy(){this.recording&&this.stopRecording()},methods:{setChoicesMyAnswer(t,e){ve.a.set(e,"myanswer",t)},changeshowWitchItem(t){this.showWitchItem===t?this.showWitchItem=-1:this.showWitchItem=t},startRecording(){this.recording=!0,this.recorderManager.open(async()=>{this.recorderManager.start(),this.timmer=setInterval(()=>{this.duration+=20,this.duration>=35e3&&this.onStop()},20)},(t,e)=>{this.recording=!1,this.duration=0,clearInterval(this.timmer),e||this.$message.error(""+this.$t("componentrecorder.nouse"))})},async stopRecording(){this.duration<1||(this.uploadLoading=!0,this.pause2=!0,this.recorderManager.stop(async t=>{clearInterval(this.timmer),this.recording=!1,this.duration=0;const e=new File([t],Date.now()+".wav",{type:"audio/wav"});this.recorderManager.close();const s=new FormData;s.append("file",e);const{data:i}=await Object(C["Jb"])(s);this.allTask[this.hdkyIndex].myanswer=i,this.hdkyIndex++,this.hdkyIndex===this.allTask.length?this.onSubmit():this.$nextTick(()=>{this.pause2=!1;const t=this.$refs.audio5;t&&t[0]&&setTimeout(()=>{t[0].handleClick()},1e3)}),this.uploadLoading=!1}))},onNext(){var t;if(!this.disable)return this.isShowPrepDom?(this.isShowPrepDom=!1,void this.$nextTick(()=>{const t=this.$refs.audio5;t&&t[0]&&setTimeout(()=>{t[0].handleClick()},1e3)})):void(this.recording?this.stopRecording():null!==(t=this.allTask[this.hdkyIndex])&&void 0!==t&&t.audio_played?this.startRecording():(this.hdkyIndex+=1,this.$nextTick(()=>{const t=this.$refs.audio5;t&&t[0]&&setTimeout(()=>{t[0].handleClick()},1e3)}),this.scrollToBottom()))},scrollToBottom(){try{setTimeout(()=>{const t=document.querySelector(".rightContent");t&&(t.scrollTop+=2e3)},200)}catch(t){}},onPlay(){this.pause2=!0},onEnded(){this.pause2=!1,this.allTask[this.hdkyIndex]&&(this.allTask[this.hdkyIndex].audio_played=!0),this.scrollToBottom()},onCountDownEnded(){if(this.recording)return this.$store.commit("exam/upState",{timeTips:!0}),setTimeout(()=>{this.$store.commit("exam/upState",{timeTips:!1})},1e3),void this.stopRecording();this.hdkyIndex++,this.$nextTick(()=>{const t=this.$refs.audio5;t&&t[0]&&setTimeout(()=>{t[0].handleClick()},1e3)}),this.$store.commit("exam/upState",{timeTips:!0}),setTimeout(()=>{this.$store.commit("exam/upState",{timeTips:!1})},1e3),this.hdkyIndex===this.allTask.length&&this.onSubmit()},onPrepEnded(){this.isShowPrepDom=!1,this.$nextTick(()=>{const t=this.$refs.audio5;t&&t[0]&&setTimeout(()=>{t[0].handleClick()},1e3)})},async onSubmit(){const t=[];this.allTask.forEach(e=>{e.audio_played=!1,t.push(e.myanswer)}),await this.$store.commit("exam/upState",{answer:t}),await this.$emit("next")}}},ls=cs,ds=(s("a7c2"),s("d8c5"),Object(h["a"])(ls,ts,es,!1,null,"41a098d6",null)),us=ds.exports,hs=function(){var t=this,e=t._self._c;return e("div",{staticClass:"common_start_page"},[e("div",{staticClass:"content"},[e("div",{staticClass:"section"},t._l(8,(function(s,i){return e("div",{key:i,staticClass:"box",class:{left:0===i,right:7===i,over:i+1<t.question.section,active:i+1===t.question.section}},[i+1===parseInt(t.question.section)?e("div",{staticClass:"sectionLabel"},[e("div",{staticClass:"content"},[t._v("SECTION "+t._s(t.question.section))]),t._m(0,!0)]):t._e(),i+1<parseInt(t.question.section)?e("div",{staticClass:"white"}):t._e()])})),0),e("h1",{staticClass:"title"},[t._v(t._s(t.question.title))]),t.question.subtitle?e("div",{staticClass:"subtitle"},[t._v(" "+t._s(t.question.subtitle))]):t._e(),e("div",{staticClass:"footer"},[e("div",{staticClass:"box left"},[e("div",{staticClass:"top"},[t._v(t._s(t.question.questionSubtitle))]),e("div",{staticClass:"bottom"},[t._v(t._s(t.question.questionText))])]),e("div",{staticClass:"box"},[e("div",{staticClass:"top"},[t._v(t._s(t.question.timeSubtitle))]),e("div",{staticClass:"bottom"},[t._v(t._s(t.question.timeText))])])])])])},ps=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"triangle"},[e("div",{staticClass:"item"})])}],ms={props:{question:Object},data(){return{staticPcUrlGet:C["Bb"]}}},gs=ms,vs=(s("7bca"),Object(h["a"])(gs,hs,ps,!1,null,"5cc18c27",null)),ws=vs.exports,ys={components:{Topic2:D,Topic3p:A,Topic4a9ce:nt,Topic7:dt,Topicn:yt,Topic8d:It,Topic6:Nt,Topici:Bt,Topicl:oe,Topicq:he,Topic5:Xe,Topicb:us,CommonStartPage:ws},props:{question:Object,topic:Object,pause:Boolean,prepareEnded:Boolean},methods:{reset(){this.$emit("reset")},next(){this.$emit("next")},onSubmit(){this.$emit("onSubmit")},onPlay(){this.$emit("onPlay")},onEnded(){this.$emit("onEnded")},onPrepareEnded(){this.$emit("onPrepareEnded")},onLoad(){this.$emit("load")},recorderStop(){this.$refs.topic4a9ce.recorderStop()}}},xs=ys,_s=Object(h["a"])(xs,g,v,!1,null,null,null),Cs=_s.exports;const bs=Object(C["Bb"])("exam/duolingo.svg"),fs=Object(C["Bb"])("exam/ended.png");var Is={components:{Question:Cs,CountDown:m},data(){return{examId:this.$route.query.id,pause:!1,rightTopBtnPause:!1,duolingoImg:bs,percent:0,loadingTimmer:null,prepareEnded:!1,duration:0,endedImg:fs,loaded:!0,examPlan:{},pickerOptions:{disabledDate(t){return t.getTime()<Date.now()}},onOkDebounce:r.a.debounce(this.onOk,300),onNextDebounce:r.a.debounce(this.onNext,500)}},computed:{...Object(a["mapState"])({question:t=>{const{exam:{question:e}}=t;return e},answer:t=>{const{exam:{answer:e}}=t;return e},ended:t=>{const{exam:{ended:e}}=t;return e},loading:t=>{const{exam:{loading:e}}=t;return e},timeTips:t=>{const{exam:{timeTips:e}}=t;return e},recording:t=>{const{exam:{recording:e}}=t;return e},topics(t){const{app:{topics:e}}=t;return e},target(t){const{app:{target:e}}=t;return e}}),topic(){return this.question.key?this.topics.find(t=>t.key===this.question.key):this.question.prepare?{duration:this.question.prepare.duration}:{}},enable(){switch(this.question.key){case"2":case"6":return Boolean(this.answer);case"d":return Boolean(this.answer);case"3":case"p":case"7":return this.answer&&this.answer.length;case"i":case"l":return!0;default:return!0}},hideFooter(){return["i","l","4","a","9","c","e","n","q","5","b"].includes(this.question.key)},loadingBg(){return this.percent<50?`linear-gradient(90deg,\n      rgb(230, 230, 230) 50%,\n      rgba(0, 0, 0, 0) 50%,\n      rgba(0, 0, 0, 0)),\n      linear-gradient(${90+360*this.percent/100}deg,\n      rgb(204, 204, 204) 50%,\n      rgb(230, 230, 230) 50%,\n      rgb(230, 230, 230))`:`linear-gradient(${90+360*this.percent/100}deg,\n      rgb(204, 204, 204) 50%,\n      rgba(0, 0, 0, 0) 50%,\n      rgba(0, 0, 0, 0)),\n      linear-gradient(270deg,\n      rgb(204, 204, 204) 50%,\n      rgb(230, 230, 230) 50%,\n      rgb(230, 230, 230))`},btnText(){return"CONTINUE"},desc(){return["4","9","a","c","e"].includes(this.question.key)?"to speak":["8","d"].includes(this.question.key)?"to write":["n","2","3","6","p"].includes(this.question.key)?"for this question":null}},watch:{question:{handler(t){this.pause=!1,t&&t.key&&(this.prepareEnded=!1,["6","a"].includes(t.key)?this.loaded=!1:this.loaded=!0),t&&t.prepare&&(this.prepareEnded=!0,this.loaded=!0)},deep:!0},"$route.query.id":{handler(t){t&&(this.percent=0,this.examId=this.$route.query.id,this.$store.commit("exam/upState",{examId:this.examId}),this.$store.dispatch("exam/examQuestionGet",{examId:this.examId}))},deep:!0,immediate:!0},loading:{handler(t){this.loadingTimmer&&clearInterval(this.loadingTimmer),t?(this.percent=0,this.loadingTimmer=setInterval(()=>{const t=this.percent+10*r.a.random(1,3);this.percent=t>=100?this.percent:t},2e3*Math.random())):this.percent=100},deep:!0,immediate:!0},answer:{handler(t){t&&(this.prepareEnded=!0)}},target:{handler(t){this.examPlan={score:t.score,planTime:t.planTime}},deep:!0,immediate:!0}},beforeDestroy(){this.$store.commit("exam/upState",{ended:!1})},methods:{examQuestionNext(t={}){this.loading||(this.pause=!0,this.question.prepare?this.$store.dispatch("exam/skipPrepare"):this.$store.dispatch("exam/examQuestionNext",{examId:this.examId,...t}))},onEnded(){this.loading||(this.question.key&&(this.$store.commit("exam/upState",{timeTips:!0}),setTimeout(()=>{this.$store.commit("exam/upState",{timeTips:!1})},1e3)),["4","a","9","c","e"].includes(this.question.key)?this.$refs.question.recorderStop():this.examQuestionNext({next:"1"}))},onProcess(t){this.duration=t},onPrepareEnded(){this.prepareEnded=!0},onNext(){this.loading||this.enable&&(this.pause?this.$message.error(""+this.$t("topicInfo.testStop")):(this.prepareEnded=!1,this.examQuestionNext({next:"1"})))},async onOk(){return this.examPlan.score?this.examPlan.planTime?(await this.$store.dispatch("exam/examEnd",{...this.examPlan,examId:this.examId}),void this.$router.back()):this.$message.error(""+this.$t("viewExamPractice.qingshurutime")):this.$message.error(""+this.$t("viewExamPractice.shuru1"))},onReform(){this.$store.dispatch("exam/examStart")},onPause(){this.recording?this.$message.error(""+this.$t("viewExamPractice.luyingzhong")):(this.pause=!this.pause,this.rightTopBtnPause=!this.rightTopBtnPause,this.pause&&this.$alert(""+this.$t("viewExamPractice.testStop"),""+this.$t("componentCountModal.tishi2"),{confirmButtonText:""+this.$t("exam.examRecord.continueButton2"),showClose:!1,confirmButtonClass:"examPrimaryColor",closeOnClickModal:!1,closeOnPressEscape:!1,center:!0,callback:t=>{"confirm"===t&&(this.pause=!this.pause,this.rightTopBtnPause=!this.rightTopBtnPause)}}))},onQuit(){this.$confirm(""+this.$t("viewExamPractice.suretuichu"),""+this.$t("componentCountModal.tishi"),{confirmButtonText:""+this.$t("exam.examRecord.continueButton"),cancelButtonText:""+this.$t("viewExamPractice.tuichutest"),confirmButtonClass:"examPrimaryColor",cancelButtonClass:"examCancelColor",showClose:!1,closeOnClickModal:!1,closeOnPressEscape:!1}).then(()=>{}).catch(()=>{this.$router.back()})},onLoad(){this.loaded=!0}}},ks=Is,Ts=(s("4c0e"),s("9750"),Object(h["a"])(ks,i,n,!1,null,"29fe107e",null));e["default"]=Ts.exports},"368f":function(t,e,s){},"37c7":function(t,e,s){"use strict";s("8afd")},"38f6":function(t,e,s){},"474b":function(t,e,s){"use strict";s("afc3")},"49db":function(t,e,s){"use strict";s("5ef2")},"4c0e":function(t,e,s){"use strict";s("e2fb")},"4e4f":function(t,e,s){},5387:function(t,e,s){},"5de1":function(t,e,s){"use strict";s("cedc")},"5ef2":function(t,e,s){},"627c":function(t,e,s){"use strict";s("b3fb")},6719:function(t,e,s){"use strict";s("368f")},"6acd":function(t,e,s){},"7bca":function(t,e,s){"use strict";s("4e4f")},"7fa5":function(t,e,s){},8252:function(t,e,s){},8299:function(t,e,s){},8404:function(t,e,s){},"8afd":function(t,e,s){},"8bd1":function(t,e,s){},"933f":function(t,e,s){},9750:function(t,e,s){"use strict";s("1bca")},"9bc0":function(t,e,s){"use strict";s("d2ea")},"9efc":function(t,e,s){"use strict";s("c8d4")},a7c2:function(t,e,s){"use strict";s("8bd1")},afc3:function(t,e,s){},b3fb:function(t,e,s){},c195:function(t,e,s){"use strict";s("f91d")},c2f2:function(t,e,s){},c8d4:function(t,e,s){},cedc:function(t,e,s){},d2ea:function(t,e,s){},d3eb:function(t,e,s){},d3f9:function(t,e,s){"use strict";s("2b7c")},d8c5:function(t,e,s){"use strict";s("933f")},d9c5:function(t,e,s){"use strict";s("8252")},db65:function(t,e,s){"use strict";s("c2f2")},e0b6:function(t,e,s){},e2fb:function(t,e,s){},e420:function(t,e,s){"use strict";s("38f6")},f91d:function(t,e,s){},fd0f:function(t,e,s){"use strict";s("8299")},fec4:function(t,e,s){"use strict";s("6acd")}}]);